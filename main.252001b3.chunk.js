(this["webpackJsonpnetmaker-ui"]=this["webpackJsonpnetmaker-ui"]||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t),n.d(t,"setShouldLogout",(function(){return a})),n.d(t,"setNodeSort",(function(){return r})),n.d(t,"getNodes",(function(){return s})),n.d(t,"updateNode",(function(){return i})),n.d(t,"getExternalClients",(function(){return o})),n.d(t,"getExternalClientConf",(function(){return l})),n.d(t,"createExternalClient",(function(){return d})),n.d(t,"deleteExternalClient",(function(){return j})),n.d(t,"updateExternalClient",(function(){return u})),n.d(t,"clearQr",(function(){return b})),n.d(t,"createRelayNode",(function(){return m})),n.d(t,"deleteRelayNode",(function(){return x})),n.d(t,"createEgressNode",(function(){return h})),n.d(t,"deleteEgressNode",(function(){return p})),n.d(t,"deleteNode",(function(){return O})),n.d(t,"approveNode",(function(){return f})),n.d(t,"createIngressNode",(function(){return g})),n.d(t,"deleteIngressNode",(function(){return y}));var c=n(11),a=Object(c.createAction)("setShouldLogout")(),r=Object(c.createAction)("setNodeSort")(),s=Object(c.createAsyncAction)("Node_getNodes_Request","Node_getNodes_Success","Node_getNodes_Failure")(),i=Object(c.createAsyncAction)("Node_updateNode_Request","Node_updateNode_Success","Node_updateNode_Failure")(),o=Object(c.createAsyncAction)("Node_getExternalClients_Request","Node_getExternalClients_Success","Node_getExternalClients_Failure")(),l=Object(c.createAsyncAction)("Node_getExternalClientConf_Request","Node_getExternalClientConf_Success","Node_getExternalClientConf_Failure")(),d=Object(c.createAsyncAction)("Node_createExternalClient_Request","Node_createExternalClient_Success","Node_createExternalClient_Failure")(),j=Object(c.createAsyncAction)("Node_deleteExternalClient_Request","Node_deleteExternalClient_Success","Node_deleteExternalClient_Failure")(),u=Object(c.createAsyncAction)("Node_updateExternalClient_Request","Node_updateExternalClient_Success","Node_updateExternalClient_Failure")(),b=Object(c.createAction)("clearQR")(),m=Object(c.createAsyncAction)("Node_createRelayNode_Request","Node_createRelayNode_Success","Node_createRelayNode_Failure")(),x=Object(c.createAsyncAction)("Node_deleteRelayNode_Request","Node_deleteRelayNode_Success","Node_deleteRelayNode_Failure")(),h=Object(c.createAsyncAction)("Node_createEgressNode_Request","Node_createEgressNode_Success","Node_createEgressNode_Failure")(),p=Object(c.createAsyncAction)("Node_deleteEgressNode_Request","Node_deleteEgressNode_Success","Node_deleteEgressNode_Failure")(),O=Object(c.createAsyncAction)("Node_deleteNode_Request","Node_deleteNode_Success","Node_deleteNode_Failure")(),f=Object(c.createAsyncAction)("Node_approveNode_Request","Node_approveNode_Success","Node_approveNode_Failure")(),g=Object(c.createAsyncAction)("Node_createIngressNode_Request","Node_createIngressNode_Success","Node_createIngressNode_Failure")(),y=Object(c.createAsyncAction)("Node_deleteIngressNode_Request","Node_deleteIngressNode_Success","Node_deleteIngressNode_Failure")()},214:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var c=n(21),a=n(11),r=n(12),s=n(59),i=Object(a.createReducer)({nodes:[],isFetching:!1,externalClients:[],isFetchingClients:!1,qrData:"",shouldSignOut:"",nodeSort:{value:"name",ascending:!0}}).handleAction(r.setShouldLogout,(function(e,t){return Object(c.a)(e,(function(e){e.shouldSignOut=t.payload}))})).handleAction(r.getNodes.request,(function(e,t){return Object(c.a)(e,(function(e){e.isFetching=!0}))})).handleAction(r.getExternalClients.request,(function(e,t){return Object(c.a)(e,(function(e){e.isFetchingClients=!0}))})).handleAction(r.setNodeSort,(function(e,t){return Object(c.a)(e,(function(e){e.nodeSort=t.payload;var n=t.payload,c=n.value,a=n.ascending;e.nodes=e.nodes.sort((function(e,t){return e[c].localeCompare(t[c])})),a||(e.nodes=e.nodes.reverse())}))})).handleAction(r.getNodes.success,(function(e,t){return Object(c.a)(e,(function(n){if(t.payload&&t.payload.length){n.nodes=t.payload.map(s.b);var c=e.nodeSort,a=c.value,r=c.ascending;n.nodes=n.nodes.sort((function(e,t){return e[a]===t[a]?"".concat(e[a]).concat(e.id).localeCompare("".concat(t[a]).concat(t.id)):e[a].localeCompare(t[a])})),r||(n.nodes=n.nodes.reverse())}else n.nodes=[];n.isFetching=!1}))})).handleAction(r.getExternalClients.success,(function(e,t){return Object(c.a)(e,(function(e){e.externalClients=t.payload||[],e.isFetchingClients=!1}))})).handleAction(r.getNodes.failure,(function(e,t){return Object(c.a)(e,(function(e){e.nodes=[],e.isFetching=!1,t.payload&&t.payload.message&&t.payload.message.includes("status code 401")&&(e.shouldSignOut="auth")}))})).handleAction(r.updateNode.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.nodes.findIndex((function(e){return e.id===t.payload.id}));if(~n){var c=Object(s.b)(t.payload);if(c.ishub&&e.nodes[n].ishub!==c.ishub)for(var a=0;a<e.nodes.length;a++)a!==n&&e.nodes[a].network===c.network&&(e.nodes[a].ishub=!1);e.nodes[n]=c}}))})).handleAction(r.deleteNode.success,(function(e,t){return Object(c.a)(e,(function(e){~e.nodes.findIndex((function(e){return e.id===t.payload.nodeid}))&&(e.nodes=e.nodes.filter((function(e){return e.id!==t.payload.nodeid})))}))})).handleAction(r.approveNode.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.nodes.findIndex((function(e){return e.id===t.payload.nodeid}));~n&&(e.nodes[n].ispending="no")}))})).handleAction(r.createEgressNode.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.nodes.findIndex((function(e){return e.id===t.payload.id}));~n&&(e.nodes[n]=Object(s.b)(t.payload))}))})).handleAction(r.deleteEgressNode.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.nodes.findIndex((function(e){return e.id===t.payload.id}));~n&&(e.nodes[n]=Object(s.b)(t.payload))}))})).handleAction(r.createIngressNode.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.nodes.findIndex((function(e){return e.id===t.payload.id}));~n&&(e.nodes[n]=Object(s.b)(t.payload))}))})).handleAction(r.deleteIngressNode.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.nodes.findIndex((function(e){return e.id===t.payload.id}));~n&&(e.nodes[n]=Object(s.b)(t.payload),e.externalClients=e.externalClients.filter((function(t){return!(t.ingressgatewayid===e.nodes[n].id&&t.network===e.nodes[n].network)})))}))})).handleAction(r.createRelayNode.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.nodes.findIndex((function(e){return e.id===t.payload.id}));~n&&(e.nodes[n]=Object(s.b)(t.payload))}))})).handleAction(r.deleteRelayNode.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.nodes.findIndex((function(e){return e.id===t.payload.id}));~n&&(e.nodes[n]=Object(s.b)(t.payload))}))})).handleAction(r.getExternalClients.failure,(function(e,t){return Object(c.a)(e,(function(e){e.externalClients=[],e.isFetchingClients=!1}))})).handleAction(r.getExternalClientConf.success,(function(t,n){return Object(c.a)(t,(function(t){"file"===n.payload.type?Object(s.a)("".concat(n.payload.filename,".conf"),n.payload.data):t.qrData="data:image/png;base64,"+e.from(n.payload.data).toString("base64")}))})).handleAction(r.deleteExternalClient.success,(function(e,t){return Object(c.a)(e,(function(e){~e.externalClients.findIndex((function(e){return e.clientid===t.payload.clientid}))&&(e.externalClients=e.externalClients.filter((function(e){return e.clientid!==t.payload.clientid})))}))})).handleAction(r.clearQr,(function(e,t){return Object(c.a)(e,(function(e){e.qrData=""}))})).handleAction(r.updateExternalClient.success,(function(e,t){return Object(c.a)(e,(function(e){var n=e.externalClients.findIndex((function(e){return e.clientid===t.payload.previousId}));~n&&(e.externalClients[n]=t.payload.client)}))}))}).call(this,n(327).Buffer)},234:function(e){e.exports=JSON.parse('{"a":"v0.17.0"}')},299:function(e,t,n){},300:function(e,t,n){},342:function(e,t,n){},388:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"setUser",(function(){return M})),n.d(c,"setUserSettings",(function(){return D})),n.d(c,"setAuthError",(function(){return P})),n.d(c,"logout",(function(){return W})),n.d(c,"getAllUsers",(function(){return _})),n.d(c,"getUser",(function(){return F})),n.d(c,"login",(function(){return q})),n.d(c,"hasAdmin",(function(){return U})),n.d(c,"createAdmin",(function(){return K})),n.d(c,"createUser",(function(){return L})),n.d(c,"deleteUser",(function(){return G})),n.d(c,"updateUser",(function(){return V})),n.d(c,"updateUserNetworks",(function(){return B}));var a={};n.r(a),n.d(a,"getToken",(function(){return le})),n.d(a,"getUser",(function(){return de})),n.d(a,"getLoggedIn",(function(){return je})),n.d(a,"isLogginIn",(function(){return ue})),n.d(a,"hasAdmin",(function(){return be})),n.d(a,"isCreating",(function(){return me})),n.d(a,"getUsers",(function(){return xe})),n.d(a,"hasNetworkError",(function(){return he})),n.d(a,"getAuthError",(function(){return pe})),n.d(a,"getUserSettings",(function(){return Oe})),n.d(a,"isInDarkMode",(function(){return fe}));var r={};n.r(r),n.d(r,"toast",(function(){return Me}));var s={};n.r(s),n.d(s,"clearTempKey",(function(){return bt})),n.d(s,"setTempKey",(function(){return mt})),n.d(s,"getNetworks",(function(){return xt})),n.d(s,"updateNetwork",(function(){return ht})),n.d(s,"deleteNetwork",(function(){return pt})),n.d(s,"createNetwork",(function(){return Ot})),n.d(s,"createAccessKey",(function(){return ft})),n.d(s,"getAccessKeys",(function(){return gt})),n.d(s,"getDnsEntries",(function(){return yt})),n.d(s,"createDnsEntry",(function(){return vt})),n.d(s,"deleteDnsEntry",(function(){return wt})),n.d(s,"deleteAccessKey",(function(){return kt})),n.d(s,"refreshPublicKeys",(function(){return Ct}));var i={};n.r(i),n.d(i,"getUserGroups",(function(){return Et})),n.d(i,"createUserGroup",(function(){return Tt})),n.d(i,"deleteUserGroup",(function(){return Rt})),n.d(i,"getNetworkUsers",(function(){return Mt})),n.d(i,"deleteNetworkUser",(function(){return Dt})),n.d(i,"updateNetworkUser",(function(){return Pt})),n.d(i,"getNetworkUserData",(function(){return Wt})),n.d(i,"proCreateAccessKey",(function(){return _t})),n.d(i,"clearCurrentAccessKey",(function(){return Ft})),n.d(i,"setCurrentAccessKey",(function(){return qt}));var o={};n.r(o),n.d(o,"isFetchingNetworks",(function(){return hn})),n.d(o,"getNetworks",(function(){return pn})),n.d(o,"getDnsEntries",(function(){return On})),n.d(o,"getTempKey",(function(){return fn}));var l={};n.r(l),n.d(l,"isFetchingNodes",(function(){return ac})),n.d(l,"getNodes",(function(){return rc})),n.d(l,"getExtClients",(function(){return sc})),n.d(l,"getCurrentQrCode",(function(){return ic})),n.d(l,"getShouldSignOut",(function(){return oc})),n.d(l,"getNodeSort",(function(){return lc}));var d={};n.r(d),n.d(d,"getServerConfig",(function(){return bc})),n.d(d,"getServerLogs",(function(){return mc})),n.d(d,"getNodeMetrics",(function(){return xc})),n.d(d,"getMetrics",(function(){return hc})),n.d(d,"getNetworkMetrics",(function(){return pc})),n.d(d,"getExtMetrics",(function(){return Oc})),n.d(d,"clearCurrentMetrics",(function(){return fc}));var j={};n.r(j),n.d(j,"getServerConfig",(function(){return vc})),n.d(j,"isFetchingServerConfig",(function(){return wc})),n.d(j,"getServerLogs",(function(){return kc})),n.d(j,"getNodeMetrics",(function(){return Cc})),n.d(j,"getAttempts",(function(){return Sc})),n.d(j,"hasFetchedNodeMetrics",(function(){return Ac})),n.d(j,"getNetworkExtMetrics",(function(){return Nc})),n.d(j,"getNodeMetric",(function(){return Ic})),n.d(j,"getNetworkMetrics",(function(){return Ec})),n.d(j,"isFetchingClientMetrics",(function(){return Tc}));var u={};n.r(u),n.d(u,"routerPush",(function(){return Zc})),n.d(u,"routerPop",(function(){return Qc})),n.d(u,"routerReplace",(function(){return Jc})),n.d(u,"routerActions",(function(){return Xc}));var b={};n.r(b),n.d(b,"getNodeACLContainer",(function(){return na})),n.d(b,"updateNodeContainerACL",(function(){return ca})),n.d(b,"updateNodeACL",(function(){return aa})),n.d(b,"clearCurrentACL",(function(){return ra}));var m={};n.r(m),n.d(m,"isProcessing",(function(){return ma})),n.d(m,"getCurrentACL",(function(){return xa}));var x={};n.r(x),n.d(x,"isProcessing",(function(){return Pa})),n.d(x,"userGroups",(function(){return Wa})),n.d(x,"networkUsers",(function(){return _a})),n.d(x,"networkUserData",(function(){return Fa})),n.d(x,"getNetworkUserNetworks",(function(){return qa})),n.d(x,"getCurrentAccessKey",(function(){return Ua})),n.d(x,"isCreatingGroup",(function(){return Ka}));var h,p=n(1),O=n.n(p),f=n(73),g=n.n(f),y=(n(299),n(300),n(301),n(99)),v=n(561),w=n(264),k=n(125),C="#119da4",S="#fd4c41",A="#110b35",N="#f5f5f5",I=Object(w.a)({status:{danger:k.a[500]},palette:{mode:"dark",primary:{main:C},secondary:{main:S},common:{black:A,white:N}}}),E=Object(w.a)({palette:{mode:"light",primary:{main:C},secondary:{main:S},common:{black:A,white:N}},status:{danger:S}}),T=n(3),R=n(11),M=Object(R.createAction)("setUser")(),D=Object(R.createAction)("setUserSettings")(),P=Object(R.createAction)("setAuthError")(),W=Object(R.createAction)("logout")(),_=Object(R.createAsyncAction)("api_getAllUsers_Request","api_getAllUsers_Success","api_getAllUsers_Failure")(),F=Object(R.createAsyncAction)("api_getUser_Request","api_getUser_Success","api_getUser_Failure")(),q=Object(R.createAsyncAction)("api_login_Request","api_login_Success","api_login_Failure")(),U=Object(R.createAsyncAction)("api_hasAdmin_Request","api_hasAdmin_Success","api_hasAdmin_Failure")(),K=Object(R.createAsyncAction)("api_createAdmin_Request","api_createAdmin_Success","api_createAdmin_Failure")(),L=Object(R.createAsyncAction)("api_createUser_Request","api_createUser_Success","api_createUser_Failure")(),G=Object(R.createAsyncAction)("api_deleteUser_Request","api_deleteUser_Success","api_deleteUser_Failure")(),V=Object(R.createAsyncAction)("api_updateUser_Request","api_updateUser_Success","api_updateUser_Failure")(),B=Object(R.createAsyncAction)("api_updateUserNetworks_Request","api_updateUserNetworks_Success","api_updateUserNetworks_Failure")(),H=n(21),z=n(233),Y=n(84),Z=n(234),Q=window.REACT_APP_BACKEND||"http://localhost:8081",J=Q.includes("localhost"),X=(h=Z.a)?"v"===h.charAt(0)||"V"===h.charAt(0)?h:"v".concat(h):"latest",$="netmaker-user",ee="netmaker-settings",te=Y.get($),ne=Object(R.createReducer)({token:null===te||void 0===te?void 0:te.token,user:null===te||void 0===te?void 0:te.user,isLoggingIn:!1,hasAdmin:!1,isCreating:!1,users:[],networkError:!1,authError:!1,userSettings:{}}).handleAction(M,(function(e,t){return Object(H.a)(e,(function(e){e.user=t.payload}))})).handleAction(D,(function(e,t){return Object(H.a)(e,(function(e){e.userSettings=t.payload;var n=Y.get(ee);if(n){var c=n.userSettings.findIndex((function(e){return e.username===t.payload.username}));~c&&(n.userSettings[c]=t.payload,Y.set(ee,n))}else Y.set(ee,{userSettings:[t.payload]})}))})).handleAction(q.request,(function(e,t){return Object(H.a)(e,(function(e){e.isLoggingIn=!0}))})).handleAction(q.success,(function(e,t){return Object(H.a)(e,(function(e){e.token=t.payload.token,e.isLoggingIn=!1,e.networkError=!1;var n=Object(z.a)(t.payload.token);e.user={isAdmin:n.IsAdmin,name:n.UserName,networks:n.Networks,groups:n.Groups,exp:n.exp},e.authError=!1,Y.set($,{token:t.payload.token,user:e.user});var c=Y.get(ee);if(c&&c.userSettings.length&&e.user){var a=c.userSettings.filter((function(e){return e.username===n.UserName}))[0];e.userSettings=a&&a.mode?a:{rowsPerPage:10,username:n.UserName,mode:"dark"}}else Y.set(ee,{userSettings:[{rowsPerPage:10,username:n.UserName,mode:"dark"}]})}))})).handleAction(q.failure,(function(e,t){return Object(H.a)(e,(function(e){e.user=void 0,e.token=void 0,e.isLoggingIn=!1,Y.set($,void 0)}))})).handleAction(W,(function(e,t){return Object(H.a)(e,(function(e){e.user&&Date.now()/1e3>e.user.exp&&(e.authError=!0),e.user=void 0,e.token=void 0,Y.set($,void 0)}))})).handleAction(U.success,(function(e,t){return Object(H.a)(e,(function(e){e.hasAdmin=t.payload}))})).handleAction(U.failure,(function(e,t){return Object(H.a)(e,(function(e){e.hasAdmin=!1}))})).handleAction(K.request,(function(e,t){return Object(H.a)(e,(function(e){e.isCreating=!0}))})).handleAction(K.success,(function(e,t){return Object(H.a)(e,(function(e){e.hasAdmin=!0,e.isCreating=!1,e.networkError=!1}))})).handleAction(K.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isCreating=!1,t.payload.message.includes("Network Error")&&(e.networkError=!0)}))})).handleAction(_.success,(function(e,t){return Object(H.a)(e,(function(e){t.payload&&t.payload.length?e.users=t.payload.map((function(e){return{isAdmin:e.isadmin,name:e.username,networks:e.networks,groups:e.groups,exp:0}})):e.users=[]}))})).handleAction(L.success,(function(e,t){var n=t.payload;return Object(H.a)(e,(function(e){e.users.push({isAdmin:n.isadmin,name:n.username,exp:0,networks:n.networks,groups:[]})}))})).handleAction(G.success,(function(e,t){var n=t.payload;return Object(H.a)(e,(function(e){e.users=e.users.filter((function(e){return e.name!==n.username}))}))})).handleAction(B.success,(function(e,t){var n=t.payload;return Object(H.a)(e,(function(e){var t=e.users.findIndex((function(e){return e.name===n.username}));~t&&(e.users[t]={name:n.username,isAdmin:n.isadmin,networks:n.networks,groups:n.groups,exp:e.users[t].exp})}))})).handleAction(V.success,(function(e,t){var n=t.payload;return Object(H.a)(e,(function(e){var t=e.users.findIndex((function(e){return e.name===n.name}));~t&&(e.users[t]=n)}))})).handleAction(P,(function(e,t){var n=t.payload;return Object(H.a)(e,(function(e){e.authError=n}))})),ce=n(13),ae=n.n(ce),re=n(5),se=n(23),ie=n(28),oe=function(e){return e.auth},le=Object(ie.a)(oe,(function(e){return e.token})),de=Object(ie.a)(oe,(function(e){return e.user})),je=Object(ie.a)(oe,(function(e){return!!e.user&&Date.now()/1e3<e.user.exp})),ue=Object(ie.a)(oe,(function(e){return e.isLoggingIn})),be=Object(ie.a)(oe,(function(e){return e.hasAdmin})),me=Object(ie.a)(oe,(function(e){return e.isCreating})),xe=Object(ie.a)(oe,(function(e){return e.users})),he=Object(ie.a)(oe,(function(e){return e.networkError})),pe=Object(ie.a)(oe,(function(e){return e.authError})),Oe=Object(ie.a)(oe,(function(e){return e.userSettings})),fe=Object(ie.a)(oe,(function(e){return!e.userSettings.mode||"dark"===e.userSettings.mode})),ge=function(e){return e.api.axios},ye=n(187),ve=n(138),we={en:{translation:{pro:{logs:"Server Logs",refresh:"Refresh",metrics:"Metrics",admin:"Admin",admintools:"Admin Tools",nometrics:"No Metrics Available",choose:"Make Selection(s)",extmetrics:"External Client Metrics",metrickeys:{latency:"Latency (ms)",uptime:"Uptime",totaltime:"Duration",percentup:"Percent UP",connected:"Connected",totalsent:"Total Sent",totalreceived:"Total Received",syncmetrics:"Refresh Metrics",lessthanone:"< 1",datasent:"Data Sent",datareceived:"Data Received",peerconnections:"Peer Connections"},label:{usergroup:"User Group",usergroups:"User Groups",networkuser:"Network User",networkusers:"Network Users",selectnetwork:"Select Network",welcome:"Welcome ",welcomecard:"Please click to continue",networknumber:"Number of Networks available:",vpnaccess:"Remote Access",clientconfig:"Manage your client configuration",userpermissions:"User Permissions"},networkusers:{none:"No Network Users Found",deleteconfirm:"Are you sure you want to remove this network user?",accesslevel:"User Access Level",nodelimit:"Node Limit",clientlimit:"Client Limit",groups:"User Groups",nodes:"User Nodes",clients:"User Ext. Clients"},network:{defaultaccesslevel:"Default Access Level",defaultusernodelimit:"Default User Node Limit",defaultuserclientlimit:"Default User Client Limit",allowedusers:"Allowed Users",allowedgroups:"Allowed Groups",networkedit:"Edit Network",managenetwork:"Manage your network"},helpers:{accesslevel:" 0 - NET ADMIN, 1 - NODE/REMOTE ACCESS, 2 - REMOTE ACCESS, 3 - NO_ACCESS",usernodelimit:"The number of nodes a user may create on the network",userclientlimit:"Number of External Client configurations a user can create on a network if Ingress gateways present",failover:"This Indicates the node may be used by other nodes to route traffic automatically if unstable connections are detected",noclients:"There may be no clients."}},header:{login:"Login",logout:"Logout",docs:"Docs",networks:"Networks",nodes:"Nodes",accessKeys:"Access Keys",dns:"DNS",externalClients:"External clients",users:"Users",acls:"ACLs"},acls:{acls:"ACLs",nodes:"Node ACLs",nodeview:"View Node ACLs for",networkview:"Viewing ACLs on network",aclicon:"ACL Icon",nodeconfirm:"Confirm Node ACL Change",nodesconfirm:"Confirm Network ACL Change",viewall:"View All Rules",allowall:"Allow All",blockall:"Block All",fullname:"Access Control Lists"},accesskey:{accesskeys:"Access Keys",accesskey:"Access Key",create:"Create an Access Key",delete:"Delete Access Key",viewing:"Viewing Access Keys for",usesremaining:"Uses Remaining",none:"No Access Keys Found",name:"Name",uses:"Uses",deleteconfirm:"Are you sure you want to delete this access key?",details:"Viewing your Access Key Details",accessToken:"Access Token",installCommand:"Linux, FreeBSD, Mac",dockerrun:"Docker",windows:"Windows (PowerShell Admin)",clientjoin:"Client Join Commands",manual:"Manual Install",joincommand:"Join Command",clickinstall:"View Netclient Install Instructions",joinloginbasic:"Join via Basic Auth",joinloginoauth:"Join via SSO"},breadcrumbs:{home:"Home",networks:"Networks",nodes:"Nodes",edit:"Edit",accessKeys:"Access Keys",extClients:"Ext Clients",users:"Users",dns:"DNS",dashboard:"Dashboard",createegress:"Create Egress",createrelay:"Create Relay",graphs:"Graphs",acls:"ACLs",userdashboard:"User Dashboard",netadmindashboard:"Network Administrator Dashboard",nodeuserdashboard:"Node User Dashboard"},common:{disabled:"Disabled",notFound:"Not found",server:"Server",version:"Version",delete:"Delete",cancel:"Cancel",save:"Save",submit:"Submit",reset:"Reset",edit:"Edit",create:"Create",accept:"Accept",view:"View",autofill:"Autofill",manage:"Manage your",select:"Select",name:"Name",copy:"Copy",selectall:"Select All",count:"Count",search:"Search",pending:"pending",cidr:"Address Range (CIDR)",type:"Type",max:"Max",min:"Min",chars:"characters",lowercase:"lowercase",optional:"optional",submitchanges:"Submit Changes",loading:"Loading",confirmsubmit:"Please confirm you want to submit these changes",disable:"Disable",enable:"Enable",togglelite:"Use Light Mode",toggledark:"Use Dark Mode",copytext:"Copy",ascend:"Sort Ascending",descend:"Sort Descending ",sortby:"Sort by",disconnected:"Disconnected",clientsused:"Clients Used:",clientsavailable:"Clients Available:",connected:"Connected"},dashboard:{title:"Netmaker Dashboard"},dialog:{title:"Please confirm",deleteNetwork:"Are you sure you want to delete this network?",confirm:"Continue",cancel:"Cancel"},dns:{dns:"DNS",create:"Create DNS Entry",delete:"Delete DNS Entry",viewing:"Viewing DNS for",none:"No Entries Found",entry:"DNS Entry",deleteconfirm:"Are you sure you want to remove this DNS Entry?",title:"DNS",disabled:"DNS is disabled",default:"Default DNS Entries",custom:"Custom DNS Entries",address:"IP Address",name:"DNS Name",nodeaddress:"Node Address"},error:{notfound:"Looks like you have lost your way, Netmaker has a route for that!",noresults:"No results found",network:"Could not reach server",tokenexpire:"Session has expired",unauthorized:"Unauthorized access attempted",overload:"Too many failed requests, refresh to retry",name:"Invalid name. name can only include alphanumeric and dash characters"},extclient:{extclients:"External Clients",extclient:"Ext Client",create:"Create Ext Client",disabled:"You have reached your client limit",delete:"Delete Ext Client",viewing:"Viewing Ext Client",none:"No Ext Clients Found",name:"Name",deleteconfirm:"Are you sure you want to delete this Ext. Client?",changeconfirm:"Are you sure you want to change access for this Ext. Client?",download:"Download Client Configuration",viewqr:"View Configuration QR",clientid:"Client ID",qr:"QR Code",edit:"Change Ext Client Name",enabled:"Enabled"},ingress:{none:"No Ingress Gateways Found",add:"Add External Client",name:"Gateway Name",gateways:"Gateways",clients:"Clients",view:"View Attached Clients?"},network:{allowmanualsignup:"Allow Node Signup Without Keys",networks:"Networks",network:"Network",addressrange:"Address Range (IPv4)",addressrange6:"Address Range (IPv6)",localrange:"Local Range",nodeslastmodified:"Nodes Last Modified",networklastmodified:"Network Last Modified",defaultinterface:"Default Interface",defaultlistenport:"Default Listen Port",defaultpostup:"Default Postup",defaultpostdown:"Default Postdown",defaultkeepalive:"Default KeepAlive",checkininterval:"Default Checkin Interval",defaultextclientdns:"Default Ext Client DNS",defaultmtu:"Default MTU",isdualstack:"Is Dual Stack (IPv4 + IPv6)",ispointtosite:"Is Point to Site",defaultsaveconfig:"Default Saveconfig",accesskeys:"Access Keys",defaultudpholepunch:"UDP Hole Punching",defaultnatenabled:"Enable NAT for egress traffic",islocal:"Is Local Network",create:"Create Network",netid:"Network Name",deleteconfirm:"Are you sure you want to delete this network?",refresh:"Refresh public keys",details:"Network Details",refreshconfirm:"Are you sure you want to reset the public & private key pairs of all nodes on the network?",graphs:"Network Graphs",graphview:"Viewing Network Graph",graph:"Graph",commswarn:"Editing this network could cause your networks to lose consensus",none:"No Network Selected",defaultacl:"Default Access Control",isipv6:"IPv6",isipv4:"IPv4",validation:{ipv4:"Please enter a valid IPv4 address",ipv6:"Please enter a valid IPv6 address",accesslevel:"Value must be Between 0 and 3 see tooltip for more info",nodelimit:"Value must be 0 or greater",clientlimit:"Value must be 0 or greater",netidcheck:"Network ID must be less than 12 characters"}},helper:{egress:'Enter your network interface name, i.e. "eth0"',egressiface:'Find your interface on linux with "ip link show"',udpholepunching:"This can enhance connectivity in cases where NAT may block communication.",defaultnatenabled:"Enable NAT'ing if you wish traffic originating from your wireguard network to be source NAT'ed to the IP of the egess node",islocal:"Use if server is on same network (LAN) as you",ispointtosite:"Create a network in which all clients have only one, central peer",defaultacl:"Indicates the default ACL value for a node when it joins in respect to it's peers (enabled or disabled)",ipv4:"Adds private IPv4 to all nodes in a network",ipv6:"Adds private IPv6 to all nodes in a network",whatisipv4:"IPv4 address range",whatisipv6:"IPv6 address range",localrange:"Specifies the local range that nodes will base their Endpoint off of",defaultinterface:"The default network interface name configured on each node. This defaults to \u201cnm-<network name>\u201d",defaultlistenport:"Default WireGuard port each node will attempt to use. Nodes will iterate up until they find a free port.",defaultpostup:"Default post-up command to run on each node (after interface has been configured). Disabled by default to prevent RCE vulnerabilities.",defaultpostdown:"Default post-down command to run on each node (after interface has been removed). Disabled by default to prevent RCE vulnerabilities.",keepalive:"How often nodes should send packets to keep connection alive with all peers (in seconds)",extclient:"If set, adds a \u201cDNS=<value>\u201d line to each ext client config. Set to add DNS to clients",mtu:"Allows you to determine the biggest data size permitted on your connection, can be useful to set lower in certain difficult environments such as Kubernetes",nokeysignup:"Allows nodes to join the network without a valid Access Key, nodes will need to be approved by admin in UI",pointtosite:"Creates a network in which all clients have only one, central peer",defaultaccesscontrol:"If on all nodes can reach all other nodes by default, if off no node can reach all other nodes",dynamicendpoint:"When on, clients will first reach out to the server. The server will keep track of public addresses / ports and send these to all other clients in the network.",dynamicport:"If on the port is dynamically created, if off you set the port to any reasonable value you would like for your local machine",localaddress:"The \u201clocally reachable\u201d address of the node. Other nodes will take note of this to see if this node is on the same network. If so, they will use this address instead of the public \u201cEndpoint\u201d ",nodename:"The name of the node within the network. Hostname by default but can be anything (within the character limits)",publickey:"(Uneditable) The public key of the node, distributed to other peers in the network",nodepostup:"Uneditable by default to disable RCE. Commands to run after the interface is created. If an ingress or egress gateway are created, this field will populate automatically with appropriate iptables commands.",nodepostdown:"Uneditable by default to disable RCE. Commands to run after the interface is brought down. If an ingress or egress gateway are created, this field will populate automatically with appropriate iptables commands.",allowedips:"Additional private addresses given to the node (in addition to the IPAddress and IPv6Address).",persistentkeepalive:"How often packets are sent to keep connections open with other peers",relayaddress:"If \u201cRelay\u201d is enabled on this node, this field can be edited to add and remove nodes from the relay. So if you are currently relaying just one node but wish to relay an additional node, just add it\u2019s private IP here",nodeexpires:"If a node should become invalid after a length of time, you can set it in this field, after which time, it will lose access to the network and will not populate to other nodes",lastcheckin:"Unix timestamp of the last time the node checked in with the server. Used to determine generic health of node",macaddress:"The hardware mac address of the machine. Used to be used as the unique ID, but is being deprecated",network:"The network this node belongs too",egressrange:"If Egress is enabled, the gateway ranges that this machine routes to.",nodeos:"The operating system of the node",nodelocalrange:"If IsLocal has been enabled on the network, this is the local range in which the node will look for a private address from the local interfaces, to use as an endpoint",isdnson:"The node will setup DNS entries for its peers locally",networkhub:"On a point-to-site network, this node is the only one all peers connect to",nodeislocal:"If on, will only communicate over the local address (Assumes IsLocal turned to {yes} on the network level.)",isnodeconnected:"If on, the node is connected to the network"},node:{nodes:"Nodes",node:"Node",id:"ID",accesskey:"Access Key",lastpeerupdate:"Last Peer Update",keyupdatetimestamp:"Key Update",checkininterval:"Checkin Interval",ispending:"Is Pending",action:"Action",localrange:"Local Range",isingressgateway:"Is Ingress Gateway",isegressgateway:"Is Egress Gateway",isrelay:"Is a Relay Server",pullchanges:"Pull Changes",dnson:"Is DNS on",isdualstack:"Dualstack (IPv6 Enabled)",ipforwarding:"Ipforwarding",roaming:"Roaming",islocal:"Is Local",isserver:"Is Server",ingressgatewayrange:"Ingress Gateway Ranges (Comma Separated)",address:"IP Address",address6:"IPv6 Address",name:"Node Name",listenport:"Listen Port",publickey:"Publickey",endpoint:"Endpoint",expdatetime:"Node Expiration Date/Time",postup:'Postup ("; " separated)',postdown:'Postdown ("; " separated)',persistentkeepalive:"Persistent Keepalive",saveconfig:"Saveconfig",interface:"Interface",lastmodified:"Last Modified",lastcheckin:"Last Checkin",macaddress:"Mac Address",network:"Network",localaddress:"Local Address",egressgatewayranges:"Egress Gateway Ranges (Comma Separated)",allowedips:"Allowed IPs (Comma Separated)",udpholepunch:"Dynamic Port",isstatic:"Dynamic Endpoint",mtu:"MTU",relayaddrs:"Relay Addresses (Comma Separated)",os:"Node Operating System",status:"Status",createegress:"Create Egress Gateway",createingress:"Create Ingress Gateway",createrelay:"Make Relay",removeegress:"Remove Egress Gateway",removeingress:"Remove Ingress Gateway",removerelay:"Remove Relay",statusegress:"Egress Status",statusingress:"Ingress Status",statusrelay:"Relay Status",statushub:"Is Network Hub",confirmegress:"Are you sure you want to make an Egress Gateway?",confirmingress:"Are you sure you want to make an Ingress Gateway?",confirmrelay:"Are you sure you want to make a Relay Server?",deleteconfirm:"Are you sure you want to delete this node?",choose:"Select Node(s)",details:"Node Details",sync:"Sync Nodes with Server",pendingApproval:"pending approval",approve:"Approve",approveconfirm:"Are you sure you want to grant access to this node?",none:"No nodes found",isingressegress:"Is Egress and Ingress",isingressegressrelay:"Is Egress, Ingress & Relay",isegressrelay:"Is Egress and Relay",isingressrelay:"Is Ingress and Relay",isrelayed:"Being Relayed",ishub:"Is Network Hub",defaultacl:"Node ACL Rule",onehub:"This node is currently the hub",createhub:"Make this node the hub",updatenode:"Update Node",endpointenable:"Endpoint is set dynamically",endpointdisable:"Endpoint is set manually",healthy:"Node has great connectivity",error:"Node has no Connectivity",warning:"Node has connectivity issues",connected:"Node is connected to ",togglenode:"Connected",validation:{relayaddress:"Please enter a valid relay address range (IPv4 or IPv6)",egressgatewayrange:"Please enter a valid egress gateway range (IPv4 CIDR or IPv6 CIDR)"},state:{error:"ERROR",warning:"WARNING",normal:"Normal",healthy:"HEALTHY"},nodevisual:"Nodes visually",version:"Version",addresses:"Addresses",udpdisabled:"UDP hole punching is disabled on the network",failover:"Failover"},login:{validation:{username:'Invalid user name provided. Must be between 3 to 40 alphanumeric characters with "-" or "." or an email address.',password:"Invalid password provided. Must be between 5 to 64 characters with no white space.",confirmation:"Confirmation password does not match given password."},label:{username:"Username",password:"Password",confirmation:"Password Confirmation"},oauth:{login:"Use OAuth Provider to login.",failed:"OAuth Login Failed, check if server is configured for OAuth."},admin:{create:"Create an Admin",creating:"Create Admin"},header:"Login below:",login:"Login",loginFailed:"Failed to login, invalid credentials or server disconnect.",logout:"Logout"},users:{header:"Users",delete:"Delete User",edit:"Edit User",details:"View User Details",deleteTitle:"Are you sure you want to delete this user?",networks:{create:"Add a Network to User",delete:"Remove a Network from User",edit:"Edit User Networks"},label:{password:"Password",confirmation:"Confirm Password",username:"Username"},validation:{username:'Invalid user name provided. Must be between 3 to 40 alphanumeric characters with "-" or "." or an email address.',password:"Invalid password provided. Must be between 5 to 64 characters with no white space.",confirmation:"Confirmation password does not match given password.",groupname:"Group name is mandatory"},table:{name:"Username",isAdmin:"Is Admin",networks:"Networks"},update:{header:"Update",password:"Change Password",passwordTitle:"Change Password",passwordSubmit:"Are you sure you want to change password?",adminSubmit:"Update ( Make Admin )",submit:"Update",isAdmin:"Is Admin",networks:"Select Networks for user",isAdminTitle:"Create new Admin",createAdmin:"Are you sure you want to make this user as admin?"},create:{button:"Create User",isAdmin:"Make Admin",networks:"Networks",createAdmin:"Are you sure you want to create an Admin?",isAdminTitle:"Create new Admin"}},toast:{pending:"Request pending",update:{success:{node:"Node updated successfully!",extclient:"Ext Client updated!",networkrefresh:"Refreshed nodes public keys!",user:"User Updated!",approve:"Node Approved!",nodeacl:"ACL Updated!",networkuser:"Network User Updated!"},failure:{node:"Node updated failed!",extclient:"Ext Client update failed!",networkrefresh:"Failed to refresh nodes public keys!",user:"Failed to update user!",approve:"Failed to approve node!",nodeacl:"Failed to update ACL!",networkuser:"Failed to update Network User!"}},create:{success:{accesskey:"Succesfully created Access Key!",egress:"Succesfully created Egress Gateway!",ingress:"Successfully created Ingress Gateway!",relay:"Successfully created Relay!",extclient:"Sucessfully created an Ext Client!",dns:"Successfully created DNS Entry!",user:"Successfully created User!",admin:"Successfully created new Admin!",usergroup:"Successfully created new user group!",failover:"Successfully added failover gateway to node!"},failure:{accesskey:"Failed to create Access Key.",egress:"Failed to create Egress Gateway.",ingress:"Failed to create Ingress Gateway.",relay:"Failed to create Relay.",extclient:"Failed to create an Ext Client",dns:"Failed to create the DNS Entry.",user:"Failed to create new User.",admin:"Failed to create Admin.",usergroup:"Failed to create new user group.",failover:"Failed to add failover gateway to node."}},delete:{success:{accesskey:"Succesfully removed Access Key!",egress:"Succesfully removed Egress Gateway!",ingress:"Successfully removed Ingress Gateway!",relay:"Successfully removed Relay!",extclient:"Successfully removed Ext Client!",dns:"Successfully removed the DNS Entry!",user:"Successfully deleted User!",node:"Successfully deleted Node!",usergroups:"Successfully deleted User Group!",networkuser:"Successfully deleted Network User!"},failure:{accesskey:"Failed to remove Access Key.",egress:"Failed to remove Egress Gateway.",ingress:"Failed to remove Ingress Gateway.",relay:"Failed to remove Relay.",extclient:"Failed to remove Ext Client.",dns:"Failed to remove the DNS Entry.",user:"Failed to remove User.",node:"Failed to remove Node.",usergroups:"Failed to remove User Group.",networkuser:"Failed to remove Network User."}},login:{success:"Logged in successfully",failure:"Failed to login"}}}}};window.missingTranslations={},ye.a.use(ve.e).init({resources:we,lng:"en",saveMissing:!0,missingKeyHandler:function(e,t,n,c){window.missingTranslations=Object(H.a)(window.missingTranslations,(function(e){e["".concat(n)]=c}))},interpolation:{escapeValue:!1},appendNamespaceToMissingKey:!0});var ke=ae.a.mark(Ae),Ce=ae.a.mark(Ne),Se=ae.a.mark(Ie);function Ae(e){var t,n,c,a,r=arguments;return ae.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(re.f)(ge);case 2:for(t=s.sent,n=r.length,c=new Array(n>1?n-1:0),a=1;a<n;a++)c[a-1]=r[a];return s.next=6,re.b.apply(void 0,[t[e]].concat(Object(se.a)(c)));case 6:return s.abrupt("return",s.sent);case 7:case"end":return s.stop()}}),ke)}function Ne(e){var t,n,c,a,r,s=arguments;return ae.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(re.f)(le);case 2:return t=i.sent,i.next=5,Object(re.f)(je);case 5:if(i.sent||!t){i.next=10;break}return i.next=9,Object(re.d)(W());case 9:throw new Error(ye.a.t("error.tokenexpire"));case 10:for(n=s.length,c=new Array(n>1?n-1:0),a=1;a<n;a++)c[a-1]=s[a];return r=c.pop(),r=Object(H.a)(r,(function(e){e.headers=e.headers?e.headers:{},e.headers.authorization="Bearer ".concat(t)})),c.push(r),i.next=16,re.b.apply(void 0,[Ae,e].concat(c));case 16:return i.abrupt("return",i.sent);case 17:case"end":return i.stop()}}),Ce)}function Ie(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([]);case 2:case"end":return e.stop()}}),Se)}var Ee=function(e){return e.router},Te=(Object(ie.a)(Ee,(function(e){return e.location})),Object(ie.a)(Ee,(function(e){return e.history}))),Re=(n(72),n(10)),Me=Object(R.createAction)("toast_toast")(),De=ae.a.mark(Ue),Pe=ae.a.mark(Ke),We={position:"bottom-right"},_e=Object(Re.a)({rtl:!1,autoClose:5e3,hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"},We);function Fe(e){y.b[e.payload.method](e.payload.content,Object(Re.a)(Object(Re.a)({},We),e.payload.options))}function qe(e,t,n,c){var a;"string"===typeof(a="function"===typeof n?n(c):n)?y.b.update(e,Object(Re.a)({render:a,type:t,isLoading:!1},_e)):y.b.update(e,Object(Re.a)(Object(Re.a)({},_e),a))}function Ue(e){var t,n,c,a;return ae.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=y.b.loading(e.params.pending,Object(Re.a)(Object(Re.a)({},_e),{},{autoClose:!1})),r.next=3,Object(re.e)({success:Object(re.g)(Object(R.getType)(e.success)),error:Object(re.g)(Object(R.getType)(e.error))});case 3:n=r.sent,c=n.success,a=n.error,c?qe(t,"success",e.params.success,c.payload):a&&qe(t,"error",e.params.error,a.payload);case 7:case"end":return r.stop()}}),De)}function Ke(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Object(re.h)(Me,Fe)]);case 2:case"end":return e.stop()}}),Pe)}var Le=ae.a.mark($e),Ge=ae.a.mark(et),Ve=ae.a.mark(tt),Be=ae.a.mark(nt),He=ae.a.mark(ct),ze=ae.a.mark(at),Ye=ae.a.mark(rt),Ze=ae.a.mark(st),Qe=ae.a.mark(it),Je=ae.a.mark(ot),Xe=ae.a.mark(lt);function $e(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne("get","/users",{});case 3:return t=e.sent,e.next=6,Object(re.d)(_.success(t.data));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(re.d)(_.failure(e.t0));case 12:case"end":return e.stop()}}),Le,null,[[0,8]])}function et(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne("get","",{});case 3:return t=e.sent,e.next=6,Object(re.d)(F.success(t.data));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(re.d)(F.failure(e.t0));case 12:case"end":return e.stop()}}),Ge,null,[[0,8]])}function tt(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:q.success,error:q.failure,params:{pending:ye.a.t("common.pending"),success:"".concat(ye.a.t("toast.login.success")," : ").concat(e.payload.username),error:"".concat(ye.a.t("toast.login.failure")," : ").concat(e.payload.username)}});case 3:return n.next=5,Ae("post","/users/adm/authenticate",e.payload,{});case 5:return t=n.sent,n.next=8,Object(re.d)(q.success({token:t.data.Response.AuthToken}));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(q.failure(n.t0));case 14:case"end":return n.stop()}}),Ve,null,[[0,10]])}function nt(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae("get","/users/adm/hasadmin",{});case 3:return t=e.sent,e.next=6,Object(re.d)(U.success(200===t.status&&t.data));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(re.d)(U.failure(e.t0));case 12:case"end":return e.stop()}}),Be,null,[[0,8]])}function ct(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:K.success,error:K.failure,params:{pending:ye.a.t("common.pending"),success:"".concat(ye.a.t("toast.create.success.admin")," : ").concat(e.payload.username),error:"".concat(ye.a.t("toast.create.failure.admin")," : ").concat(e.payload.username)}});case 3:return n.next=5,Ae("post","/users/adm/createadmin",e.payload,{});case 5:return t=n.sent,n.next=8,Object(re.d)(K.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(K.failure(n.t0));case 14:case"end":return n.stop()}}),He,null,[[0,10]])}function at(e){var t,n;return ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(re.c)(Ue,{success:L.success,error:L.failure,params:{pending:ye.a.t("common.pending"),success:"".concat(ye.a.t("toast.create.success.user")," : ").concat(e.payload.username),error:"".concat(ye.a.t("toast.create.failure.user")," : ").concat(e.payload.username)}});case 3:return c.next=5,Ne("post","/users/".concat(e.payload.username),{username:e.payload.username,password:e.payload.password,networks:e.payload.networks,isadmin:e.payload.isadmin},{headers:{"Content-type":"application/json"}});case 5:return t=c.sent,c.next=8,Object(re.d)(L.success(t.data));case 8:return c.next=10,Object(re.f)(Te);case 10:null===(n=c.sent)||void 0===n||n.push("/users"),c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(0),c.next=18,Object(re.d)(L.failure(c.t0));case 18:case"end":return c.stop()}}),ze,null,[[0,14]])}function rt(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.c)(Ue,{success:G.success,error:G.failure,params:{pending:ye.a.t("common.pending"),success:"".concat(ye.a.t("toast.delete.success.user")," : ").concat(e.payload.username),error:"".concat(ye.a.t("toast.delete.failure.user")," : ").concat(e.payload.username)}});case 3:return t.next=5,Ne("delete","/users/".concat(e.payload.username),{});case 5:return t.next=7,Object(re.d)(G.success(e.payload));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(re.d)(G.failure(t.t0));case 13:case"end":return t.stop()}}),Ye,null,[[0,9]])}function st(e){var t,n;return ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(re.c)(Ue,{success:V.success,error:V.failure,params:{pending:ye.a.t("common.pending"),success:"".concat(ye.a.t("toast.update.success.user")," : ").concat(t.username),error:"".concat(ye.a.t("toast.update.failure.user")," : ").concat(t.username)}});case 4:return c.next=6,Ne("put","/users/".concat(t.username),t,{headers:{"Content-type":"application/json"}});case 6:return n=c.sent,c.next=9,Object(re.d)(V.success(n.data));case 9:c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(re.d)(V.failure(c.t0));case 15:case"end":return c.stop()}}),Ze,null,[[1,11]])}function it(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(re.c)(Ue,{success:B.success,error:B.failure,params:{pending:ye.a.t("common.pending"),success:"".concat(ye.a.t("toast.update.success.user")," : ").concat(t.username),error:"".concat(ye.a.t("toast.update.failure.user")," : ").concat(t.username)}});case 4:return n.next=6,Ne("put","/users/networks/".concat(t.username),t,{headers:{"Content-type":"application/json"}});case 6:return n.next=8,Object(re.d)(B.success(t));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object(re.d)(B.failure(n.t0));case 14:case"end":return n.stop()}}),Qe,null,[[1,10]])}function ot(){var e;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(re.f)(a.getLoggedIn);case 2:if(!t.sent){t.next=9;break}return t.next=6,Object(re.f)(a.getToken);case 6:return e=t.sent,t.next=9,Object(re.d)(q.success({token:e}));case 9:case"end":return t.stop()}}),Je)}function lt(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Object(re.h)(Object(R.getType)(_.request),$e),Object(re.h)(Object(R.getType)(F.request),et),Object(re.h)(Object(R.getType)(q.request),tt),Object(re.h)(Object(R.getType)(q.success),$e),Object(re.h)(Object(R.getType)(U.request),nt),Object(re.h)(Object(R.getType)(K.request),ct),Object(re.h)(Object(R.getType)(L.request),at),Object(re.h)(Object(R.getType)(G.request),rt),Object(re.h)(Object(R.getType)(V.request),st),Object(re.h)(Object(R.getType)(B.request),it),Object(re.b)(nt,U.request()),Object(re.b)(ot)]);case 2:case"end":return e.stop()}}),Xe)}var dt=n(237),jt=n.n(dt),ut=Object(R.createReducer)({axios:jt.a.create({baseURL:"".concat(Q,"/api")})}),bt=Object(R.createAction)("clearTempKey")(),mt=Object(R.createAction)("setTempKey")(),xt=Object(R.createAsyncAction)("network_getNetworks_Request","network_getNetworks_Success","network_getNetworks_Failure")(),ht=Object(R.createAsyncAction)("network_updateNetwork_Request","network_updateNetwork_Success","network_updateNetwork_Failure")(),pt=Object(R.createAsyncAction)("network_deleteNetwork_Request","network_deleteNetwork_Success","network_deleteNetwork_Failure")(),Ot=Object(R.createAsyncAction)("network_createNetwork_Request","network_createNetwork_Success","network_createNetwork_Failure")(),ft=Object(R.createAsyncAction)("network_createAccessKey_Request","network_createAccessKey_Success","network_createAccessKey_Failure")(),gt=Object(R.createAsyncAction)("network_getAccessKeys_Request","network_getAccessKeys_Success","network_getAccessKeys_Failure")(),yt=Object(R.createAsyncAction)("network_getDnsEntries_Request","network_getDnsEntries_Success","network_getDnsEntries_Failure")(),vt=Object(R.createAsyncAction)("network_createDnsEntry_Request","network_createDnsEntry_Success","network_createDnsEntry_Failure")(),wt=Object(R.createAsyncAction)("network_deleteDnsEntry_Request","network_deleteDnsEntry_Success","network_deleteDnsEntry_Failure")(),kt=Object(R.createAsyncAction)("network_deleteAccessKey_Request","network_deleteAccessKey_Success","network_deleteAccessKey_Failure")(),Ct=Object(R.createAsyncAction)("network_refreshPublicKeys_Request","network_refreshPublicKeys_Success","network_refreshPublicKeys_Failure")(),St=function(e){return e.prosettings&&("string"===typeof e.prosettings.allowedgroups&&(e.prosettings.allowedgroups=Nt(e.prosettings.allowedgroups)),"string"===typeof e.prosettings.allowedusers&&(e.prosettings.allowedusers=Nt(e.prosettings.allowedusers))),Object(Re.a)(Object(Re.a)({},e),{},{defaultmtu:Number(e.defaultmtu),defaultlistenport:Number(e.defaultlistenport),defaultkeepalive:Number(e.defaultkeepalive),allowmanualsignup:e.allowmanualsignup?"yes":"no",islocal:e.islocal?"yes":"no",isipv4:e.isipv4?"yes":"no",isipv6:e.isipv6?"yes":"no",defaultudpholepunch:e.defaultudpholepunch?"yes":"no",ispointtosite:e.ispointtosite?"yes":"no",defaultacl:e.defaultacl?"yes":"no",prosettings:e.prosettings?{defaultaccesslevel:Number(e.prosettings.defaultaccesslevel),defaultuserclientlimit:Number(e.prosettings.defaultuserclientlimit),defaultusernodelimit:Number(e.prosettings.defaultusernodelimit),allowedgroups:e.prosettings.allowedgroups,allowedusers:e.prosettings.allowedusers}:void 0})},At=function(e){return Object(Re.a)(Object(Re.a)({},e),{},{defaultmtu:Number(e.defaultmtu),defaultlistenport:Number(e.defaultlistenport),defaultkeepalive:Number(e.defaultkeepalive),allowmanualsignup:"yes"===e.allowmanualsignup,islocal:"yes"===e.islocal,isipv4:"yes"===e.isipv4,isipv6:"yes"===e.isipv6,defaultudpholepunch:"yes"===e.defaultudpholepunch,ispointtosite:"yes"===e.ispointtosite,defaultacl:"yes"===e.defaultacl,prosettings:e.prosettings?{defaultaccesslevel:Number(e.prosettings.defaultaccesslevel),defaultuserclientlimit:Number(e.prosettings.defaultuserclientlimit),defaultusernodelimit:Number(e.prosettings.defaultusernodelimit),allowedgroups:e.prosettings.allowedgroups,allowedusers:e.prosettings.allowedusers}:void 0})},Nt=function(e){for(var t=e.split(","),n=0;n<t.length;n++)t[n]=t[n].trim();return t},It=Object(R.createReducer)({networks:[],isFetching:!1,dnsEntries:[],tempkey:{accessString:"",value:""}}).handleAction(xt.request,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!0}))})).handleAction(xt.success,(function(e,t){return Object(H.a)(e,(function(e){t.payload&&t.payload.length?(e.networks=t.payload.map(At),e.networks=e.networks.sort((function(e,t){return e.netid.localeCompare(t.netid)}))):e.networks=[];for(var n=0;n<e.networks.length;n++)e.networks[n].accesskeys||(e.networks[n].accesskeys=[]);e.isFetching=!1}))})).handleAction(xt.failure,(function(e,t){return Object(H.a)(e,(function(e){e.networks=[],e.isFetching=!1}))})).handleAction(ht.success,(function(e,t){return Object(H.a)(e,(function(e){var n=e.networks.findIndex((function(e){return e.netid===t.payload.netid}));~n&&(e.networks[n]=Object(Re.a)(Object(Re.a)({},e.networks[n]),At(t.payload)))}))})).handleAction(pt.success,(function(e,t){return Object(H.a)(e,(function(e){e.networks=e.networks.filter((function(e){return e.netid!==t.payload.netid}))}))})).handleAction(kt.success,(function(e,t){return Object(H.a)(e,(function(e){var n=e.networks.findIndex((function(e){return e.netid===t.payload.netid}));~n&&(e.networks[n].accesskeys=e.networks[n].accesskeys.filter((function(e){return e.name!==t.payload.name})))}))})).handleAction(Ot.success,(function(e,t){return Object(H.a)(e,(function(e){t.payload&&e.networks.push(At(t.payload))}))})).handleAction(ft.success,(function(e,t){return Object(H.a)(e,(function(e){var n=e.networks.findIndex((function(e){return e.netid===t.payload.netid}));~n&&(e.networks[n].accesskeys.push(t.payload.newAccessKey),e.tempkey={accessString:t.payload.newAccessKey.accessstring,value:t.payload.newAccessKey.value})}))})).handleAction(bt,(function(e,t){return Object(H.a)(e,(function(e){e.tempkey.accessString="",e.tempkey.value=""}))})).handleAction(mt,(function(e,t){return Object(H.a)(e,(function(e){e.tempkey=Object(Re.a)({},t.payload)}))})).handleAction(Ct.success,(function(e,t){return Object(H.a)(e,(function(e){var n=e.networks.findIndex((function(e){return e.netid===t.payload.netid}));~n&&(e.networks[n]=Object(Re.a)(Object(Re.a)({},e.networks[n]),At(t.payload)))}))})).handleAction(yt.success,(function(e,t){return Object(H.a)(e,(function(e){e.dnsEntries=t.payload?t.payload:[]}))})).handleAction(vt.success,(function(e,t){return Object(H.a)(e,(function(e){e.dnsEntries.push(t.payload)}))})).handleAction(wt.success,(function(e,t){return Object(H.a)(e,(function(e){~e.dnsEntries.findIndex((function(e){return e.name===t.payload.domain}))&&(e.dnsEntries=e.dnsEntries.filter((function(e){return e.name!==t.payload.domain})))}))})),Et=Object(R.createAsyncAction)("Pro_getUserGroups","Pro_getUserGroups_Success","Pro_getUserGroups_Failure")(),Tt=Object(R.createAsyncAction)("Pro_createUserGroup_Request","Pro_createUserGroup_Success","Pro_createUserGroup_Failure")(),Rt=Object(R.createAsyncAction)("Pro_deleteUserGroup_Request","Pro_deleteUserGroup_Success","Pro_deleteUserGroup_Failure")(),Mt=Object(R.createAsyncAction)("Pro_getNetworkUsers_Request","Pro_getNetworkUsers_Success","Pro_getNetworkUsers_Failure")(),Dt=Object(R.createAsyncAction)("Pro_deleteNetworkUser_Request","Pro_deleteNetworkUser_Success","Pro_deleteNetworkUser_Failure")(),Pt=Object(R.createAsyncAction)("Pro_updateNetworkUser_Request","Pro_updateNetworkUser_Success","Pro_updateNetworkUser_Failure")(),Wt=Object(R.createAsyncAction)("Pro_getNetworkUserData_Request","Pro_getNetworkUserData_Success","Pro_getNetworkUserData_Failure")(),_t=Object(R.createAsyncAction)("Pro_proCreateAccessKey_Request","Pro_proCreateAccessKey_Success","Pro_proCreateAccessKey_Failure")(),Ft=Object(R.createAction)("clearCurrentAccessKey")(),qt=Object(R.createAction)("setCurrentAccessKey")(),Ut=ae.a.mark(en),Kt=ae.a.mark(tn),Lt=ae.a.mark(nn),Gt=ae.a.mark(cn),Vt=ae.a.mark(an),Bt=ae.a.mark(rn),Ht=ae.a.mark(sn),zt=ae.a.mark(on),Yt=ae.a.mark(ln),Zt=ae.a.mark(dn),Qt=ae.a.mark(jn),Jt=ae.a.mark(un),Xt=ae.a.mark(bn),$t=ae.a.mark(mn);function en(){var e;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(re.f)(le);case 2:if(!t.sent){t.next=21;break}return t.next=6,Object(re.d)(xt.request());case 6:return t.next=8,Object(re.d)(yt.request());case 8:return t.next=10,Object(re.f)(de);case 10:if(!(e=t.sent)){t.next=21;break}if(!e.isAdmin){t.next=19;break}return t.next=15,Object(re.d)(Et.request());case 15:return t.next=17,Object(re.d)(Mt.request());case 17:t.next=21;break;case 19:return t.next=21,Object(re.d)(Wt.request({networkUserID:e.name}));case 21:case"end":return t.stop()}}),Ut)}function tn(){var e;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne("get","/networks",{});case 3:return e=t.sent,t.next=6,Object(re.d)(xt.success(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(re.d)(xt.failure(t.t0));case 12:case"end":return t.stop()}}),Kt,null,[[0,8]])}function nn(){var e;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne("get","/dns",{});case 3:return e=t.sent,t.next=6,Object(re.d)(yt.success(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(re.d)(yt.failure(t.t0));case 12:case"end":return t.stop()}}),Lt,null,[[0,8]])}function cn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:vt.success,error:vt.failure,params:{pending:ye.a.t("common.pending"),success:ye.a.t("toast.create.success.dns"),error:ye.a.t("toast.create.failure.dns")}});case 3:return n.next=5,Ne("post","/dns/".concat(e.payload.network),e.payload,{});case 5:return t=n.sent,n.next=8,Object(re.d)(vt.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(vt.failure(n.t0));case 14:case"end":return n.stop()}}),Gt,null,[[0,10]])}function an(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.c)(Ue,{success:wt.success,error:wt.failure,params:{pending:ye.a.t("common.pending"),success:ye.a.t("toast.delete.success.dns"),error:ye.a.t("toast.delete.failure.dns")}});case 3:return t.next=5,Ne("delete","/dns/".concat(e.payload.netid,"/").concat(e.payload.domain),{});case 5:return t.next=7,Object(re.d)(wt.success({domain:e.payload.domain}));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(re.d)(wt.failure(t.t0));case 13:case"end":return t.stop()}}),Vt,null,[[0,9]])}function rn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:ht.success,error:ht.failure,params:{pending:"Updating network ".concat(e.payload.network.netid),success:"Updating network ".concat(e.payload.network.netid," success!"),error:"Updating network ".concat(e.payload.network.netid," error!")}});case 3:return n.next=5,Ne("put","/networks/".concat(e.payload.network.netid),e.payload.network,{});case 5:return t=n.sent,n.next=8,Object(re.d)(ht.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(ht.failure(n.t0));case 14:case"end":return n.stop()}}),Bt,null,[[0,10]])}function sn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:Ct.success,error:Ct.failure,params:{pending:ye.a.t("common.pending"),success:"".concat(ye.a.t("toast.update.success.networkrefresh")," : ").concat(e.payload.netid),error:"".concat(ye.a.t("toast.update.failure.networkrefresh")," : ").concat(e.payload.netid)}});case 3:return n.next=5,Ne("post","/networks/".concat(e.payload.netid,"/keyupdate"),{},{});case 5:return t=n.sent,n.next=8,Object(re.d)(Ct.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(Ct.failure(n.t0));case 14:case"end":return n.stop()}}),Ht,null,[[0,10]])}function on(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.c)(Ue,{success:pt.success,error:pt.failure,params:{pending:"Deleting network ".concat(e.payload.netid),success:"Deleting network ".concat(e.payload.netid," success!"),error:function(t){return"Deleting network ".concat(e.payload.netid," error!\n").concat(t.response.data.Message)}}});case 3:return t.next=5,Ne("delete","/networks/".concat(e.payload.netid),{});case 5:return t.next=7,Object(re.d)(pt.success({netid:e.payload.netid}));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(re.d)(pt.failure(t.t0));case 13:case"end":return t.stop()}}),zt,null,[[0,9]])}function ln(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:Ot.success,error:Ot.failure,params:{pending:"".concat(ye.a.t("common.pending")),success:"Created network ".concat(e.payload.netid," successfully!"),error:function(t){return"Creating network ".concat(e.payload.netid," error!\n").concat(t.response.data.Message)}}});case 3:return n.next=5,Ne("post","/networks",e.payload,{});case 5:return t=n.sent,n.next=8,Object(re.b)(tn);case 8:return n.next=10,Object(re.d)(Ot.success(t.data));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(re.d)(Ot.failure(n.t0));case 16:case"end":return n.stop()}}),Yt,null,[[0,12]])}function dn(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.c)(Ue,{success:kt.success,error:kt.failure,params:{pending:"Deleting Access Key ".concat(e.payload.name),success:"Deleting Access Key ".concat(e.payload.name," success!"),error:function(t){return"Deleting Access Key ".concat(e.payload.name," error!\n").concat(t.response.data.Message)}}});case 3:return t.next=5,Ne("delete","/networks/".concat(e.payload.netid,"/keys/").concat(e.payload.name),{});case 5:return t.next=7,Object(re.d)(kt.success(e.payload));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(re.d)(kt.failure(t.t0));case 13:case"end":return t.stop()}}),Zt,null,[[0,9]])}function jn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ne("get","/networks/".concat(e.payload.netid,"/keys"),{});case 3:return t=n.sent,n.next=6,Object(re.d)(gt.success(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(re.d)(gt.failure(n.t0));case 12:case"end":return n.stop()}}),Qt,null,[[0,8]])}function un(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:ft.success,error:ft.failure,params:{pending:ye.a.t("common.pending"),success:ye.a.t("toast.create.success.accesskey"),error:function(e){return"".concat(ye.a.t("toast.create.failure.accesskey"),"\n").concat(e.response.data.Message)}}});case 3:return e.payload.newAccessKey.uses=Number(e.payload.newAccessKey.uses),n.next=6,Ne("post","/networks/".concat(e.payload.netid,"/keys"),e.payload.newAccessKey,{});case 6:return t=n.sent,n.next=9,Object(re.d)(ft.success({netid:e.payload.netid,newAccessKey:t.data}));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(re.d)(ft.failure(n.t0));case 15:case"end":return n.stop()}}),Jt,null,[[0,11]])}function bn(e){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),Xt)}function mn(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Object(re.h)(Object(R.getType)(q.success),en),Object(re.h)(Object(R.getType)(xt.request),tn),Object(re.h)(Object(R.getType)(ht.request),rn),Object(re.h)(Object(R.getType)(pt.request),on),Object(re.h)(Object(R.getType)(Ot.request),ln),Object(re.h)(Object(R.getType)(kt.request),dn),Object(re.h)(Object(R.getType)(gt.request),jn),Object(re.h)(Object(R.getType)(ft.request),un),Object(re.h)(Object(R.getType)(Ot.success),tn),Object(re.h)(Object(R.getType)(pt.success),bn),Object(re.h)(Object(R.getType)(Ct.request),sn),Object(re.h)(Object(R.getType)(yt.request),nn),Object(re.h)(Object(R.getType)(vt.request),cn),Object(re.h)(Object(R.getType)(wt.request),an),en()]);case 2:case"end":return e.stop()}}),$t)}var xn=function(e){return e.network},hn=Object(ie.a)(xn,(function(e){return e.isFetching})),pn=Object(ie.a)(xn,(function(e){return e.networks})),On=Object(ie.a)(xn,(function(e){return e.dnsEntries})),fn=Object(ie.a)(xn,(function(e){return e.tempkey})),gn=n(12),yn=n(214),vn=n(59),wn=ae.a.mark(Un),kn=ae.a.mark(Kn),Cn=ae.a.mark(Ln),Sn=ae.a.mark(Gn),An=ae.a.mark(Vn),Nn=ae.a.mark(Bn),In=ae.a.mark(Hn),En=ae.a.mark(zn),Tn=ae.a.mark(Yn),Rn=ae.a.mark(Zn),Mn=ae.a.mark(Qn),Dn=ae.a.mark(Jn),Pn=ae.a.mark(Xn),Wn=ae.a.mark($n),_n=ae.a.mark(ec),Fn=ae.a.mark(tc),qn=ae.a.mark(nc);function Un(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne("get","/nodes",{});case 3:return t=e.sent,e.next=6,Object(re.d)(gn.getNodes.success(t.data));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(re.d)(gn.getNodes.failure(e.t0));case 12:case"end":return e.stop()}}),wn,null,[[0,8]])}function Kn(){var e;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(re.f)(le);case 2:if(!(e=t.sent)){t.next=6;break}return t.next=6,Object(re.d)(gn.getNodes.request({token:e}));case 6:return t.next=8,Object(re.d)(gn.getExternalClients.request({token:e||""}));case 8:case"end":return t.stop()}}),kn)}function Ln(e){var t,n;return ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(re.c)(Ue,{success:gn.updateNode.success,error:gn.updateNode.failure,params:{pending:ye.a.t("toast.pending",{nodeid:e.payload.node.id}),success:ye.a.t("toast.update.success.node",{nodeid:e.payload.node.id}),error:function(t){return"".concat(ye.a.t("toast.update.failure.node",{nodeid:e.payload.node.id})," : ").concat(t.response.data.Message)}}});case 3:return t=Object(vn.c)(e.payload.node),c.next=6,Ne("put","/nodes/".concat(e.payload.netid,"/").concat(e.payload.node.id),t,{});case 6:return n=c.sent,c.next=9,Object(re.d)(gn.updateNode.success(n.data));case 9:c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(0),c.next=15,Object(re.d)(gn.updateNode.failure(c.t0));case 15:case"end":return c.stop()}}),Cn,null,[[0,11]])}function Gn(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.c)(Ue,{success:gn.deleteNode.success,error:gn.deleteNode.failure,params:{pending:ye.a.t("common.pending",{nodeid:e.payload.nodeid}),success:ye.a.t("toast.delete.success.node",{nodeid:e.payload.nodeid}),error:function(t){return"".concat(ye.a.t("toast.delete.failure.node",{nodeid:e.payload.nodeid})," : ").concat(t.response.data.Message)}}});case 3:return t.next=5,Ne("delete","/nodes/".concat(e.payload.netid,"/").concat(e.payload.nodeid),{});case 5:return t.next=7,Object(re.d)(gn.deleteNode.success({nodeid:e.payload.nodeid}));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(re.d)(gn.deleteNode.failure(t.t0));case 13:case"end":return t.stop()}}),Sn,null,[[0,9]])}function Vn(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.c)(Ue,{success:gn.approveNode.success,error:gn.approveNode.failure,params:{pending:ye.a.t("common.pending",{nodeid:e.payload.nodeid}),success:ye.a.t("toast.update.success.approve",{nodeid:e.payload.nodeid}),error:ye.a.t("toast.update.failure.approve",{nodeid:e.payload.nodeid})}});case 3:return t.next=5,Ne("post","/nodes/".concat(e.payload.netid,"/").concat(e.payload.nodeid,"/approve"),{},{});case 5:return t.next=7,Object(re.d)(gn.approveNode.success({nodeid:e.payload.nodeid}));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(re.d)(gn.approveNode.failure(t.t0));case 13:case"end":return t.stop()}}),An,null,[[0,9]])}function Bn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:gn.createRelayNode.success,error:gn.createRelayNode.failure,params:{pending:ye.a.t("common.pending",{nodeid:e.payload.nodeid}),success:ye.a.t("toast.create.success.relay",{nodeid:e.payload.nodeid}),error:function(t){return"".concat(ye.a.t("toast.create.failure.relay",{nodeid:e.payload.nodeid})," : ").concat(t.response.data.Message)}}});case 3:return n.next=5,Ne("post","/nodes/".concat(e.payload.netid,"/").concat(e.payload.nodeid,"/createrelay"),{relayaddrs:e.payload.payload.ranges},{});case 5:return t=n.sent,n.next=8,Object(re.d)(gn.createRelayNode.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(gn.createRelayNode.failure(n.t0));case 14:case"end":return n.stop()}}),Nn,null,[[0,10]])}function Hn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:gn.deleteRelayNode.success,error:gn.deleteRelayNode.failure,params:{pending:ye.a.t("common.pending",{nodeid:e.payload.nodeid}),success:ye.a.t("toast.delete.success.relay",{nodeid:e.payload.nodeid}),error:function(t){return"".concat(ye.a.t("toast.delete.failure.relay",{nodeid:e.payload.nodeid})," : ").concat(t.response.data.Message)}}});case 3:return n.next=5,Ne("delete","/nodes/".concat(e.payload.netid,"/").concat(e.payload.nodeid,"/deleterelay"),{});case 5:return t=n.sent,n.next=8,Object(re.d)(gn.deleteRelayNode.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(gn.deleteRelayNode.failure(n.t0));case 14:case"end":return n.stop()}}),In,null,[[0,10]])}function zn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:gn.createIngressNode.success,error:gn.createIngressNode.failure,params:{pending:ye.a.t("common.pending",{nodeid:e.payload.nodeid}),success:ye.a.t(e.payload.failover?"toast.create.success.failover":"toast.create.success.ingress",{nodeid:e.payload.nodeid}),error:function(t){return"".concat(ye.a.t(e.payload.failover?"toast.create.failure.failover":"toast.create.failure.ingress",{nodeid:e.payload.nodeid}))}}});case 3:return n.next=5,Ne("post","/nodes/".concat(e.payload.netid,"/").concat(e.payload.nodeid,"/createingress"),{failover:!!e.payload.failover},{});case 5:return t=n.sent,n.next=8,Object(re.d)(gn.createIngressNode.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(gn.createIngressNode.failure(n.t0));case 14:case"end":return n.stop()}}),En,null,[[0,10]])}function Yn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:gn.deleteIngressNode.success,error:gn.deleteIngressNode.failure,params:{pending:ye.a.t("common.pending",{nodeid:e.payload.nodeid}),success:ye.a.t("toast.delete.success.ingress",{nodeid:e.payload.nodeid}),error:function(t){return"".concat(ye.a.t("toast.delete.failure.ingress",{nodeid:e.payload.nodeid})," : ").concat(t.response.data.Message)}}});case 3:return n.next=5,Ne("delete","/nodes/".concat(e.payload.netid,"/").concat(e.payload.nodeid,"/deleteingress"),{});case 5:return t=n.sent,n.next=8,Object(re.d)(gn.deleteIngressNode.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(gn.deleteIngressNode.failure(n.t0));case 14:case"end":return n.stop()}}),Tn,null,[[0,10]])}function Zn(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne("get","/extclients",{});case 3:return t=e.sent,e.next=6,Object(re.d)(gn.getExternalClients.success(t.data));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(re.d)(gn.getExternalClients.failure(e.t0));case 12:case"end":return e.stop()}}),Rn,null,[[0,8]])}function Qn(e){var t,n;return ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,"file"!==e.payload.type){c.next=9;break}return c.next=4,Ne("get","/extclients/".concat(e.payload.netid,"/").concat(e.payload.clientid,"/").concat(e.payload.type),{headers:{authorization:"Bearer ".concat(e.payload.token)}});case 4:return t=c.sent,c.next=7,Object(re.d)(gn.getExternalClientConf.success({filename:e.payload.clientid,data:t.data,type:e.payload.type}));case 7:c.next=14;break;case 9:return c.next=11,Ne("get","/extclients/".concat(e.payload.netid,"/").concat(e.payload.clientid,"/").concat(e.payload.type),{headers:{authorization:"Bearer ".concat(e.payload.token)},responseType:"arraybuffer"});case 11:return n=c.sent,c.next=14,Object(re.d)(gn.getExternalClientConf.success({filename:e.payload.clientid,data:n.data,type:e.payload.type}));case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(0),c.next=20,Object(re.d)(gn.getExternalClientConf.failure(c.t0));case 20:case"end":return c.stop()}}),Mn,null,[[0,16]])}function Jn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:gn.createExternalClient.success,error:gn.createExternalClient.failure,params:{pending:ye.a.t("common.pending",{nodeid:e.payload.nodeid}),success:ye.a.t("toast.create.success.extclient",{nodeid:e.payload.nodeid}),error:function(t){return"".concat(ye.a.t("toast.create.failure.extclient",{nodeid:e.payload.nodeid})," : ").concat(t.response.data.Message)}}});case 3:return n.next=5,Ne("post","/extclients/".concat(e.payload.netid,"/").concat(e.payload.nodeid),{},{});case 5:return t=n.sent,n.next=8,Object(re.d)(gn.createExternalClient.success(t.data));case 8:return n.next=10,Object(re.d)(gn.getExternalClients.request({token:""}));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(re.d)(gn.createExternalClient.failure(n.t0));case 16:case"end":return n.stop()}}),Dn,null,[[0,12]])}function Xn(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:gn.updateExternalClient.success,error:gn.updateExternalClient.failure,params:{pending:ye.a.t("common.pending",{nodeName:e.payload.clientName}),success:ye.a.t("toast.update.success.extclient",{nodeName:e.payload.clientName}),error:ye.a.t("toast.update.failure.extclient",{nodeName:e.payload.clientName})}});case 3:return n.next=5,Ne("put","/extclients/".concat(e.payload.netid,"/").concat(e.payload.clientName),{clientid:e.payload.newClientName,enabled:e.payload.enabled},{});case 5:return t=n.sent,n.next=8,Object(re.d)(gn.updateExternalClient.success({client:t.data,previousId:e.payload.clientName}));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(gn.updateExternalClient.failure(n.t0));case 14:case"end":return n.stop()}}),Pn,null,[[0,10]])}function $n(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.c)(Ue,{success:gn.deleteExternalClient.success,error:gn.deleteExternalClient.failure,params:{pending:ye.a.t("common.pending",{nodeName:e.payload.clientName}),success:ye.a.t("toast.delete.success.extclient",{nodeName:e.payload.clientName}),error:ye.a.t("toast.delete.success.extclient",{nodeName:e.payload.clientName})}});case 3:return t.next=5,Ne("delete","/extclients/".concat(e.payload.netid,"/").concat(e.payload.clientName),{});case 5:return t.next=7,Object(re.d)(gn.deleteExternalClient.success({clientid:e.payload.clientName}));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(re.d)(gn.deleteExternalClient.failure(t.t0));case 13:case"end":return t.stop()}}),Wn,null,[[0,9]])}function ec(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:gn.createEgressNode.success,error:gn.createEgressNode.failure,params:{pending:ye.a.t("common.pending",{nodeName:e.payload.nodeid}),success:ye.a.t("toast.create.success.egress",{nodeName:e.payload.nodeid}),error:function(t){return"".concat(ye.a.t("toast.create.failure.egress",{nodeName:e.payload.nodeid})," : ").concat(t.response.data.Message)}}});case 3:return n.next=5,Ne("post","/nodes/".concat(e.payload.netid,"/").concat(e.payload.nodeid,"/creategateway"),e.payload.payload,{});case 5:return t=n.sent,n.next=8,Object(re.d)(gn.createEgressNode.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(gn.createEgressNode.failure(n.t0));case 14:case"end":return n.stop()}}),_n,null,[[0,10]])}function tc(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:gn.deleteEgressNode.success,error:gn.deleteEgressNode.failure,params:{pending:ye.a.t("common.pending",{nodeName:e.payload.nodeid}),success:ye.a.t("toast.delete.success.egress",{nodeName:e.payload.nodeid}),error:function(t){return"".concat(ye.a.t("toast.delete.failure.egress",{nodeName:e.payload.nodeid})," : ").concat(t.response.data.Message)}}});case 3:return n.next=5,Ne("delete","/nodes/".concat(e.payload.netid,"/").concat(e.payload.nodeid,"/deletegateway"),{});case 5:return t=n.sent,n.next=8,Object(re.d)(gn.deleteEgressNode.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(gn.deleteEgressNode.failure(n.t0));case 14:case"end":return n.stop()}}),Fn,null,[[0,10]])}function nc(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Object(re.h)(Object(R.getType)(gn.getNodes.request),Un),Object(re.h)(Object(R.getType)(q.success),Kn),Object(re.h)(Object(R.getType)(gn.updateNode.request),Ln),Object(re.h)(Object(R.getType)(gn.deleteNode.request),Gn),Object(re.h)(Object(R.getType)(gn.createIngressNode.request),zn),Object(re.h)(Object(R.getType)(gn.deleteIngressNode.request),Yn),Object(re.h)(Object(R.getType)(gn.getExternalClients.request),Zn),Object(re.h)(Object(R.getType)(gn.createExternalClient.request),Jn),Object(re.h)(Object(R.getType)(gn.deleteExternalClient.request),$n),Object(re.h)(Object(R.getType)(gn.createEgressNode.request),ec),Object(re.h)(Object(R.getType)(gn.deleteEgressNode.request),tc),Object(re.h)(Object(R.getType)(gn.createRelayNode.request),Bn),Object(re.h)(Object(R.getType)(gn.deleteRelayNode.request),Hn),Object(re.h)(Object(R.getType)(gn.getExternalClientConf.request),Qn),Object(re.h)(Object(R.getType)(gn.updateExternalClient.request),Xn),Object(re.h)(Object(R.getType)(gn.approveNode.request),Vn),Kn()]);case 2:case"end":return e.stop()}}),qn)}var cc=function(e){return e.node},ac=Object(ie.a)(cc,(function(e){return e.isFetching})),rc=Object(ie.a)(cc,(function(e){return e.nodes})),sc=Object(ie.a)(cc,(function(e){return e.externalClients})),ic=Object(ie.a)(cc,(function(e){return e.qrData})),oc=Object(ie.a)(cc,(function(e){return e.shouldSignOut})),lc=Object(ie.a)(cc,(function(e){return e.nodeSort})),dc="UNSET",jc="ALLOW",uc="DENY",bc=Object(R.createAsyncAction)("api_getServerConfig_Request","api_getServerConfig_Success","api_getServerConfig_Failure")(),mc=Object(R.createAsyncAction)("api_getServerLogs_Request","api_getServerLogs_Success","api_getServerLogs_Failure")(),xc=Object(R.createAsyncAction)("api_getNodeMetrics_Request","api_getNodeMetrics_Success","api_getNodeMetrics_Failure")(),hc=Object(R.createAsyncAction)("api_getMetrics_Request","api_getMetrics_Success","api_getMetrics_Failure")(),pc=Object(R.createAsyncAction)("api_getNetworkMetrics_Request","api_getNetworkMetrics_Success","api_getNetworkMetrics_Failure")(),Oc=Object(R.createAsyncAction)("api_getExtMetrics_Request","api_getExtMetrics_Success","api_getExtMetrics_Failure")(),fc=Object(R.createAction)("clearCurrentMetrics")(),gc=Object(R.createReducer)({config:{},isFetching:!1,logs:[],nodeMetrics:{},networkMetrics:{},attempts:0,fetchedNodeMetrics:!1,extMetrics:{},fetchingExtMetrics:!1,fetchingAllMetrics:!1}).handleAction(bc.request,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!0}))})).handleAction(bc.success,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!1,e.config.APIConnString=t.payload.APIConnString,e.config.APIHost=t.payload.APIHost,e.config.APIPort=Number.parseInt(t.payload.APIPort)||-1,e.config.AgentBackend="on"===t.payload.AgentBackend,e.config.AllowedOrigin=t.payload.AllowedOrigin,e.config.ClientMode="on"===t.payload.ClientMode,e.config.CoreDNSAddr=t.payload.CoreDNSAddr,e.config.DNSMode="on"===t.payload.DNSMode,e.config.Database=t.payload.Database,e.config.DefaultNodeLimit=t.payload.DefaultNodeLimit,e.config.DisableDefaultNet="on"===t.payload.DisableDefaultNet,e.config.DisableRemoteIPCheck="on"===t.payload.DisableRemoteIPCheck,e.config.GRPCConnString=t.payload.GRPCConnString,e.config.GRPCHost=t.payload.GRPCHost,e.config.GRPCPort=Number.parseInt(t.payload.GRPCPort)||-1,e.config.GRPCSSL="on"===t.payload.GRPCSSL,e.config.GRPCSecure=t.payload.GRPCSecure,e.config.MasterKey=t.payload.MasterKey,e.config.Platform=t.payload.Platform,e.config.RestBackend="on"===t.payload.RestBackend,e.config.SQLConn=t.payload.SQLConn,e.config.Verbosity=t.payload.Verbosity,e.config.Version=t.payload.Version,e.config.RCE="on"===t.payload.RCE,e.config.IsEE="yes"===t.payload.IsEE}))})).handleAction(bc.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!1,e.config={}}))})).handleAction(mc.request,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!0,e.attempts++}))})).handleAction(mc.success,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!1,e.logs=t.payload.split("\n"),e.attempts=0}))})).handleAction(mc.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!1,e.logs=[]}))})).handleAction(Oc.request,(function(e,t){return Object(H.a)(e,(function(e){e.fetchingExtMetrics=!0}))})).handleAction(Oc.failure,(function(e,t){return Object(H.a)(e,(function(e){e.fetchingExtMetrics=!1,e.extMetrics={}}))})).handleAction(Oc.success,(function(e,t){var n=t.payload;return Object(H.a)(e,(function(e){e.fetchingExtMetrics=!1,e.extMetrics=n}))})).handleAction(xc.request,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!0,e.attempts++,e.fetchedNodeMetrics=!1}))})).handleAction(xc.success,(function(e,t){return Object(H.a)(e,(function(e){e.nodeMetrics=t.payload,e.attempts=0,e.fetchedNodeMetrics=!0,e.isFetching=!1}))})).handleAction(xc.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!1,e.nodeMetrics={}}))})).handleAction(pc.request,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!0,e.attempts++,e.fetchedNodeMetrics=!1}))})).handleAction(pc.success,(function(e,t){return Object(H.a)(e,(function(e){e.networkMetrics=t.payload,e.attempts=0,e.isFetching=!1}))})).handleAction(pc.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!1,e.networkMetrics={}}))})).handleAction(fc,(function(e,t){return Object(H.a)(e,(function(e){e.isFetching=!1,e.networkMetrics={}}))})),yc=function(e){return e.server},vc=Object(ie.a)(yc,(function(e){return e.config})),wc=Object(ie.a)(yc,(function(e){return e.isFetching})),kc=Object(ie.a)(yc,(function(e){return e.logs})),Cc=Object(ie.a)(yc,(function(e){return e.nodeMetrics})),Sc=Object(ie.a)(yc,(function(e){return e.attempts})),Ac=Object(ie.a)(yc,(function(e){return e.fetchedNodeMetrics})),Nc=function(e){return Object(ie.a)(yc,(function(t){return t.extMetrics[e]}))},Ic=function(e){return Object(ie.a)(Cc,(function(t){return t[e]}))},Ec=function(e){return Object(ie.a)(yc,(function(t){return t.networkMetrics[e]}))},Tc=Object(ie.a)(yc,(function(e){return e.fetchingExtMetrics})),Rc=ae.a.mark(Uc),Mc=ae.a.mark(Kc),Dc=ae.a.mark(Lc),Pc=ae.a.mark(Gc),Wc=ae.a.mark(Vc),_c=ae.a.mark(Bc),Fc=ae.a.mark(Hc),qc=ae.a.mark(zc);function Uc(){var e;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(re.f)(le);case 2:if(!(e=t.sent)){t.next=6;break}return t.next=6,Object(re.d)(bc.request({token:e}));case 6:case"end":return t.stop()}}),Rc)}function Kc(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne("get","/server/getconfig",{});case 3:return t=e.sent,e.next=6,Object(re.d)(bc.success(t.data));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(re.d)(bc.failure(e.t0));case 12:case"end":return e.stop()}}),Mc,null,[[0,8]])}function Lc(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne("get","/logs",{});case 3:return t=e.sent,e.next=6,Object(re.d)(mc.success(t.data));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(re.d)(mc.failure(e.t0));case 12:case"end":return e.stop()}}),Dc,null,[[0,8]])}function Gc(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ne("get",e.payload?"/metrics/".concat(e.payload):"/metrics",{});case 3:return t=n.sent,n.next=6,Object(re.d)(hc.success(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(re.d)(hc.failure(n.t0));case 12:case"end":return n.stop()}}),Pc,null,[[0,8]])}function Vc(e){var t,n,c,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,Object(re.f)(pn);case 4:return n=e.sent,e.next=7,Object(re.f)(vc);case 7:if(!(e.sent.IsEE&&n&&n.length)){e.next=26;break}c=0;case 10:if(!(c<n.length)){e.next=24;break}return e.prev=11,e.next=14,Ne("get","/metrics-ext/".concat(n[c].netid),{});case 14:a=e.sent,t[n[c].netid]=a.data,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),t[n[c].netid]={};case 21:c++,e.next=10;break;case 24:return e.next=26,Object(re.d)(Oc.success(t));case 26:e.next=32;break;case 28:return e.prev=28,e.t1=e.catch(0),e.next=32,Object(re.d)(Oc.failure(e.t1));case 32:case"end":return e.stop()}}),Wc,null,[[0,28],[11,18]])}function Bc(e){var t,n,c,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,Object(re.f)(rc);case 4:return n=e.sent,e.next=7,Object(re.f)(vc);case 7:if(!(e.sent.IsEE&&n&&n.length)){e.next=24;break}c=0;case 10:if(!(c<n.length)){e.next=24;break}return e.prev=11,e.next=14,Ne("get","/metrics/".concat(n[c].network,"/").concat(n[c].id),{});case 14:a=e.sent,t[n[c].id]=a.data,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),t[n[c].id]={connectivity:{}};case 21:c++,e.next=10;break;case 24:return e.next=26,Object(re.d)(xc.success(t));case 26:e.next=32;break;case 28:return e.prev=28,e.t1=e.catch(0),e.next=32,Object(re.d)(xc.failure(e.t1));case 32:case"end":return e.stop()}}),_c,null,[[0,28],[11,18]])}function Hc(e){var t,n,c,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,Object(re.f)(pn);case 4:return n=e.sent,e.next=7,Object(re.f)(vc);case 7:if(!(e.sent.IsEE&&n&&n.length)){e.next=24;break}c=0;case 10:if(!(c<n.length)){e.next=24;break}return e.prev=11,e.next=14,Ne("get","/metrics/".concat(n[c].netid),{});case 14:a=e.sent,t[n[c].netid]=a.data,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),t[n[c].netid]={nodes:{}};case 21:c++,e.next=10;break;case 24:return e.next=26,Object(re.d)(pc.success(t));case 26:e.next=32;break;case 28:return e.prev=28,e.t1=e.catch(0),e.next=32,Object(re.d)(pc.failure(e.t1));case 32:case"end":return e.stop()}}),Fc,null,[[0,28],[11,18]])}function zc(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Object(re.h)(q.success,Uc),Object(re.h)(Object(R.getType)(bc.request),Kc),Object(re.h)(Object(R.getType)(mc.request),Lc),Object(re.h)(Object(R.getType)(xc.request),Bc),Object(re.h)(Object(R.getType)(hc.request),Gc),Object(re.h)(Object(R.getType)(xt.success),Bc),Object(re.h)(Object(R.getType)(xt.success),Vc),Object(re.h)(Object(R.getType)(Oc.request),Vc),Object(re.h)(Object(R.getType)(pc.request),Hc),Object(re.h)(Object(R.getType)(xt.success),Hc),Uc()]);case 2:case"end":return e.stop()}}),qc)}var Yc="router",Zc=Object(R.createAction)("".concat(Yc,"/PUSH"))(),Qc=Object(R.createAction)("".concat(Yc,"/POP"))(),Jc=Object(R.createAction)("".concat(Yc,"/REPLACE"))(),Xc={POP:Qc,PUSH:Zc,REPLACE:Jc},$c=Object(R.createReducer)({}).handleAction([Zc,Jc,Qc],(function(e,t){return{prevLocation:e.location,history:t.payload.history,location:t.payload.location}})),ea=ae.a.mark(ta);function ta(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([]);case 2:case"end":return e.stop()}}),ea)}var na=Object(R.createAsyncAction)("ACLs_getNodeACLContainer_Request","ACLs_getNodeACLContainer_Success","ACLs_getNodeACLContainer_Failure")(),ca=Object(R.createAsyncAction)("ACLs_updateNodeACLContainer_Request","ACLs_updateNodeACLContainer_Success","ACLs_updateNodeACLContainer_Failure")(),aa=Object(R.createAsyncAction)("ACLs_updateNodeACL_Request","ACLs_updateNodeACL_Success","ACLs_updateNodeACL_Failure")(),ra=Object(R.createAction)("clearCurrentACLContainer")(),sa=Object(R.createReducer)({isProcessing:!1,currentACL:{}}).handleAction(ra,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1,e.currentACL={}}))})).handleAction(na.request,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!0}))})).handleAction(na.success,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1,e.currentACL=t.payload}))})).handleAction(na.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1}))})).handleAction(ca.request,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!0}))})).handleAction(ca.success,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1,e.currentACL=t.payload}))})).handleAction(ca.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1}))})),ia=ae.a.mark(da),oa=ae.a.mark(ja),la=ae.a.mark(ua);function da(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ne("get","/networks/".concat(e.payload.netid,"/acls"),{});case 3:return t=n.sent,n.next=6,Object(re.d)(na.success(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(re.d)(na.failure(n.t0));case 12:case"end":return n.stop()}}),ia,null,[[0,8]])}function ja(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:ca.success,error:ca.failure,params:{pending:ye.a.t("common.pending",{nodeid:e.payload.netid}),success:ye.a.t("toast.update.success.nodeacl",{nodeid:e.payload.netid}),error:function(t){return"".concat(ye.a.t("toast.update.failure.nodeacl",{nodeid:e.payload.netid})," : ").concat(t.response.data.Message)}}});case 3:return n.next=5,Ne("put","/networks/".concat(e.payload.netid,"/acls"),e.payload.aclContainer,{});case 5:return t=n.sent,n.next=8,Object(re.d)(ca.success(t.data));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(re.d)(ca.failure(n.t0));case 14:case"end":return n.stop()}}),oa,null,[[0,10]])}function ua(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Object(re.h)(Object(R.getType)(na.request),da),Object(re.h)(Object(R.getType)(ca.request),ja)]);case 2:case"end":return e.stop()}}),la)}var ba=function(e){return e.acls},ma=Object(ie.a)(ba,(function(e){return e.isProcessing})),xa=Object(ie.a)(ba,(function(e){return e.currentACL}));var ha=Object(R.createReducer)({isProcessing:!1,userGroups:[],networkUsers:{},networkUserData:{},currentAccessKey:{},isCreatingGroup:!1}).handleAction(Wt.success,(function(e,t){return Object(H.a)(e,(function(e){var n=function(e){var t={};return e&&Object.keys(e).map((function(n){return t[n]={},e[n]&&(e[n].nodes&&(t[n].nodes=e[n].nodes.map((function(e){return Object(vn.b)(e)}))),e[n].vpns&&(t[n].vpns=e[n].vpns.map((function(e){return Object(vn.b)(e)}))),e[n].networks&&(t[n].networks=e[n].networks.map((function(e){return At(e)}))),e[n].clients&&(t[n].clients=e[n].clients),e[n].user&&(t[n].user=e[n].user)),null})),t}(t.payload);JSON.stringify(e.networkUserData)!==JSON.stringify(n)&&(e.networkUserData=n)}))})).handleAction(Wt.failure,(function(e,t){return Object(H.a)(e,(function(e){e.networkUserData={}}))})).handleAction(Wt.request,(function(e,t){return Object(H.a)(e,(function(e){}))})).handleAction(Et.success,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1,t&&t.payload&&(e.userGroups=[],Object.keys(t.payload).map((function(t){return e.userGroups.push(t)})))}))})).handleAction(Et.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1,e.userGroups=[]}))})).handleAction(Et.request,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!0}))})).handleAction(Rt.request,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!0}))})).handleAction(Rt.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1}))})).handleAction(Rt.success,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1,e.userGroups=e.userGroups.filter((function(e){return e!==t.payload.groupName}))}))})).handleAction(Tt.request,(function(e,t){return Object(H.a)(e,(function(e){e.isCreatingGroup=!0}))})).handleAction(Tt.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isCreatingGroup=!1}))})).handleAction(Tt.success,(function(e,t){return Object(H.a)(e,(function(e){e.isCreatingGroup=!1,e.userGroups.push(t.payload.groupName)}))})).handleAction(Mt.request,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!0}))})).handleAction(Mt.success,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1,e.networkUsers=t.payload}))})).handleAction(Mt.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1}))})).handleAction(Dt.request,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!0}))})).handleAction(Dt.success,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1;var n=t.payload,c=n.networkName,a=n.networkUserID;e.networkUsers[c]=e.networkUsers[c].filter((function(e){return e.id!==a}))}))})).handleAction(Dt.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1}))})).handleAction(Pt.request,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!0}))})).handleAction(Pt.success,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1;var n=t.payload,c=n.networkName,a=n.networkUser,r=e.networkUsers[c],s=r.findIndex((function(e){return e.id===a.id}));~s&&(r[s]=a),e.networkUsers[c]=r}))})).handleAction(Pt.failure,(function(e,t){return Object(H.a)(e,(function(e){e.isProcessing=!1}))})).handleAction(_t.success,(function(e,t){return Object(H.a)(e,(function(e){~e.networkUserData[t.payload.netid].networks.findIndex((function(e){return e.netid===t.payload.netid}))&&(e.currentAccessKey={accessString:t.payload.newAccessKey.accessstring,value:t.payload.newAccessKey.value})}))})).handleAction(Ft,(function(e,t){return Object(H.a)(e,(function(e){e.currentAccessKey.accessString="",e.currentAccessKey.value=""}))})).handleAction(qt,(function(e,t){return Object(H.a)(e,(function(e){e.currentAccessKey=Object(Re.a)({},t.payload)}))})),pa=ae.a.mark(Sa),Oa=ae.a.mark(Aa),fa=ae.a.mark(Na),ga=ae.a.mark(Ia),ya=ae.a.mark(Ea),va=ae.a.mark(Ta),wa=ae.a.mark(Ra),ka=ae.a.mark(Ma),Ca="usergroups";function Sa(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(re.f)(vc);case 3:if(!e.sent.IsEE){e.next=10;break}return e.next=7,Ne("get","/".concat(Ca),{});case 7:return t=e.sent,e.next=10,Object(re.d)(Et.success(t.data));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(re.d)(Et.failure(e.t0));case 16:case"end":return e.stop()}}),pa,null,[[0,12]])}function Aa(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.f)(vc);case 3:if(!t.sent.IsEE){t.next=11;break}return t.next=7,Object(re.c)(Ue,{success:Rt.success,error:Rt.failure,params:{pending:ye.a.t("common.pending",{}),success:ye.a.t("toast.delete.success.usergroups",{}),error:function(e){return"".concat(ye.a.t("toast.delete.failure.usergroups")," : ").concat(e.response.data.Message)}}});case 7:return t.next=9,Ne("delete","/".concat(Ca,"/").concat(e.payload.groupName),{});case 9:return t.next=11,Object(re.d)(Rt.success(Object(Re.a)({},e.payload)));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(re.d)(Rt.failure(t.t0));case 17:case"end":return t.stop()}}),Oa,null,[[0,13]])}function Na(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.f)(vc);case 3:if(!t.sent.IsEE){t.next=11;break}return t.next=7,Object(re.c)(Ue,{success:Tt.success,error:Tt.failure,params:{pending:ye.a.t("common.pending",{}),success:ye.a.t("toast.create.success.usergroup",{}),error:function(e){return"".concat(ye.a.t("toast.create.failure.usergroup")," : ").concat(e.response.data.Message)}}});case 7:return t.next=9,Ne("post","/".concat(Ca,"/").concat(e.payload.groupName),{},{});case 9:return t.next=11,Object(re.d)(Tt.success(Object(Re.a)({},e.payload)));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(re.d)(Tt.failure(t.t0));case 17:case"end":return t.stop()}}),fa,null,[[0,13]])}function Ia(e){var t,n,c,a;return ae.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(re.f)(vc);case 3:return t=r.sent,r.next=6,Object(re.f)(de);case 6:if(n=r.sent){r.next=18;break}c=0;case 9:if(!(c<5)){r.next=18;break}return r.next=12,new Promise((function(e){return setTimeout(e,500)}));case 12:return r.next=14,Object(re.f)(de);case 14:n=r.sent;case 15:c++,r.next=9;break;case 18:if(!t.IsEE||!n){r.next=24;break}return r.next=21,Ne("get","/networkusers/data/".concat(e.payload.networkUserID||n.name,"/me"),{});case 21:return a=r.sent,r.next=24,Object(re.d)(Wt.success(a.data));case 24:r.next=30;break;case 26:return r.prev=26,r.t0=r.catch(0),r.next=30,Object(re.d)(Wt.failure(r.t0));case 30:case"end":return r.stop()}}),ga,null,[[0,26]])}function Ea(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(re.f)(vc);case 3:if(!e.sent.IsEE){e.next=10;break}return e.next=7,Ne("get","/networkusers",{});case 7:return t=e.sent,e.next=10,Object(re.d)(Mt.success(t.data));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(re.d)(Mt.failure(e.t0));case 16:case"end":return e.stop()}}),ya,null,[[0,12]])}function Ta(e){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.f)(vc);case 3:if(!t.sent.IsEE){t.next=11;break}return t.next=7,Object(re.c)(Ue,{success:Pt.success,error:Pt.failure,params:{pending:ye.a.t("common.pending",{}),success:ye.a.t("toast.update.success.networkuser",{}),error:function(e){return"".concat(ye.a.t("toast.update.failure.networkuser",{})," : ").concat(e.response.data.Message)}}});case 7:return t.next=9,Ne("put","/networkusers/".concat(e.payload.networkName),Object(Re.a)({},e.payload.networkUser),{});case 9:return t.next=11,Object(re.d)(Pt.success(e.payload));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(re.d)(Pt.failure(t.t0));case 17:case"end":return t.stop()}}),va,null,[[0,13]])}function Ra(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(re.c)(Ue,{success:_t.success,error:_t.failure,params:{pending:ye.a.t("common.pending"),success:ye.a.t("toast.create.success.accesskey"),error:function(e){return"".concat(ye.a.t("toast.create.failure.accesskey"),"\n").concat(e.response.data.Message)}}});case 3:return e.payload.newAccessKey.uses=Number(e.payload.newAccessKey.uses),n.next=6,Ne("post","/networks/".concat(e.payload.netid,"/keys"),e.payload.newAccessKey,{});case 6:return t=n.sent,n.next=9,Object(re.d)(_t.success({netid:e.payload.netid,newAccessKey:t.data}));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(re.d)(_t.failure(n.t0));case 15:case"end":return n.stop()}}),wa,null,[[0,11]])}function Ma(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Object(re.h)(Object(R.getType)(Et.request),Sa),Object(re.h)(Object(R.getType)(Rt.request),Aa),Object(re.h)(Object(R.getType)(Tt.request),Na),Object(re.h)(Object(R.getType)(Mt.request),Ea),Object(re.h)(Object(R.getType)(Pt.request),Ta),Object(re.h)(Object(R.getType)(Wt.request),Ia),Object(re.h)(Object(R.getType)(bc.success),Ia),Object(re.h)(Object(R.getType)(q.success),Ia),Object(re.h)(Object(R.getType)(gn.updateNode.success),Ia),Object(re.h)(Object(R.getType)(ht.success),Ia),Object(re.h)(Object(R.getType)(gn.updateExternalClient.success),Ia),Object(re.h)(Object(R.getType)(gn.createExternalClient.success),Ia),Object(re.h)(Object(R.getType)(gn.deleteNode.success),Ia),Object(re.h)(Object(R.getType)(gn.deleteExternalClient.success),Ia),Object(re.h)(Object(R.getType)(ft.success),Ia),Object(re.h)(Object(R.getType)(kt.success),Ia),Object(re.h)(Object(R.getType)(_t.request),Ra),Object(re.h)(Object(R.getType)(_t.success),Ia),Object(re.h)(Object(R.getType)(_.success),Sa),Object(re.h)(Object(R.getType)(xt.success),Sa),Object(re.h)(Object(R.getType)(q.success),Sa),Object(re.h)(Object(R.getType)(xt.success),Ea),Object(re.h)(Object(R.getType)(_.success),Ea),Object(re.h)(Object(R.getType)(q.success),Ea)]);case 2:case"end":return e.stop()}}),ka)}var Da=function(e){return e.pro},Pa=Object(ie.a)(Da,(function(e){return e.isProcessing})),Wa=Object(ie.a)(Da,(function(e){return e.userGroups})),_a=Object(ie.a)(Da,(function(e){return e.networkUsers})),Fa=Object(ie.a)(Da,(function(e){return e.networkUserData})),qa=Object(ie.a)(Da,(function(e){return Object.keys(e.networkUserData)})),Ua=Object(ie.a)(Da,(function(e){return e.currentAccessKey})),Ka=Object(ie.a)(Da,(function(e){return e.isCreatingGroup})),La=n(510),Ga=n(481),Va=n(7),Ba=n(26),Ha=n(535),za=n(522),Ya=n(528),Za=n(517),Qa=n(145),Ja=n(529),Xa=n(17),$a=n(0),er=O.a.createContext({add:function(){return function(){}},crumbs:[]}),tr=function(e){return Object($a.jsx)(Ja.a,Object(Re.a)(Object(Re.a)({},e),{},{component:Xa.b}))},nr=function(e){var t=e.children,n=O.a.useState([]),c=Object(Va.a)(n,2),a=c[0],r=c[1],s=O.a.useCallback((function(e){return r((function(t){return[].concat(Object(se.a)(t),[e]).sort((function(e,t){return e.link.length>t.link.length?1:-1}))})),function(){r((function(t){return Object(se.a)(t.filter((function(t){return t.link!==e.link})))}))}}),[r]);return Object($a.jsx)(er.Provider,{value:{add:s,crumbs:a},children:t})},cr=function(e){var t=e.title,n=e.link,c=Object(p.useContext)(er).crumbs;return Object($a.jsxs)(Za.a,{"aria-label":"breadcrumb",children:[Object($a.jsx)(tr,{underline:"hover",color:"inherit",to:n,children:t}),c.reduce((function(e,t,n){return n===c.length-1?(void 0!==t.prefix&&e.push(Object($a.jsx)(Qa.a,{color:"text.primary",children:t.prefix},t.link+t.prefix)),e.push(Object($a.jsx)(Qa.a,{color:"text.primary",children:t.title},t.link))):(void 0!==t.prefix&&e.push(Object($a.jsx)(tr,{underline:"hover",color:"inherit",to:t.link,children:t.prefix},t.link+t.prefix)),e.push(Object($a.jsx)(tr,{underline:"hover",color:"inherit",to:t.link,children:t.title},t.link))),e}),[])]})},ar=function(e){var t,n,c=Object(p.useContext)(er).add,a=Object(Ba.j)().url,r=O.a.useRef();r.current&&e.link===(null===(t=r.current)||void 0===t?void 0:t.link)&&e.title===r.current.title&&e.prefix===(null===(n=r.current)||void 0===n?void 0:n.prefix)||(r.current=e),O.a.useEffect((function(){return c(Object(Re.a)({link:a},r.current))}),[r.current])},rr=n(8),sr=n(521),ir=n(531),or=n(533),lr=n(520),dr=n(534),jr=n(74),ur=n.n(jr),br=n(243),mr=n.n(br),xr=n(229),hr=n(532),pr=n(454),Or=n(455),fr=n(456),gr=n(45),yr=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function vr(){var e=Object(Ya.a)().t,t=Object(T.c)(o.getNetworks),n=t?t.length:0,c=Object(gr.a)(),a=Object(Ba.g)(),r=[{icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/networks",onClick:function(e){return e.stopPropagation()},children:Object($a.jsx)(ur.a,{color:"primary"})}),name:e("common.view")},{icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/networks/create",onClick:function(e){return e.stopPropagation()},children:Object($a.jsx)(mr.a,{color:"primary"})}),name:e("common.create")},{icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/graphs",onClick:function(e){return e.stopPropagation()},children:Object($a.jsx)(pr.a,{color:"primary"})}),name:e("breadcrumbs.graphs")}],s=Object(p.useCallback)((function(e){a.push(e)}),[a]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%"},onClick:function(){return s("/networks")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("network.networks")),children:Object($a.jsx)(Or.a,{sx:{color:c.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("network.networks")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("network.networks"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(yr,{ariaLabel:"".concat(e("common.manage")," ").concat(e("network.networks")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:r.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("common.count")),children:Object($a.jsx)(Qa.a,{variant:"body1",color:"white",children:n})})})]})})]})}var wr=n(459),kr=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function Cr(){var e=Object(Ya.a)().t,t=Object(T.c)(l.getNodes).length,n=Object(gr.a)(),c=Object(Ba.g)(),a=[{icon:Object($a.jsx)(Xa.b,{to:"/nodes",children:Object($a.jsx)(ur.a,{color:"primary"})}),name:e("common.view")}],r=Object(p.useCallback)((function(e){c.push(e)}),[c]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%"},onClick:function(){return r("/nodes")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("node.nodes")),children:Object($a.jsx)(wr.a,{sx:{color:n.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("node.nodes")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("node.nodes"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(kr,{ariaLabel:"".concat(e("common.manage")," ").concat(e("node.nodes")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:a.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("common.count")),children:Object($a.jsx)(Qa.a,{variant:"body1",color:"white",children:t})})})]})})]})}var Sr=n(460),Ar=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function Nr(){var e=Object(Ya.a)().t,t=Object(T.c)(l.getExtClients).length,n=Object(gr.a)(),c=Object(Ba.g)(),a=[{icon:Object($a.jsx)(Xa.b,{to:"/ext-clients",children:Object($a.jsx)(ur.a,{color:"primary"})}),name:e("common.view")}],r=Object(p.useCallback)((function(e){c.push(e)}),[c]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%"},onClick:function(){return r("/ext-clients")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("breadcrumbs.extClients")),children:Object($a.jsx)(Sr.a,{sx:{color:n.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("breadcrumbs.extClients")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("breadcrumbs.extClients"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(Ar,{ariaLabel:"".concat(e("common.manage")," ").concat(e("breadcrumbs.extClients")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:a.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("common.count")),children:Object($a.jsx)(Qa.a,{variant:"body1",color:"white",children:t})})})]})})]})}var Ir=n(461),Er=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function Tr(){for(var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(Ba.g)(),c=Object(T.c)(o.getNetworks),a=0,r=0;r<c.length;r++)c[r].accesskeys&&(a+=c[r].accesskeys.length);var s=[{icon:Object($a.jsx)(Xa.b,{to:"/access-keys",children:Object($a.jsx)(ur.a,{color:"primary"})}),name:e("common.view")}],i=Object(p.useCallback)((function(e){n.push(e)}),[n]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",width:"100%",height:"100%"},onClick:function(){return i("/access-keys")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("breadcrumbs.accessKeys")),children:Object($a.jsx)(Ir.a,{sx:{color:t.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("breadcrumbs.accessKeys")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("breadcrumbs.accessKeys"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(Er,{ariaLabel:"".concat(e("common.manage")," ").concat(e("breadcrumbs.accessKeys")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:s.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("common.count")),children:Object($a.jsx)(Qa.a,{variant:"body1",color:"white",children:a})})})]})})]})}var Rr=n(462),Mr=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function Dr(){var e=Object(Ya.a)().t,t=Object(T.c)(o.getDnsEntries),n=Object(T.c)(j.getServerConfig).DNSMode,c=t&&n?t.length:0,a=Object(gr.a)(),r=Object(Ba.g)(),s=[{icon:Object($a.jsx)(Xa.b,{to:"/dns",children:Object($a.jsx)(ur.a,{color:"primary"})}),name:e("common.view")}],i=Object(p.useCallback)((function(e){r.push(e)}),[r]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%"},onClick:function(){return i("/dns")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("breadcrumbs.dns")),children:Object($a.jsx)(Rr.a,{sx:{color:a.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("breadcrumbs.dns")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("breadcrumbs.dns"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(Mr,{ariaLabel:"".concat(e("common.manage")," ").concat(e("breadcrumbds.dns")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:s.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("common.count")),children:Object($a.jsx)(Qa.a,{variant:"body1",color:"white",children:c})})})]})})]})}var Pr=n(245),Wr=n.n(Pr),_r=n(244),Fr=n.n(_r),qr=n(463),Ur=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function Kr(){var e=Object(Ya.a)().t,t=Object(T.c)(a.getUsers),n=Object(T.c)(j.getServerConfig),c=t.length,r=Object(gr.a)(),s=Object(Ba.g)(),i=[{icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/users",children:Object($a.jsx)(ur.a,{color:"primary"})}),name:"".concat(e("common.view")," ").concat(e("header.users"))}];n.IsEE&&(i.push({icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/user-permissions",children:Object($a.jsx)(Fr.a,{color:"primary"})}),name:"".concat(e("common.manage")," ").concat(e("pro.label.userpermissions"))}),i.push({icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/usergroups",children:Object($a.jsx)(Wr.a,{color:"primary"})}),name:"".concat(e("common.manage")," ").concat(e("pro.label.usergroups"))}));var o=Object(p.useCallback)((function(e){s.push(e)}),[s]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%"},onClick:function(){return o("/users")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("users.header")),children:Object($a.jsx)(qr.a,{sx:{color:r.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("users.header")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("users.header"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(Ur,{ariaLabel:"".concat(e("common.manage")," ").concat(e("user.header")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:i.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("common.count")),children:Object($a.jsx)(Qa.a,{variant:"body1",color:"white",children:c})})})]})})]})}var Lr=n(158),Gr=n.n(Lr),Vr=n(122),Br=n.n(Vr),Hr=n(246),zr=n.n(Hr),Yr=n(247),Zr=n.n(Yr),Qr=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function Jr(){var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(T.c)(j.getServerConfig),c=Object(Ba.g)(),a=[{icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/logs",children:Object($a.jsx)(Gr.a,{color:"primary"})}),name:e("pro.logs")}];n.IsEE&&a.push({icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/metrics/MetricsTable",children:Object($a.jsx)(Br.a,{color:"primary"})}),name:e("pro.metrics")});var r=Object(p.useCallback)((function(e){c.push(e)}),[c]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%"},onClick:function(){return r("/users/admin")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("users.header")),children:Object($a.jsx)(zr.a,{sx:{color:t.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("pro.admin")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("pro.admintools"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(Qr,{ariaLabel:"".concat(e("pro.admintools")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:a.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("common.count")),children:Object($a.jsx)(Qa.a,{variant:"body1",color:"white",children:Object($a.jsx)(Zr.a,{})})})})]})})]})}var Xr=n(464),$r=n(465),es=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function ts(){var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(Ba.g)(),c=[{icon:Object($a.jsx)(Xa.b,{color:"primary",to:"/acls",children:Object($a.jsx)(wr.a,{color:"primary"})}),name:"".concat(e("common.view")," ").concat(e("acls.nodes"))}],a=Object(p.useCallback)((function(e){n.push(e)}),[n]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%"},onClick:function(){return a("/acls")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("users.header")),children:Object($a.jsx)(Xr.a,{sx:{color:t.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("acls.fullname")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("header.acls"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(es,{ariaLabel:"".concat(e("common.manage")," ").concat(e("header.acls")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:c.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("acl.aclicon")),children:Object($a.jsx)($r.a,{sx:{color:t.palette.common.white}})})})]})})]})}var ns=n(466),cs=n(467),as=Object(rr.a)(lr.a)((function(e){var t=e.theme;return{"&.MuiSpeedDial-directionRight":{top:t.spacing(2),left:t.spacing(2)}}}));function rs(){var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(Ba.g)(),c=[{icon:Object($a.jsx)(Xa.b,{to:"/graphs",children:Object($a.jsx)(ns.a,{color:"primary"})}),name:e("common.view")}],a=Object(p.useCallback)((function(e){n.push(e)}),[n]);return Object($a.jsxs)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%"},onClick:function(){return a("/graphs")},className:"clickable",children:[Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("network.graphs")),children:Object($a.jsx)(pr.a,{sx:{color:t.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("network.graphs")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("node.nodevisual"))})]})]}),Object($a.jsx)(or.a,{children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(as,{ariaLabel:"".concat(e("common.manage")," ").concat(e("node.nodevisual")),icon:Object($a.jsx)(fr.a,{}),direction:"right",children:c.map((function(e){return Object($a.jsx)(dr.a,{color:"primary",icon:e.icon,tooltipTitle:e.name},e.name)}))})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":"".concat(e("network.graphs"),"-icon"),children:Object($a.jsx)(cs.a,{sx:{color:t.palette.common.white}})})})]})})]})}n(342);var ss=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(T.c)(a.getUser);return ar({title:t("breadcrumbs.dashboard")}),Object($a.jsx)(Ha.a,{children:Object($a.jsx)(Ba.d,{children:Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(vr,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(Cr,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(rs,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(Tr,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(Nr,{})}),(null===n||void 0===n?void 0:n.isAdmin)&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(Dr,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(ts,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(Kr,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3.75,children:Object($a.jsx)(Jr,{})})]})]})})})})},is=n(266),os=n(555),ls=n(523),ds=n(537),js=n(65),us=n(524),bs=["sx","to","children"],ms=function(e){var t=e.sx,n=e.to,c=e.children,a=Object(js.a)(e,bs),r=Object(Ba.g)(),s=Object(Ba.h)(),i=Object(p.useCallback)((function(){r.push("function"===typeof n?n(s):n)}),[n,s,r]);return Object($a.jsx)(us.a,Object(Re.a)(Object(Re.a)({},a),{},{sx:t,onClick:i,children:c}))},xs=n(515),hs=(Object(rr.a)(xs.a)((function(e){var t=e.theme;return{color:t.status.danger,"&.Mui-checked":{color:t.status.danger}}})),n(536)),ps=n(538),Os=n(269),fs=n(539),gs=n(540),ys=n(541),vs=n(542),ws=n(543),ks=n(516);function Cs(){return new URLSearchParams(Object(Ba.h)().search)}function Ss(e){var t=e.actions,n=e.columns,c=e.rows,r=e.getRowId,s=e.rowsPerPageOptions,i=e.tableId,o=void 0===i?"":i,l=Object(Ba.j)().url,d=Object(Ba.g)(),j=Cs(),u=Object(Ya.a)().t,b=Object(T.b)(),m=Object(T.c)(a.getUser),x=Object(T.c)(a.getUserSettings),h=function(e,t){d.push("".concat(l,"?page").concat(o,"=").concat(e,"&rowsPerPage").concat(o,"=").concat(t)),m&&t&&b(D({rowsPerPage:t,username:m.name,mode:x.mode}))};s=s||[10,25,100,250];var p=j.has("page".concat(o))?Number(j.get("page".concat(o))):0,O=j.has("rowsPerPage".concat(o))?Number(j.get("rowsPerPage".concat(o))):x&&x.rowsPerPage?x.rowsPerPage:s[0];return Object($a.jsx)(ps.a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"2vh",width:"100%",children:Object($a.jsxs)(Os.a,{sx:{width:"100vw",overflow:"hidden"},style:{paddingLeft:"0rem",paddingRight:"0"},children:[Object($a.jsx)(fs.a,{sx:{height:"auto",maxHeight:"40rem"},style:{justifyContent:"flex-start",overflowX:"auto",marginRight:"auto",marginLeft:"auto",padding:"10px"},children:Object($a.jsxs)(gs.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object($a.jsx)(ys.a,{children:Object($a.jsxs)(vs.a,{children:[n.map((function(e){return Object($a.jsx)(hs.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label?e.label:e.labelKey?u(e.labelKey):"No column label or key"},e.id)})),null===t||void 0===t?void 0:t.map((function(e,t){return Object($a.jsx)(hs.a,{width:40},"a".concat(t))}))]})}),Object($a.jsx)(ws.a,{children:c.slice(p*O,p*O+O).map((function(e,c){return Object($a.jsxs)(vs.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[n.map((function(t){var n=e[t.id];return Object($a.jsx)(hs.a,{align:t.align,children:void 0!==t.format?t.format(n,e):n},t.id)})),null===t||void 0===t?void 0:t.map((function(t,n){return function(e,t){var n=e.onClick,c=e.icon,a=e.disabled,r=e.tooltip;return Object($a.jsx)(hs.a,{width:40,children:Object($a.jsx)(ls.a,{title:r||"",children:Object($a.jsx)("span",{children:Object($a.jsx)(ds.a,{disabled:a,onClick:n,children:c})})})},"a".concat(t))}(t(e),n)}))]},r(e,c))}))})]})}),Object($a.jsx)(ks.a,{rowsPerPageOptions:s,component:"div",count:c.length,rowsPerPage:O,page:p,onPageChange:function(e,t){h(t,O)},onRowsPerPageChange:function(e){var t;h(0,Number(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value))}})]})})}var As=n(526),Ns=n(472),Is=n(473),Es=n(470),Ts=n(471),Rs=n(549),Ms=n(550),Ds=n(250),Ps=n.n(Ds),Ws=["children","onClose"],_s=Object(rr.a)(Es.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),Fs=function(e){var t=e.children,n=e.onClose,c=Object(js.a)(e,Ws);return Object($a.jsxs)(Ts.a,Object(Re.a)(Object(Re.a)({sx:{minWidth:"25%",m:0,p:2}},c),{},{children:[t,n?Object($a.jsx)(ds.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object($a.jsx)(Ps.a,{})}):null]}))};function qs(e){var t=Object(Ya.a)().t;return Object($a.jsx)("div",{children:Object($a.jsxs)(_s,{onClose:e.handleClose,"aria-labelledby":"customized-dialog-title",open:e.open,children:[Object($a.jsx)(Fs,{id:"customized-dialog-title",onClose:e.handleClose,children:e.title}),Object($a.jsx)(Rs.a,{dividers:!0,children:Object($a.jsx)(Qa.a,{gutterBottom:!0,children:e.message})}),Object($a.jsx)(Ms.a,{children:Object($a.jsx)(us.a,{autoFocus:!0,onClick:function(){e.handleAccept(),e.handleClose()},children:t("common.accept")})})]})})}var Us={":hover":{color:"red"}},Ks={":hover":{color:"#3f51b5"}},Ls=function(e){var t=e.which,n=e.node,c=e.isOn,a=e.createText,r=e.removeText,s=e.SignalIcon,i=e.withHistory,o=e.extraLogic,l=Object(T.b)(),d=O.a.useState(!1),j=Object(Va.a)(d,2),u=j[0],b=j[1],m=O.a.useState(!1),x=Object(Va.a)(m,2),h=x[0],p=x[1],f=Object(Ya.a)().t,g=function(){return b(!0)},y=function(){return b(!1)},v=function(){return p(!0)};return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(qs,{open:h,handleClose:function(){return p(!1)},handleAccept:function(){return c?function(e){switch(e){case"egress":l(gn.deleteEgressNode.request({netid:n.network,nodeid:n.id}));break;case"ingress":l(gn.deleteIngressNode.request({netid:n.network,nodeid:n.id}));break;case"relay":l(gn.deleteRelayNode.request({netid:n.network,nodeid:n.id}))}o&&o()}(t):("ingress"===t&&l(gn.createIngressNode.request({netid:n.network,nodeid:n.id})),void(o&&o()))},message:c?r:a,title:"".concat(f(c?"common.delete":"common.create")," ").concat(t)}),Object($a.jsx)(ls.a,{placement:"top",title:String(c?r:a),children:i&&!c?Object($a.jsx)(ds.a,{color:c?"success":"default",sx:c?Us:Ks,component:Xa.b,onClick:c?v:function(){},to:"/nodes/".concat(n.network,"/").concat(n.id,"/create-").concat(t),onMouseEnter:g,onMouseLeave:y,disabled:"relay"===t&&n.isrelayed,children:c?u?Object($a.jsx)(Ns.a,{}):Object($a.jsx)(Is.a,{}):s}):Object($a.jsx)(ds.a,{color:c?"success":"default",sx:c?Us:Ks,onClick:v,onMouseEnter:g,onMouseLeave:y,children:c?u?Object($a.jsx)(Ns.a,{}):Object($a.jsx)(Is.a,{}):s})})]})},Gs=n(475),Vs=n(476),Bs=n(477),Hs=n(478),zs=n(89),Ys=n.n(zs);function Zs(e){var t=Object(Ya.a)().t;return Object($a.jsx)(ls.a,{title:"".concat(t("common.copytext")),placement:"bottom",children:Object($a.jsx)("div",{onClick:function(){return Ys()(e.value)},children:Object($a.jsx)(us.a,{variant:"text",sx:{color:"inherit"},children:Object($a.jsx)(Qa.a,{variant:e.type,color:e.color,style:{textTransform:"none"},children:e.value})})})})}function Qs(e){var t=e.color,n=e.type,c=e.values;return Object($a.jsx)(za.a,{container:!0,children:c.map((function(e){return e?Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Zs,{type:n,value:e,color:t})},e):null}))})}var Js=n(474),Xs={":hover":{color:"red"}},$s={":hover":{color:"#3f51b5"}},ei=function(e){var t=e.node,n=Object(T.b)(),c=O.a.useState(!1),a=Object(Va.a)(c,2),r=a[0],s=a[1],i=O.a.useState(!1),o=Object(Va.a)(i,2),l=o[0],d=o[1],j=Object(Ya.a)().t;return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(qs,{open:l,handleClose:function(){return d(!1)},handleAccept:function(){return t.failover?void n(gn.deleteIngressNode.request({netid:t.network,nodeid:t.id})):void n(gn.createIngressNode.request({netid:t.network,nodeid:t.id,failover:!0}))},message:"".concat(j("pro.helpers.failover")),title:"".concat(t.failover?j("common.delete"):j("common.create")," ").concat(j("node.failover"))}),Object($a.jsx)(ls.a,{title:"".concat(t.failover?j("common.delete"):j("common.create")," ").concat(j("node.failover")),placement:"top",children:Object($a.jsx)(ds.a,{color:t.failover?"success":"default",sx:t.failover?Xs:$s,onClick:function(){return d(!0)},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:t.failover?r?Object($a.jsx)(Ns.a,{}):Object($a.jsx)(Is.a,{}):Object($a.jsx)(Js.a,{})})})]})},ti=function(){return Object(ie.a)(l.getNodes,(function(e,t){return t}),(function(e,t){return e.find(function(e){return function(t){return t.id===e}}(t))}))},ni=function(e){var t=Object(p.useMemo)(ti,[]);return Object(T.c)((function(n){return t(n,e)}))},ci=function(e,t){return e.filter((function(e){return e.network===t}))},ai=function(e){return ri(e.lastcheckin)},ri=function(e){var t=Date.now()/1e3;return void 0===e||null===e?"unknown":t-e>=1800?"error":t-e>=300?"warning":"healthy"},si=function(e,t){for(var n=[ai(e),ai(t)],c=null,a=0;a<n.length;a++){var r=n[a];if("error"===r){c="error";break}"unknown"===r&&"error"!==c?c="unknown":"warning"===r&&"error"!==c&&"unknown"!==c?c="warning":"healthy"===r&&"warning"!==c&&"unknown"!==c&&"error"!==c&&(c="healthy")}return null===c&&(c="unknown"),c},ii=function(e){var t=e.nodes,n=Object(Ya.a)().t,c=Object(T.b)(),a=O.a.useState({}),r=Object(Va.a)(a,2),s=r[0],i=r[1],o=[{id:"name",labelKey:"node.name",minWidth:100,sortable:!0,format:function(e,t){return Object($a.jsxs)(ms,{to:"/nodes/".concat(t.network,"/").concat(encodeURIComponent(t.id)),sx:{textTransform:"none"},children:[e,"".concat("yes"===t.ispending?" (".concat(ye.a.t("common.pending"),")"):"")]})}},{id:"address",labelKey:"node.addresses",minWidth:130,align:"right",format:function(e,t){return Object($a.jsx)(Qs,{type:"subtitle2",values:[t.address,t.address6]})}},{id:"version",labelKey:"node.version",minWidth:50,align:"center",format:function(e){return Object($a.jsx)($a.Fragment,{children:e||"N/A"})}},{id:"network",labelKey:"node.network",minWidth:100,align:"center",format:function(e){return Object($a.jsx)(ls.a,{disableTouchListener:!0,title:"".concat(n("node.connected")).concat(e),placement:"top",children:Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/networks/".concat(e),children:e})})}},{id:"isegressgateway",labelKey:"node.statusegress",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"egress",isOn:e,node:t,createText:"".concat(ye.a.t("node.createegress")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removeegress")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Gs.a,{}),withHistory:!0})}},{id:"isingressgateway",labelKey:"node.statusingress",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"ingress",isOn:e,node:t,createText:"".concat(ye.a.t("node.createingress")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removeingress")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Vs.a,{})})}},{id:"isrelay",labelKey:"node.statusrelay",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"relay",isOn:e,node:t,createText:"".concat(ye.a.t("node.createrelay")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removerelay")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Bs.a,{}),withHistory:!0})}},{id:"lastcheckin",labelKey:"node.status",minWidth:170,align:"center",format:function(e){switch(ri(e)){case"error":return Object($a.jsx)(ls.a,{title:n("node.error"),placement:"top",children:Object($a.jsx)(As.a,{color:"error",label:"ERROR"})});case"warning":return Object($a.jsx)(ls.a,{title:n("node.warning"),placement:"top",children:Object($a.jsx)(As.a,{color:"warning",label:"WARNING"})});default:return Object($a.jsx)(ls.a,{title:n("node.healthy"),placement:"top",children:Object($a.jsx)(As.a,{color:"success",label:"HEALTHY"})})}}}];if(Object(T.c)(j.getServerConfig).IsEE){var l=o[o.length-1];o[o.length-1]={id:"failover",labelKey:"node.failover",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(ei,{node:t})}},o.push(l)}ar({title:n("breadcrumbs.nodes")});var d=function(){i({})};return Object($a.jsxs)("div",{children:[Object($a.jsx)("hr",{}),Object($a.jsx)(Ss,{columns:o,rows:t,getRowId:function(e){return e.id},actions:[function(e){return{tooltip:e.isserver?n("common.disabled"):n("common.delete"),disabled:e.isserver,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){i(e)}}}]}),Object($a.jsx)(qs,{open:!!s.name,handleClose:d,handleAccept:function(){s.name&&(c(gn.deleteNode.request({netid:s.network,nodeid:s.id})),d())},message:n("node.deleteconfirm"),title:"".concat(n("common.delete")," ").concat(s.name)})]})},oi=n(551),li=n(514),di=n(525),ji=n(548),ui={PaperProps:{style:{maxHeight:224,width:250}}};function bi(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var mi=function(e){var t=e.selectAll,n=Object(T.c)(o.getNetworks),c=Object(p.useState)([]),a=Object(Va.a)(c,2),r=a[0],s=a[1],i=Object(Ya.a)().t,l=Object(Ba.g)(),d=Object(Ba.i)().netid,j=Object(T.b)(),u=Object(gr.a)(),b=Object(p.useState)(""),m=Object(Va.a)(b,2),x=m[0],h=m[1],O=Object(p.useCallback)((function(e){h(e),j(fc());var n=l.location.pathname.indexOf(d);void 0===d?l.push("".concat(l.location.pathname,"/").concat(e)):t&&e===i("common.selectall")?l.push(l.location.pathname.substr(0,n-1)):void 0!==d&&l.push(l.location.pathname.replace(d,e))}),[j,l,d,t,i]);return Object(p.useEffect)((function(){s(n.map((function(e){return e.netid}))),d&&O(d)}),[n,d,O]),t&&d&&-1===r.indexOf(i("common.selectall"))&&r.push(i("common.selectall")),Object($a.jsx)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,sx:{mt:2,mx:1},children:Object($a.jsx)(oi.a,{fullWidth:!0,children:Object($a.jsxs)(li.a,{displayEmpty:!0,value:x,onChange:function(e){return O(e.target.value)},input:Object($a.jsx)(di.a,{}),MenuProps:ui,inputProps:{"aria-label":i("common.select")},children:[Object($a.jsx)(ji.a,{disabled:!0,value:"",children:Object($a.jsx)("em",{children:"".concat(i("common.select")," ").concat(i("network.network"))})}),r.map((function(e){return Object($a.jsx)(ji.a,{value:e,style:bi(e,r,u),children:e},e)}))]})})})})},xi=n(487),hi=n(488),pi=function(){return Object(ie.a)(o.getNetworks,(function(e,t){return t}),(function(e,t){return e.find(function(e){return function(t){return t.netid===e}}(t))}))},Oi=function(e){var t=Object(p.useMemo)(pi,[]);return Object(T.c)((function(n){return t(n,e)}))},fi=function(){return Object(ie.a)(l.getNodes,(function(e,t){return t}),(function(e,t){return e.filter(function(e){return function(t){return t.network===e}}(t))}))},gi=function(e){var t=Object(p.useMemo)(fi,[]);return Object(T.c)((function(n){return t(n,e)}))};var yi=n(552),vi=n(553),wi=function(e){var t=new Date(1e3*e),n=[1,2,3,4,5,6,7,8,9,10,11,12];return t.getFullYear()+"-"+(n[t.getMonth()]<10?"0"+n[t.getMonth()]:n[t.getMonth()])+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+"T"+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())},ki=n(76),Ci=O.a.createContext({disabled:!1,control:{}}),Si=function(){return Object(p.useContext)(Ci)},Ai=n(479),Ni=n(480),Ii=["initialState","disabled","showReset","submitText","resetText","children","onSubmit","submitProps","resetProps","showOauth","resolver","onCancel"],Ei=O.a.forwardRef((function(e,t){var n=e.initialState,c=e.disabled,a=e.showReset,r=e.submitText,s=e.resetText,i=e.children,o=e.onSubmit,l=e.submitProps,d=e.resetProps,j=e.showOauth,u=e.resolver,b=e.onCancel,m=Object(js.a)(e,Ii),x=Object(ki.c)({defaultValues:n,resolver:u}),h=x.handleSubmit,p=x.reset,f=x.control,g=x.getValues;O.a.useImperativeHandle(t,(function(){return{reset:p,values:g()}}));var y=Object(Ya.a)().t;return Object($a.jsx)(Ci.Provider,{value:{control:f,disabled:c||!1},children:Object($a.jsxs)(ps.a,Object(Re.a)(Object(Re.a)({},m),{},{component:"form",children:[i,Object($a.jsx)("br",{}),Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:8,children:Object($a.jsx)(us.a,Object(Re.a)(Object(Re.a)({},l),{},{disabled:c,onClick:h(o),children:r||y("common.submit")}))}),j?Object($a.jsx)(za.a,{item:!0,xs:2,children:Object($a.jsx)(ls.a,{placement:"top",title:y("login.oauth.login"),children:Object($a.jsx)(ds.a,{color:"primary",href:"".concat(Q,"/api/oauth/login"),children:Object($a.jsx)(Ai.a,{})})})}):null,b?Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(ls.a,{placement:"top",title:y("common.cancel"),children:Object($a.jsx)(ds.a,{color:"primary",onClick:b,children:Object($a.jsx)(Ni.a,{})})})}):null]}),a&&Object($a.jsx)(us.a,Object(Re.a)(Object(Re.a)({},d),{},{onClick:function(){return p()},variant:"outlined",children:s||y("common.reset")}))]}))})})),Ti=function(e){var t=e.name,n=e.label,c=e.disabled,a=Si(),r=a.control,s=a.disabled;return Object($a.jsx)(ki.a,{name:t,control:r,render:function(e){var a=e.field,r=a.onChange,i=a.value;return Object($a.jsx)(yi.a,{disabled:s||c,control:Object($a.jsx)(xs.a,{checked:i,disabled:s||c,onChange:r,name:t}),label:n})}})},Ri=function(e){var t=e.name,n=e.label,c=e.disabled,a=e.labelPlacement,r=e.defaultValue,s=Si(),i=s.control,o=s.disabled;return Object($a.jsx)(ki.a,{name:t,control:i,render:function(e){var s=e.field,i=s.onChange,l=s.value,d=void 0===l?r:l;return Object($a.jsx)(yi.a,{disabled:o||c,labelPlacement:a,control:Object($a.jsx)(vi.a,{checked:d,disabled:o||c,onChange:i,name:t}),label:n})}})},Mi=["name","disabled","rightAlign"],Di=function(e){var t=e.name,n=e.disabled,c=e.rightAlign,a=Object(js.a)(e,Mi);return Object($a.jsx)(Ci.Consumer,{children:function(e){var r=e.control,s=e.disabled;return Object($a.jsx)(ki.a,{name:t,control:r,render:function(e){var t=e.field,r=t.onChange,i=t.value,o=t.ref,l=e.fieldState.error;return Object($a.jsx)(is.a,Object(Re.a)(Object(Re.a)({},a),{},{onChange:r,disabled:s||n,value:i,error:!!l,helperText:null===l||void 0===l?void 0:l.message,inputRef:o,inputProps:c?{style:{textAlign:"right"}}:{}}))}})}})};function Pi(e){return function(t){for(var n=Object.keys(t),c=!1,a={},r=0;r<n.length;r++){var s=n[r],i=e[s];if(i){var o=i(t[s],t);o&&(c=!0,a[s]=o)}}return c?{errors:a,values:{}}:{errors:{},values:t}}}function Wi(e){var t=e.name,n=e.children,c=e.disabled,a=Si(),r=a.control,s=a.disabled;return n(Object(ki.b)({control:r,name:t}).fields.map((function(e,n){return Object(Re.a)(Object(Re.a)({},e),{},{getFieldName:function(e){return"".concat(t,".").concat(n,".").concat(e)}})})),s||!!c)}var _i=["network","netty","dev","dev-net","office","office-vpn","netmaker-vpn","securoserv","quick","long","lite","inet","vnet","mesh","netmaker","site","lan-party","skynet","short","private","my-net","it-dept","test-net","kube-net","mynet","wg-net","wireguard-1","mesh-vpn","mesh-virt","virt-net","wg-vnet"],Fi=function(e,t){return t?Math.floor(Math.random()*e+1):Math.floor(Math.random()*e)},qi=function(){return"".concat(function(e){for(var t=[],n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],c=0;c<e;c++)t.push(n[Math.floor(16*Math.random())]);return t.join("")}(4),":4206:9753:2021::/64")},Ui=function(e){for(var t=e.split(","),n=0;n<t.length;n++)t[n]=t[n].trim();return t},Ki=function(e){var t=Date.now()/1e3;return t-e>=1800?2:t-e>=300?1:0},Li=function(e){for(var t=e.split(","),n=0;n<t.length;n++)t[n]=t[n].trim();return t},Gi=n(511),Vi=(new RegExp(/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i),new RegExp(/^([a-zA-Z0-9,\-,.]{3,40})|([A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4})$/i)),Bi=new RegExp(/^.{5,64}$/i),Hi=(new RegExp(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/\d{1,3}$/i),new RegExp(/^(\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.|$)){4}\b)$/i),new RegExp(/^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*(\/([0-9]|[1-9][0-9]|1[0-1][0-9]|12[0-8]))?$/i)),zi=new RegExp(/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/\d{1,2}$/i),Yi=new RegExp(/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i),Zi=new RegExp(/^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f ]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*$/i),Qi=(new RegExp(/^[0-3]$/i),new RegExp(/^[0-9]*$/i),n(518)),Ji=["name","disabled","rightAlign","selections"],Xi=function(e){var t=e.name,n=(e.disabled,e.rightAlign,e.selections),c=Object(js.a)(e,Ji),a=Si(),r=a.control,s=a.disabled;return Object($a.jsx)(ki.a,{name:t,control:r,render:function(e){var a=e.field,r=a.onChange,i=a.value;e.fieldState.error;return Object($a.jsxs)(oi.a,{sx:{minWidth:"80%"},children:[Object($a.jsx)(Qi.a,{id:"".concat(t,"-select"),children:c.label}),Object($a.jsx)(li.a,{disabled:s,labelId:"".concat(t,"-select"),id:"".concat(t,"-select"),value:i,label:c.label,onChange:r,fullWidth:!0,children:n.map((function(e){var t=e.key,n=e.option;return Object($a.jsx)(ji.a,{value:n,children:t},t)}))})]})}})},$i=function(e){var t,n,c=e.onCancel,a=Object(Ba.j)().url,r=Object(Ya.a)().t,s=Object(T.b)(),i=Object(T.c)(j.getServerConfig),o=Object(Ba.i)(),l=o.netid,d=o.nodeId,u=ni(decodeURIComponent(d)),b=Oi(l),m=Object(p.useMemo)((function(){return Pi({name:function(e,t){var n=r("error.name");if(!/^[a-zA-Z0-9-]+$/.test(e))return{message:n,type:"value"}},address:function(e,t){if(t.address)return Yi.test(e)?void 0:{message:r("network.validation.ipv4"),type:"value"}},address6:function(e,t){if(t.address6)return Hi.test(e)?void 0:{message:r("network.validation.ipv6"),type:"value"}},egressgatewayranges:function(e,t){if(t.isegressgateway){"string"===typeof e&&(e=Li(e));for(var n=0;n<e.length;n++){var c=zi.test(e[n]),a=Hi.test(e[n]);if(!c&&!a)return{message:r("node.validation.egressgatewayrange"),type:"value"}}}},relayaddrs:function(e,t){if(t.isrelay){"string"===typeof e&&(e=Li(e));for(var n=0;n<e.length;n++){var c=Yi.test(e[n]),a=Zi.test(e[n]);if(!c&&!a)return{message:r("node.validation.relayaddress"),type:"value"}}}}})}),[r]);ar({link:a,title:decodeURIComponent(r("common.edit"))});var x=O.a.useState(0),h=Object(Va.a)(x,2),f=h[0],g=h[1],y={margin:"1em 0 1em 0"},v=Object(p.useCallback)((function(e){if("string"===typeof e.relayaddrs){var t=Ui(String(e.relayaddrs));t.length&&(e.relayaddrs=t)}if("string"===typeof e.egressgatewayranges){var n=Ui(String(e.egressgatewayranges));n.length&&(e.egressgatewayranges=n)}if("string"===typeof e.allowedips){var c=Ui(String(e.allowedips));c.length&&(e.allowedips=c)}f&&f!==e.expdatetime&&(e.expdatetime=f),s(gn.updateNode.request({token:"",netid:l,node:Object(Re.a)(Object(Re.a)({},e),{},{isstatic:!e.isstatic})}))}),[s,l,f]);if(!u)return Object($a.jsx)("div",{children:"Not Found"});var w=!u.isstatic;return Object($a.jsx)(Ei,{resolver:m,initialState:Object(Re.a)(Object(Re.a)({},u),{},{isstatic:!u.isstatic}),onSubmit:v,onCancel:c,submitProps:{variant:"contained",fullWidth:!0},sx:y,children:Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"0.5em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(r("node.details")," : ").concat(u.name).concat("yes"===u.ispending?" (".concat(r("common.pending"),")"):"")})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:u.isstatic?String(r("node.endpointdisable")):String(r("node.endpointenable")),children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:u.endpoint,name:"endpoint",label:String(r("node.endpoint")),disabled:w})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.dynamicendpoint")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(r("node.isstatic")),name:"isstatic",defaultValue:w})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.defaultlistenport")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:String(u.listenport),name:"listenport",label:String(r("node.listenport")),type:"number",disabled:u.isserver||u.udpholepunch})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:(null===b||void 0===b?void 0:b.defaultudpholepunch)?String(r("helper.dynamicport")):String(r("node.udpdisabled")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(r("node.udpholepunch")),name:"udpholepunch",defaultValue:u.udpholepunch,disabled:!(null===b||void 0===b?void 0:b.defaultudpholepunch)})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.whatisipv4")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{name:"address",label:String(r("node.address")),defaultValue:u.address,disabled:u.isserver})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.whatisipv6")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:u.address6,name:"address6",label:String(r("node.address6")),disabled:!(null===b||void 0===b?void 0:b.isipv6)})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.localaddress")),placement:"top",children:Object($a.jsx)(Xi,{defaultValue:u.localaddress,label:String(r("node.localaddress")),name:"localaddress",selections:null!==(t=null===(n=u.interfaces)||void 0===n?void 0:n.map((function(e){return{key:"".concat(e.name," (").concat(e.addressString,")"),option:e.addressString}})))&&void 0!==t?t:[]})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.nodename")),placement:"top",children:Object($a.jsx)(Di,{defaultValue:u.name,name:"name",label:String(r("node.name"))})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.publickey")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!0,defaultValue:r("node.publickey"),name:"publickey",label:String(r("node.publickey"))})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.nodepostup")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:u.postup,name:"postup",label:String(r("node.postup")),disabled:!i.RCE})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.nodepostdown")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:u.postdown,label:String(r("node.postdown")),name:"postdown",disabled:!i.RCE})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.allowedips")),placement:"top",children:Object($a.jsx)(Di,{defaultValue:u.allowedips?u.allowedips.join(","):"",label:String(r("node.allowedips")),name:"allowedips"})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.persistentkeepalive")),placement:"top",children:Object($a.jsx)(Di,{defaultValue:u.persistentkeepalive,label:String(r("node.persistentkeepalive")),name:"persistentkeepalive"})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.relayaddress")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!u.isrelay,defaultValue:u.relayaddrs?u.relayaddrs.join(","):"",label:String(r("node.relayaddrs")),name:"relayaddrs"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.nodeexpires")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ga.b,{dateAdapter:La.a,children:Object($a.jsx)(Gi.a,{renderInput:function(e){return Object($a.jsx)(is.a,Object(Re.a)({fullWidth:!1,sx:{maxWidth:"15rem"}},e))},label:String(r("node.expdatetime")),value:wi(f||u.expdatetime),onChange:function(e){e&&g(new Date(e).getTime()/1e3)}})})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.lastcheckin")),placement:"top",children:Object($a.jsx)(is.a,{disabled:!0,value:wi(u.lastcheckin),label:String(r("node.lastcheckin")),name:"lastcheckin"})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.macaddress")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!0,defaultValue:u.macaddress,label:String(r("node.macaddress")),name:"macaddress"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.network")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!0,defaultValue:u.network,label:String(r("node.network")),name:"network"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.egressrange")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!u.isegressgateway,defaultValue:u.egressgatewayranges?u.egressgatewayranges.join(","):"",label:String(r("node.egressgatewayranges")),name:"egressgatewayranges"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.nodelocalrange")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:u.localrange,label:String(r("node.localrange")),name:"localrange",disabled:!u.islocal})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.nodeos")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!0,defaultValue:u.os,label:String(r("node.os")),name:"os"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.mtu")),placement:"top",children:Object($a.jsx)(Di,{type:"number",defaultValue:String(u.mtu),label:String(r("node.mtu")),name:"mtu"})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.defaultacl")),placement:"top",children:Object($a.jsx)(Xi,{defaultValue:void 0===u.defaultacl?dc:u.defaultacl?jc:uc,label:String(r("node.defaultacl")),name:"defaultacl",selections:[{key:dc,option:void 0},{key:jc,option:!0},{key:uc,option:!1}]})})}),Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.isdnson")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(r("node.dnson")),name:"dnson",defaultValue:u.dnson})})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.nodeislocal")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(r("node.islocal")),name:"islocal",defaultValue:u.islocal})})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.networkhub")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(r("node.ishub")),name:"ishub",defaultValue:u.ishub,disabled:!(null===b||void 0===b?void 0:b.ispointtosite)})})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:y,children:Object($a.jsx)(ls.a,{title:String(r("helper.isnodeconnected")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(r("node.togglenode")),name:"connected",defaultValue:u.connected})})})})]})]})})},eo=n.p+"static/media/netmaker-logo.b8edc1ae.png",to="static/media/netmaker-logo.b8edc1ae.png",no=n(252),co=n.n(no),ao=function(){var e=Object(Ya.a)().t,t=Object(T.c)(a.isInDarkMode),n={logo:{objectFit:"cover",maxWidth:"40%",height:"auto",width:"auto",minWidth:"8em"},center:{textAlign:"center"}};return Object($a.jsx)("div",{style:n.center,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,sx:{marginTop:"1em"},children:Object($a.jsx)(co.a,{style:{fontSize:"2em"}})}),Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1em"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(e("error.notfound"))})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sx:{marginTop:"3em"},children:Object($a.jsx)(us.a,{component:Xa.b,to:"/",children:Object($a.jsx)("img",{style:n.logo,src:t?to:eo,alt:"Netmaker makes networks."})})})]})})},ro=function(){var e=Object(Ba.j)(),t=e.path,n=e.url,c=Object(Ba.g)(),r=Object(Ya.a)().t,s=Object(T.b)(),i=Object(Ba.i)(),o=i.netid,l=i.nodeId,d=ni(decodeURIComponent(l)),j=Oi(o),u=Object(T.c)(a.getUser),b=O.a.useState(!1),m=Object(Va.a)(b,2),x=m[0],h=m[1],p=O.a.useState(!1),f=Object(Va.a)(p,2),g=f[0],y=f[1];ar({link:n,title:decodeURIComponent(l)});if(!d||!j)return Object($a.jsx)(ao,{});var v={margin:"1em 0 1em 0"},w=!d.isstatic;return Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{path:"".concat(t,"/edit"),children:Object($a.jsx)($i,{onCancel:function(){c.push(n.replace(":netid",d.network).replace(":nodeId",d.id).replace("/edit",""))}})}),Object($a.jsx)(Ba.b,{exact:!0,path:t,children:Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsx)(qs,{open:x,handleClose:function(){h(!1)},handleAccept:function(){s(gn.deleteNode.request({netid:d.network,nodeid:d.id})),c.push("/".concat(r("breadcrumbs.networks"),"/").concat(o,"/").concat(r("breadcrumbs.nodes")))},message:r("node.deleteconfirm"),title:"".concat(r("common.delete")," ").concat(d.name)}),Object($a.jsx)(qs,{open:g,handleClose:function(){return y(!1)},handleAccept:function(){s(gn.approveNode.request({netid:d.network,nodeid:d.id}))},message:r("node.approveconfirm"),title:"".concat(r("node.approve")," ").concat(d.name)}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(r("node.details")," : ").concat(d.name).concat("yes"===d.ispending?" (".concat(r("common.pending"),")"):"")})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:6,md:6,sx:v,children:Object($a.jsxs)("div",{style:{display:"flex",alignItems:"space-between",justifyContent:"center"},children:[Object($a.jsx)(ms,{to:"".concat(n,"/edit"),variant:"outlined",style:{width:"50%",margin:"4px"},children:r("common.edit")}),Object($a.jsx)(ms,{to:"/acls/".concat(o,"/").concat(l),variant:"outlined",style:{width:"50%",margin:"4px"},children:r("header.acls")}),Object($a.jsx)(ms,{to:"/metrics/".concat(o,"/").concat(l),variant:"outlined",style:{width:"50%",margin:"4px"},children:r("pro.metrics")}),Object($a.jsx)(us.a,{disabled:d.isserver,variant:"outlined",color:"warning",style:{width:"50%",margin:"4px"},onClick:function(){h(!0)},children:r("common.delete")}),j.allowmanualsignup&&"yes"===d.ispending&&(null===u||void 0===u?void 0:u.isAdmin)?Object($a.jsx)(us.a,{variant:"outlined",color:"secondary",style:{width:"50%",margin:"4px"},onClick:function(){return y(!0)},children:r("node.approve")}):null]})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:3,sx:v}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:3,sx:v}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.endpoint,label:String(r("node.endpoint"))})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:3,sx:v,children:Object($a.jsx)(yi.a,{label:String(r("node.isstatic")),control:Object($a.jsx)(vi.a,{checked:w,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.listenport,label:String(r("node.listenport"))})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:3,sx:v,children:Object($a.jsx)(yi.a,{label:String(r("node.udpholepunch")),control:Object($a.jsx)(vi.a,{checked:d.udpholepunch,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.address,label:String(r("node.address"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.address6,label:String(r("node.address6"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.localaddress,label:String(r("node.localaddress"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.name,label:String(r("node.name"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.publickey,label:String(r("node.publickey"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.postup,label:String(r("node.postup"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.postdown,label:String(r("node.postdown"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.allowedips?d.allowedips.join(","):"",label:String(r("node.allowedips"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.persistentkeepalive,label:String(r("node.persistentkeepalive"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:wi(d.lastmodified),label:String(r("node.lastmodified"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:wi(d.expdatetime),label:String(r("node.expdatetime"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:wi(d.lastcheckin),label:String(r("node.lastcheckin"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.macaddress,label:String(r("node.macaddress"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.egressgatewayranges?d.egressgatewayranges.join(","):"",label:String(r("node.egressgatewayranges"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.localrange,label:String(r("node.localrange"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.os,label:String(r("node.os"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.mtu,label:String(r("node.mtu"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:d.network,label:String(r("node.network"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:v,children:Object($a.jsx)(is.a,{disabled:!0,value:void 0===d.defaultacl?dc:d.defaultacl?jc:uc,label:String(r("node.defaultacl"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:v,children:Object($a.jsx)(yi.a,{label:String(r("node.dnson")),control:Object($a.jsx)(vi.a,{checked:d.dnson,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:v,children:Object($a.jsx)(yi.a,{label:String(r("node.islocal")),control:Object($a.jsx)(vi.a,{checked:d.islocal,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:v,children:Object($a.jsx)(yi.a,{label:String(r("node.ishub")),control:Object($a.jsx)(vi.a,{checked:d.ishub,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:v,children:Object($a.jsx)("span",{children:Object($a.jsx)(yi.a,{label:String(r("node.togglenode")),name:"connected",control:Object($a.jsx)(vi.a,{checked:d.connected,disabled:!0})})})})]})})]})})]})},so=n(486),io=n(54),oo=n(554),lo=n(399),jo=n(513),uo=n(482),bo={position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",backgroundColor:"white",border:"1px solid #000",minWidth:"33%",pt:2,px:4,pb:3};function mo(e){var t=(Object(io.a)()||{}).focused,n=O.a.useMemo((function(){return t?e.focusText:e.text}),[t,e.text,e.focusText]);return Object($a.jsx)(oo.a,{children:n})}var xo=Object(jo.a)((function(){return Object(uo.a)({center:{textAlign:"center"},rowMargin:{marginTop:"1em",marginBottom:"1em"}})}));function ho(){var e=Object(Ba.g)(),t=Object(gr.a)(),n=Object(Ya.a)().t,c=Object(Ba.i)(),a=c.netid,r=c.nodeId,s=Object(Ba.j)().url,i=ni(r),o=Object(T.b)(),l=xo();ar({link:s,title:n("breadcrumbs.createegress")});var d=Object(p.useCallback)((function(t){for(var n=t.ranges.split(","),c=0;c<n.length;c++)n[c]=n[c].trim();o(gn.createEgressNode.request({netid:a,nodeid:r,payload:{ranges:n,interface:t.iface,natEnabled:t.natEnabled?"yes":"no"}})),e.goBack()}),[o,a,r,e]),j=Object(p.useMemo)((function(){return Pi({ranges:function(e,t){if(t.ranges){"string"===typeof e&&(e=Li(e));for(var c=0;c<e.length;c++){var a=zi.test(e[c]),r=Hi.test(e[c]);if(!a&&!r)return{message:n("node.validation.egressgatewayrange"),type:"value"}}}}})}),[n]);return i?Object($a.jsx)(lo.a,{style:{display:"flex",flex:1},open:!0,onClose:function(){e.goBack()},children:Object($a.jsx)(ps.a,{style:Object(Re.a)(Object(Re.a)({},bo),{},{backgroundColor:t.palette.background.paper}),children:Object($a.jsx)(Ei,{initialState:{ranges:"",iface:"",natEnabled:!0},resolver:j,onSubmit:d,submitProps:{fullWidth:!0,variant:"contained"},submitText:n("common.create"),sx:{margin:"2em 0 2em 0"},children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",sx:{margin:"1em 0 1em 0"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:8,sx:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:n("node.createegress")})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,children:Object($a.jsx)(Di,{multiline:!0,minRows:2,fullWidth:!0,name:"ranges",label:String(n("node.egressgatewayranges")),sx:{height:"100%",margin:"1em 0 1em 0"}})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,children:Object($a.jsxs)(oi.a,{fullWidth:!0,children:[Object($a.jsx)(Di,{fullWidth:!0,name:"iface",label:String(n("node.interface"))}),Object($a.jsx)(mo,{text:n("helper.egress"),focusText:n("helper.egressiface")})]})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:10,md:10,className:l.center+" "+l.rowMargin,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(ls.a,{title:n("helper.defaultnatenabled"),placement:"top",children:Object($a.jsx)("div",{children:Object($a.jsx)(Ri,{name:"natEnabled",label:String(n("network.defaultnatenabled"))})})})})]})})})}):Object($a.jsx)(ao,{})}var po=n(483),Oo={PaperProps:{style:{maxHeight:224,width:250}}};function fo(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function go(e){var t=Object(gr.a)(),n=p.useState([]),c=Object(Va.a)(n,2),a=c[0],r=c[1],s=Object(Ya.a)().t;return Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsxs)(oi.a,{fullWidth:!0,children:[Object($a.jsx)(Qi.a,{id:"relay-select-label",children:s("node.choose")}),Object($a.jsx)(li.a,{labelId:"relay-select-label",id:"relay-select",multiple:!0,fullWidth:!0,value:a,onChange:function(t){var n=t.target.value;r("string"===typeof n?n.split(","):n),"string"===typeof n?e.onSelect(n):e.onSelect(n.join(","))},input:Object($a.jsx)(di.a,{id:"select-multiple-nodes",label:String(s("node.choose"))}),renderValue:function(e){return Object($a.jsx)(ps.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object($a.jsx)(As.a,{label:e},e)}))})},MenuProps:Oo,children:e.names.map((function(e){var n=e.name,c=e.address,r=e.isserver,s=e.address6;return r?null:Object($a.jsx)(ji.a,{value:"".concat(c||"").concat(c&&s?",":"").concat(s||""),style:fo(n,a,t),children:n},n)}))})]})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(ls.a,{title:s("common.selectall"),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){var t=e.names.map((function(e){return e.address})),n=t.join(",");r(t),e.onSelect(n)},color:"primary",children:Object($a.jsx)(po.a,{})})})})]})}var yo={position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",backgroundColor:"white",border:"1px solid #000",minWidth:"33%",pt:2,px:4,pb:3};function vo(){var e=Object(Ba.g)(),t=Object(gr.a)(),n=Object(Ya.a)().t,c=Object(Ba.i)(),a=c.netid,r=c.nodeId,s=Object(Ba.j)().url,i=ni(r),o=Object(T.b)(),l=gi(a),d=[];ar({link:s,title:n("breadcrumbs.createrelay")});var j=Object(p.useCallback)((function(t){for(var n=t.ranges.split(","),c=0;c<n.length;c++)n[c]=n[c].trim();o(gn.createRelayNode.request({netid:a,nodeid:r,payload:{ranges:n}})),e.goBack()}),[o,a,r,e]);if(!i||!l)return Object($a.jsx)(ao,{});for(var u=0;u<l.length;u++)if(l&&l.length){var b={name:l[u].name,address:l[u].address,isserver:l[u].isserver,address6:l[u].address6};l[u].id!==i.id&&d.push(b)}var m=O.a.createRef();return Object($a.jsx)(lo.a,{style:{display:"flex",flex:1},open:!0,onClose:function(){e.goBack()},children:Object($a.jsx)(ps.a,{style:Object(Re.a)(Object(Re.a)({},yo),{},{backgroundColor:t.palette.background.paper}),children:Object($a.jsx)(Ei,{initialState:{ranges:""},onSubmit:j,submitProps:{fullWidth:!0,variant:"contained"},submitText:n("common.create"),sx:{margin:"2em 0 2em 0"},ref:m,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",sx:{margin:"1em 0 1em 0"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:8,sx:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(n("node.createrelay")," : ").concat(i.name)})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,children:Object($a.jsx)(Di,{multiline:!0,minRows:2,fullWidth:!0,disabled:!0,name:"ranges",label:String(n("node.relayaddrs")),sx:{height:"100%",margin:"1em 0 1em 0"}})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,children:Object($a.jsx)(go,{names:d,onSelect:function(e){var t,n;null===(t=m.current)||void 0===t||t.reset(Object(Re.a)(Object(Re.a)({},null===(n=m.current)||void 0===n?void 0:n.values),{},{ranges:e}),{keepDefaultValues:!0})}})})]})})})})}var wo={":hover":{color:"#3f51b5"}},ko=function(e){var t=e.node,n=e.createText,c=e.disabledText,a=e.SignalIcon,r=e.extraLogic,s=Object(T.b)(),i=O.a.useState(!1),o=Object(Va.a)(i,2),l=o[0],d=o[1],j=O.a.useState(!1),u=Object(Va.a)(j,2),b=u[0],m=u[1],x=Object(Ya.a)().t,h=function(){return m(!1)};return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(qs,{open:b,handleClose:h,handleAccept:function(){s(gn.updateNode.request({netid:t.network,token:"",node:Object(Re.a)(Object(Re.a)({},t),{},{ishub:!0})})),r&&r(),h()},message:t.ishub?c:n,title:"".concat(t.ishub?x("common.disabled"):x("node.updatenode")," ").concat(t.name)}),Object($a.jsx)(ls.a,{placement:"top",title:String(t.ishub?c:n),children:Object($a.jsx)("span",{children:Object($a.jsx)(ds.a,{color:t.ishub?"success":"default",sx:wo,onClick:function(){return m(!0)},disabled:t.ishub,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:t.ishub?l?Object($a.jsx)(Ns.a,{}):Object($a.jsx)(Is.a,{}):a})})})]})},Co=n(484),So=n(485);function Ao(e){var t=e.values,n=e.ascending,c=e.onSelect,a=e.onAscendClick,r=e.currentValue,s=Object(Ya.a)().t;return Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:9.25,children:Object($a.jsxs)(oi.a,{fullWidth:!0,children:[Object($a.jsx)(Qi.a,{children:s("common.sortby")}),Object($a.jsx)(li.a,{label:s("common.sortby"),defaultValue:r,onChange:function(e){c(e.target.value)},children:!!t.length&&t.map((function(e){return Object($a.jsx)(ji.a,{value:e,children:e})}))})]})}),Object($a.jsx)(za.a,{item:!0,xs:2.5,children:Object($a.jsx)(ls.a,{title:String(s(n?"common.descend":"common.ascend")),children:Object($a.jsx)(ds.a,{onClick:a,children:n?Object($a.jsx)(Co.a,{color:"primary"}):Object($a.jsx)(So.a,{color:"primary"})})})})]})}var No=function(){var e=Object(Ba.j)(),t=e.path,n=e.url,c=Object(Ya.a)().t,a=Object(Ba.i)().netid,r=Oi(a),s=gi(a)||[],i=Object(T.c)(l.getNodeSort),o=O.a.useState(s),d=Object(Va.a)(o,2),u=d[0],b=d[1],m=O.a.useState({}),x=Object(Va.a)(m,2),h=x[0],f=x[1],g=Object(T.b)(),y=Object(Ba.g)(),v=Object(p.useState)(" "),w=Object(Va.a)(v,2),k=w[0],C=w[1],S=Object(T.c)(j.getServerConfig);Object(p.useEffect)((function(){b(k?s.filter((function(e){return"".concat(e.name).concat(e.address).concat(e.network).includes(k)})):s)}),[s,k]);ar({link:n,title:c("breadcrumbs.nodes")});if(!s||!r)return Object($a.jsx)("h5",{children:"Not found, data missing"});var A=[{id:"name",labelKey:"node.name",minWidth:100,sortable:!0,format:function(e,t){return Object($a.jsxs)(ms,{to:"/nodes/".concat(t.network,"/").concat(encodeURIComponent(t.id)),sx:{textTransform:"none"},children:[e,"".concat("yes"===t.ispending?" (".concat(ye.a.t("common.pending"),")"):"")]})}},{id:"address",labelKey:"node.addresses",minWidth:130,align:"right",format:function(e,t){return Object($a.jsx)(Qs,{type:"subtitle2",values:[t.address,t.address6]})}},{id:"version",labelKey:"node.version",minWidth:50,align:"center",format:function(e){return Object($a.jsx)($a.Fragment,{children:e||"N/A"})}},{id:"network",labelKey:"node.network",minWidth:100,align:"right",format:function(e){return Object($a.jsx)(ls.a,{disableTouchListener:!0,title:"".concat(c("node.connected")).concat(e),placement:"top",children:Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/networks/".concat(e),children:e})})}},{id:"isegressgateway",labelKey:"node.statusegress",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"egress",isOn:e,node:t,createText:"".concat(ye.a.t("node.createegress")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removeegress")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Gs.a,{}),withHistory:!0})}},{id:"isingressgateway",labelKey:"node.statusingress",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"ingress",isOn:e,node:t,createText:"".concat(ye.a.t("node.createingress")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removeingress")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Vs.a,{})})}},{id:"isrelay",labelKey:"node.statusrelay",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"relay",isOn:e,node:t,createText:"".concat(ye.a.t("node.createrelay")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removerelay")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Bs.a,{}),withHistory:!0})}},{id:"lastcheckin",labelKey:"node.status",minWidth:170,align:"center",format:function(e){var t=Date.now()/1e3;return t-e>=1800?Object($a.jsx)(ls.a,{title:c("node.error"),placement:"top",children:Object($a.jsx)(As.a,{color:"error",label:"ERROR"})}):t-e>=300?Object($a.jsx)(ls.a,{title:c("node.warning"),placement:"top",children:Object($a.jsx)(As.a,{color:"warning",label:"WARNING"})}):Object($a.jsx)(ls.a,{title:c("node.healthy"),placement:"top",children:Object($a.jsx)(As.a,{color:"success",label:"HEALTHY"})})}}];if(r.ispointtosite&&A.push({id:"ishub",labelKey:"node.statushub",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(ko,{node:t,createText:"".concat(ye.a.t("node.createhub")," : ").concat(t.name),disabledText:"".concat(ye.a.t("node.onehub")," : ").concat(t.name),SignalIcon:Object($a.jsx)(so.a,{})})}}),S.IsEE){var N=A[A.length-1];A[A.length-1]={id:"failover",labelKey:"node.failover",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(ei,{node:t})}},A.push(N)}var I=function(){f({})};return Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:t,children:[Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,md:12,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:8,md:4,children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(a," ").concat(c("node.nodes"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,md:8,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:2,md:1,children:Object($a.jsx)(ls.a,{title:"".concat(c("network.graph")),placement:"top","aria-label":"view node graph",children:Object($a.jsx)(ds.a,{component:Xa.b,to:"/graphs/".concat(a),children:Object($a.jsx)(pr.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:5,md:3,children:Object($a.jsx)(Ao,{values:["address","name","network"],ascending:i.ascending,onSelect:function(e){"address"!==e&&"name"!==e&&"network"!==e||g(Object(gn.setNodeSort)(Object(Re.a)(Object(Re.a)({},i),{},{value:e})))},onAscendClick:function(){g(Object(gn.setNodeSort)(Object(Re.a)(Object(Re.a)({},i),{},{ascending:!i.ascending})))},currentValue:i.value})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:3,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(c("common.search")," ").concat(c("node.nodes")),onChange:function(e){var t=e.target.value.trim();C(t)}})}),Object($a.jsx)(za.a,{item:!0,xs:7.5,md:3,paddingBottom:"1rem",children:Object($a.jsx)(mi,{selectAll:!0})}),Object($a.jsx)(za.a,{item:!0,xs:1,md:1,children:Object($a.jsx)(ls.a,{title:c("node.sync"),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:function(){a&&y.push("/nodes/".concat(a))},children:Object($a.jsx)(hi.a,{})})})})]})})]})})}),Object($a.jsx)("hr",{}),Object($a.jsx)(Ss,{columns:A,rows:u.length&&u.length<s.length?u:s,actions:[function(e){return{tooltip:e.isserver?c("common.disabled"):c("common.delete"),disabled:e.isserver,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){f(e)}}}],getRowId:function(e){return e.id}}),Object($a.jsx)(qs,{open:!!h.name,handleClose:I,handleAccept:function(){h.name&&(g(gn.deleteNode.request({netid:h.network,nodeid:h.id})),I())},message:c("node.deleteconfirm"),title:"".concat(c("common.delete")," ").concat(h.name)})]}),Object($a.jsx)(Ba.b,{path:"".concat(t,"/:nodeId/create-egress"),children:Object($a.jsx)(ho,{})}),Object($a.jsx)(Ba.b,{path:"".concat(t,"/:nodeId/create-relay"),children:Object($a.jsx)(vo,{})}),Object($a.jsx)(Ba.b,{path:"".concat(t,"/:nodeId"),children:Object($a.jsx)(ro,{})})]})},Io=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(T.c)(l.getNodes),c=Object(T.c)(l.getNodeSort),a=O.a.useState(n),r=Object(Va.a)(a,2),s=r[0],i=r[1],o=Object(Ba.g)(),d=Object(T.b)(),j=Object(p.useState)(" "),u=Object(Va.a)(j,2),b=u[0],m=u[1];Object(p.useEffect)((function(){i(b?n.filter((function(e){return"".concat(e.name).concat(e.address).concat(e.network).includes(b)})):n)}),[n,b]);return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:e,children:[Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:3,md:3,children:Object($a.jsx)("h2",{children:t("node.nodes")})}),Object($a.jsx)(za.a,{item:!0,xs:10,md:7,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,md:3,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(t("common.search")," ").concat(t("node.nodes")),onChange:function(e){var t=e.target.value.trim();m(t)}})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:3,paddingBottom:"1rem",children:Object($a.jsx)(mi,{})}),Object($a.jsx)(za.a,{item:!0,xs:1,md:1,children:Object($a.jsx)(ls.a,{title:t("node.sync"),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:function(){o.push("/nodes")},children:Object($a.jsx)(hi.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:10,md:3.5,children:Object($a.jsx)(Ao,{values:["address","name","network"],ascending:c.ascending,onSelect:function(e){"address"!==e&&"name"!==e&&"network"!==e||d(Object(gn.setNodeSort)(Object(Re.a)(Object(Re.a)({},c),{},{value:e})))},onAscendClick:function(){d(Object(gn.setNodeSort)(Object(Re.a)(Object(Re.a)({},c),{},{ascending:!c.ascending})))},currentValue:c.value})})]})})]}),Object($a.jsx)(ii,{nodes:s.length&&s.length<n.length?s:n})]}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:Object($a.jsx)(No,{})})]})})},Eo=n(556),To={centerText:{textAlign:"center"},vertTabs:{flex:1,display:"flex",flexDirection:"column",position:"relative"},center:{flex:1,display:"flex",textAlign:"center"}};function Ro(){var e,t=Object(T.b)(),n=Object(T.c)(a.isLogginIn),c=Object(T.c)(a.getLoggedIn),r=Object(T.c)(a.getAuthError),s=Object(T.c)(l.getShouldSignOut),i=Object(Ya.a)().t,o=O.a.useState(""),d=Object(Va.a)(o,2),j=d[0],u=d[1],b=O.a.useState(!1),m=Object(Va.a)(b,2),x=m[0],h=m[1],f=Object(Ba.h)(),g=Cs(),y=g.has("oauth")?g.get("oauth"):"",v=g.has("login")?g.get("login"):"";Object(p.useEffect)((function(){return"auth"===s?(u(i("error.unauthorized")),void t(Object(gn.setShouldLogout)(""))):"network"===s?(u(i("error.network")),void t(Object(gn.setShouldLogout)(""))):y?(u(i("login.oauth.failed")),void h(!0)):void(r?u(i("error.tokenexpire")):(v&&t(q.success({token:v})),x&&(n?u(""):c||u(i("login.loginFailed")))))}),[n,c,x,y,v,t,u,i,r,s]);var w=Object(p.useMemo)((function(){return Pi({username:function(e){return Vi.test(e)?void 0:{message:i("login.validation.username"),type:"value"}},password:function(e){return Bi.test(e)?void 0:{message:i("login.validation.password"),type:"value"}}})}),[i]),k=Object(p.useCallback)((function(e){t(q.request(e)),h(!0)}),[t,h]);return c?Object($a.jsx)(Ba.a,{to:(null===(e=f.state)||void 0===e?void 0:e.from)||"/"}):Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsxs)("div",{style:To.centerText,children:[j&&Object($a.jsx)(Qa.a,{variant:"h5",color:"error",children:j}),n&&Object($a.jsx)(Eo.a,{})]})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:To.centerText,children:Object($a.jsx)("h3",{children:i("login.header")})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Ei,{initialState:{username:"",password:""},resolver:w,onSubmit:k,submitText:i("login.login"),showOauth:!0,submitProps:{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:To.vertTabs},disabled:n,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"username",label:String(i("login.label.username")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",autoFocus:!0})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"password",label:String(i("login.label.password")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,placeholder:"",type:"password",id:"password",autoComplete:"false"})})]})})})]})}var Mo={centerText:{textAlign:"center"},vertTabs:{flex:1,display:"flex",flexDirection:"column",position:"relative"},center:{flex:1,display:"flex",textAlign:"center"},margin:{marginBottom:"1em"}};function Do(){var e=Object(T.b)(),t=Object(Ya.a)().t,n=O.a.useState(""),c=Object(Va.a)(n,2),r=c[0],s=c[1],i=O.a.useState(!1),o=Object(Va.a)(i,2),d=o[0],j=o[1],u=Object(T.c)(a.isCreating),b=Object(T.c)(a.hasAdmin),m=Object(T.c)(a.hasNetworkError),x=Object(T.c)(l.getShouldSignOut);Object(p.useEffect)((function(){(m||"network"===x)&&(s(t("error.network")),e(Object(gn.setShouldLogout)(""))),"auth"===x&&(s(t("error.unauthorized")),e(Object(gn.setShouldLogout)(""))),d&&u&&s("")}),[u,d,s,t,m,x,e]);var h=Object(p.useMemo)((function(){return Pi({username:function(e){return Vi.test(e)?void 0:{message:t("login.validation.username"),type:"value"}},password:function(e){return Bi.test(e)?void 0:{message:t("login.validation.password"),type:"value"}},confirmation:function(e,n){return e!==n.password?{message:t("login.validation.confirmation"),type:"value"}:void 0}})}),[t]),f=Object(p.useCallback)((function(t){e(K.request(t)),j(!0)}),[e,j]);return b?Object($a.jsx)(Ba.a,{to:"/"}):Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",style:Mo.margin,children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsxs)("div",{style:Mo.centerText,children:[r&&Object($a.jsx)(Qa.a,{variant:"h5",color:"error",children:r}),u&&Object($a.jsx)(Eo.a,{})]})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:Mo.centerText,children:Object($a.jsx)("h3",{children:t("login.admin.create")})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Ei,{initialState:{username:"",password:"",confirmation:""},resolver:h,onSubmit:f,submitText:t("login.admin.creating"),showOauth:!0,submitProps:{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:Mo.vertTabs},disabled:u,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,sm:12,md:10,children:Object($a.jsx)(Di,{name:"username",label:String(t("login.label.username")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",autoFocus:!0})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:10,children:Object($a.jsx)(Di,{name:"password",label:String(t("login.label.password")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,placeholder:"",type:"password",id:"password",autoComplete:"false"})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:10,children:Object($a.jsx)(Di,{name:"confirmation",label:String(t("login.label.confirmation")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,placeholder:"",type:"password",id:"confirmation",autoComplete:"false"})})]})})})]})}var Po={position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,backgroundColor:"white",border:"1px solid #000",minWidth:"33%",pt:2,px:4,pb:3};function Wo(){var e=Object(Ba.g)(),t=Object(T.c)(a.hasAdmin),n=Object(gr.a)();return Object($a.jsx)(lo.a,{style:{display:"flex",flex:1},open:!0,onClose:function(t,n){["escapeKeyDown","backdropClick"].includes(n)||e.goBack()},children:Object($a.jsx)(ps.a,{style:Object(Re.a)(Object(Re.a)({},Po),{},{backgroundColor:n.palette.background.paper}),children:t?Object($a.jsx)(Ro,{}):Object($a.jsx)(Do,{})})})}var _o={addressrange:"",netid:"",localrange:"",islocal:!1,isipv4:!0,isipv6:!1,addressrange6:"",defaultudpholepunch:!1,ispointtosite:!1,defaultacl:!0,defaultaccesslevel:3,defaultusernodelimit:0,defaultuserclientlimit:0},Fo=Object(jo.a)((function(){return Object(uo.a)({center:{textAlign:"center"},rowMargin:{marginTop:"1em",marginBottom:"1em"}})})),qo=function(){var e=Object(Ya.a)().t,t=Object(T.b)(),n=Object(T.c)(j.getServerConfig),c=Object(Ba.g)(),a=Fo(),r=O.a.useState(!1),s=Object(Va.a)(r,2),i=s[0],o=s[1],l=O.a.useState(!0),d=Object(Va.a)(l,2),u=d[0],b=d[1],m=O.a.useState(!1),x=Object(Va.a)(m,2),h=x[0],f=x[1],g=Object(p.useCallback)((function(e){t(Ot.request(Object(Re.a)(Object(Re.a)({},e),{},{islocal:e.islocal?"yes":"no",isipv4:e.isipv4?"yes":"no",isipv6:e.isipv6?"yes":"no",addressrange6:e.isipv6?e.addressrange6:"",addressrange:e.isipv4?e.addressrange:"",defaultudpholepunch:e.defaultudpholepunch?"yes":"no",ispointtosite:e.ispointtosite?"yes":"no",defaultacl:e.defaultacl?"yes":"no",prosettings:{defaultaccesslevel:n.IsEE?3:Number(e.defaultaccesslevel),defaultusernodelimit:Number(e.defaultusernodelimit),defaultuserclientlimit:Number(e.defaultuserclientlimit),allowedusers:[],allowedgroups:["*"]}}))),t(xt.request()),c.push("/networks")}),[t,c,n]),y=Object(p.useMemo)((function(){return Pi({addressrange:function(t,n){if(n.isipv4)return zi.test(t)?void 0:{message:e("network.validation.ipv4"),type:"value"}},addressrange6:function(t,n){if(n.isipv6)return Hi.test(t)?void 0:{message:e("network.validation.ipv6"),type:"value"}},defaultaccesslevel:function(t){if(t<0||t>3)return{message:e("network.validation.accesslevel"),type:"value"}},defaultusernodelimit:function(t){if(t<0)return{message:e("network.validation.nodelimit"),type:"value"}},defaultuserclientlimit:function(t){if(t<0)return{message:e("network.validation.clientlimit"),type:"value"}},netid:function(t){if(t.length>12)return{message:e("network.validation.netidcheck"),type:"value"}}})}),[e]),v=O.a.createRef();ar({title:e("common.create")});return Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Ei,{initialState:_o,resolver:y,onSubmit:g,submitProps:{variant:"contained",fullWidth:!0},submitText:e("network.create"),ref:v,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:7,className:a.center+" "+a.rowMargin,children:Object($a.jsx)(us.a,{onClick:function(){var e,t;null===(e=v.current)||void 0===e||e.reset(Object(Re.a)(Object(Re.a)({},null===(t=v.current)||void 0===t?void 0:t.values),{},{netid:_i[Fi(_i.length,!1)],addressrange:u?"10.".concat(Fi(254,!0),".").concat(Fi(254,!0),".0/24"):"",addressrange6:h?qi():"",defaultudpholepunch:!0}),{keepDefaultValues:!0})},style:{width:"33%"},variant:"outlined",children:e("common.autofill")})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:12,md:7,className:a.center+" "+a.rowMargin,children:Object($a.jsx)(Di,{style:{width:"90%"},name:"netid",label:"".concat(e("network.netid")," (").concat(e("common.max")," 12 ").concat(e("common.lowercase")," ").concat(e("common.chars"),")")})}),Object($a.jsxs)(za.a,{item:!0,xs:12,sm:12,md:10,className:a.rowMargin,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object($a.jsx)(ls.a,{title:e("helper.ipv4"),children:Object($a.jsx)("div",{onClick:function(){b(!u)},children:Object($a.jsx)(Ri,{name:"isipv4",label:String(e("network.isipv4"))})})}),u&&Object($a.jsx)(Di,{style:{width:"60%"},name:"addressrange",label:String(e("network.addressrange"))})]}),Object($a.jsxs)(za.a,{item:!0,xs:12,sm:12,md:10,className:a.rowMargin,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object($a.jsx)(ls.a,{title:e("helper.ipv6"),children:Object($a.jsx)("div",{onClick:function(){f(!h)},children:Object($a.jsx)(Ri,{name:"isipv6",label:String(e("network.isipv6"))})})}),h&&Object($a.jsx)(Di,{style:{width:"60%"},name:"addressrange6",label:String(e("network.addressrange6"))})]}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:10,md:10,className:a.center+" "+a.rowMargin,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(ls.a,{title:e("helper.udpholepunching"),placement:"top",children:Object($a.jsx)("div",{children:Object($a.jsx)(Ri,{name:"defaultudpholepunch",label:String(e("network.defaultudpholepunch"))})})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:10,md:10,className:a.center+" "+a.rowMargin,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(ls.a,{title:e("helper.defaultacl"),placement:"top",children:Object($a.jsx)("div",{children:Object($a.jsx)(Ri,{name:"defaultacl",label:String(e("network.defaultacl"))})})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:10,md:10,className:a.center+" "+a.rowMargin,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(ls.a,{title:e("helper.ispointtosite"),placement:"top",children:Object($a.jsx)("div",{children:Object($a.jsx)(Ri,{name:"ispointtosite",label:String(e("network.ispointtosite"))})})})}),Object($a.jsxs)(za.a,{item:!0,xs:12,sm:12,md:10,className:a.center+" "+a.rowMargin,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object($a.jsx)(ls.a,{title:e("helper.islocal"),placement:"top",children:Object($a.jsx)("div",{onClick:function(){o(!i)},children:Object($a.jsx)(Ri,{name:"islocal",label:String(e("network.islocal"))})})}),i&&Object($a.jsx)(Di,{style:{width:"60%"},name:"localrange",label:String(e("network.localrange"))})]}),n.IsEE&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:12,md:3,className:a.center+" "+a.rowMargin,children:Object($a.jsx)(ls.a,{title:e("pro.helpers.accesslevel"),placement:"top",children:Object($a.jsx)(Di,{name:"defaultaccesslevel",label:String(e("pro.network.defaultaccesslevel")),type:"number",defaultValue:3})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:12,md:3,className:a.center+" "+a.rowMargin,children:Object($a.jsx)(ls.a,{title:e("pro.helpers.usernodelimit"),placement:"top",children:Object($a.jsx)(Di,{name:"defaultusernodelimit",label:String(e("pro.network.defaultusernodelimit")),type:"number",defaultValue:0})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:12,md:3,className:a.center+" "+a.rowMargin,children:Object($a.jsx)(ls.a,{title:e("pro.helpers.userclientlimit"),placement:"top",children:Object($a.jsx)(Di,{name:"defaultuserclientlimit",label:String(e("pro.network.defaultuserclientlimit")),type:"number",defaultValue:0})})})]})]})})})},Uo=n(489),Ko=function(e){var t=e.visible,n=e.title,c=e.message,a=e.onCancel,r=e.onSubmit,s=Object(Ya.a)().t;return Object($a.jsxs)(Es.a,{open:t,maxWidth:"sm",fullWidth:!0,onClose:a,children:[Object($a.jsx)(Ts.a,{children:n||s("dialog.title")}),Object($a.jsx)(ps.a,{position:"absolute",top:0,right:0,children:Object($a.jsx)(ds.a,{onClick:a,children:Object($a.jsx)(Uo.a,{})})}),Object($a.jsx)(Rs.a,{children:"string"===typeof c?Object($a.jsx)(Qa.a,{children:c}):c}),Object($a.jsxs)(Ms.a,{children:[Object($a.jsx)(us.a,{color:"secondary",variant:"contained",onClick:a,children:s("dialog.cancel")}),Object($a.jsx)(us.a,{color:"primary",variant:"contained",onClick:r,children:s("dialog.confirm")})]})]})},Lo=function(){var e=Object(p.useState)(void 0),t=Object(Va.a)(e,2),n=t[0],c=t[1],a=Object(p.useCallback)((function(){var e;n&&(null===(e=n.onCancel)||void 0===e||e.call(n),c(void 0))}),[n,c]),r=Object(p.useCallback)((function(){n&&(n.onSubmit(),c(void 0))}),[n,c]);return n?{Component:function(){return Object($a.jsx)(Ko,Object(Re.a)(Object(Re.a)({},n),{},{onSubmit:r,onCancel:a,visible:!0}))},setProps:c}:{Component:function(){return Object($a.jsx)(Ko,Object(Re.a)(Object(Re.a)({},n),{},{onSubmit:r,onCancel:a,visible:!1}))},setProps:c}},Go=function(e){var t=e.network,n=e.onCancel,c=Object(Ya.a)().t,a=Object(Ba.j)().url,r=Object(T.b)(),s=Object(T.c)(j.getServerConfig),i=O.a.createRef(),o=Object(p.useMemo)((function(){return Pi({addressrange:function(e,t){if(t.isipv4)return zi.test(e)?void 0:{message:c("network.validation.ipv4"),type:"value"}},addressrange6:function(e,t){if(t.isipv6)return Hi.test(e)?void 0:{message:c("network.validation.ipv6"),type:"value"}}})}),[c]);ar({link:a,title:c("common.edit")});var l=Object(p.useCallback)((function(e){r(ht.request({network:St(e)}))}),[r]);if(!t)return Object($a.jsx)(ao,{});var d={display:"flex",justifyContent:"center",alignItems:"center"};return Object($a.jsx)(Ei,{resolver:o,initialState:t,onSubmit:l,onCancel:n,submitProps:{variant:"contained",fullWidth:!0,style:{width:"50%"}},sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},ref:i,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(c("network.details")," : ").concat(t.netid)})})}),Object($a.jsx)(ls.a,{title:c("helper.whatisipv4"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"addressrange",label:String(c("network.addressrange")),disabled:!t.isipv4})})}),Object($a.jsx)(ls.a,{title:c("helper.whatisipv6"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"addressrange6",label:String(c("network.addressrange6")),disabled:!t.isipv6})})}),Object($a.jsx)(ls.a,{title:c("helper.localrange"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"localrange",label:String(c("network.localrange"))})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultinterface"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultinterface",label:String(c("network.defaultinterface"))})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultlistenport"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultlistenport",label:String(c("network.defaultlistenport")),type:"number"})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultpostup"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultpostup",label:String(c("network.defaultpostup")),disabled:!s.RCE})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultpostdown"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultpostdown",label:String(c("network.defaultpostdown")),disabled:!s.RCE})})}),Object($a.jsx)(ls.a,{title:c("helper.keepalive"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultkeepalive",label:String(c("network.defaultkeepalive")),type:"number"})})}),Object($a.jsx)(ls.a,{title:c("helper.extclient"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultextclientdns",label:String(c("network.defaultextclientdns"))})})}),Object($a.jsx)(ls.a,{title:c("helper.mtu"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultmtu",label:String(c("network.defaultmtu")),type:"number"})})}),Object($a.jsx)(ls.a,{title:c("helper.ipv4"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)("div",{style:d,children:Object($a.jsx)(Ri,{name:"isipv4",label:String(c("network.isipv4")),disabled:!0})})})}),Object($a.jsx)(ls.a,{title:c("helper.ipv6"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)("div",{style:d,children:Object($a.jsx)(Ri,{name:"isipv6",label:String(c("network.isipv6")),disabled:!0})})})}),Object($a.jsx)(ls.a,{title:c("helper.nokeysignup"),children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Ri,{name:"allowmanualsignup",label:"Allow Node Signup Without Keys"})})}),Object($a.jsx)(ls.a,{title:c("helper.udpholepunching"),children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:2,children:Object($a.jsx)(Ri,{name:"defaultudpholepunch",label:String(c("network.defaultudpholepunch"))})})}),Object($a.jsx)(ls.a,{title:c("helper.pointtosite"),children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:2,children:Object($a.jsx)(Ri,{name:"ispointtosite",label:String(c("network.ispointtosite"))})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultaccesscontrol"),children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(Ri,{name:"defaultacl",label:String(c("network.defaultacl"))})})}),s.IsEE&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:{marginTop:"1rem"}}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(ls.a,{title:c("pro.helpers.accesslevel"),placement:"top",children:Object($a.jsx)(Di,{name:"prosettings.defaultaccesslevel",label:String(c("pro.network.defaultaccesslevel")),type:"number",InputProps:{inputProps:{min:0,max:3}}})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(ls.a,{title:c("pro.helpers.usernodelimit"),placement:"top",children:Object($a.jsx)(Di,{name:"prosettings.defaultusernodelimit",label:String(c("pro.network.defaultusernodelimit")),type:"number",InputProps:{inputProps:{min:0}}})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(ls.a,{title:c("pro.helpers.userclientlimit"),placement:"top",children:Object($a.jsx)(Di,{name:"prosettings.defaultuserclientlimit",label:String(c("pro.network.defaultuserclientlimit")),type:"number",InputProps:{inputProps:{min:0}}})})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:{marginTop:"1rem"}}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:5.75,md:5.5,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-evenly",children:[Object($a.jsx)(za.a,{item:!0,xs:12,md:8,style:d,children:Object($a.jsx)(Di,{fullWidth:!0,name:"prosettings.allowedgroups",label:String(c("pro.network.allowedgroups")),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:4,style:d,children:Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/networks/".concat(t.netid,"/edit/groups"),fullWidth:!0,variant:"outlined",children:"".concat(c("common.edit")," ").concat(c("pro.network.allowedgroups"))})})]})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:5.75,md:5.5,children:Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsx)(za.a,{item:!0,xs:12,md:8,style:d,children:Object($a.jsx)(Di,{fullWidth:!0,name:"prosettings.allowedusers",label:String(c("pro.network.allowedusers")),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:4,style:d,children:Object($a.jsx)(ms,{variant:"outlined",fullWidth:!0,sx:{textTransform:"none"},to:"/networks/".concat(t.netid,"/edit/networkusers"),children:"".concat(c("common.edit")," ").concat(c("pro.network.allowedusers"))})})]})})]})]})})},Vo=Object(jo.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:"60%",backgroundColor:"#f5f5f5",outline:0,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},center:{textAlign:"center"},cardMain:{width:"100%",marginTop:"1em"},container:{maxHeight:"38em",overflowY:"scroll",overflow:"hidden",borderRadius:"8px"},button:{marginLeft:"0.25em",marginRight:"0.25em","&:hover":{backgroundColor:"#0000e4"}},button2:{marginLeft:"0.25em",marginRight:"0.25em","&:hover":{backgroundColor:"#e40000"}},main:{marginTop:"2em",display:"flex",justifyContent:"center",alignItems:"center"},backDrop:{background:"rgba(255,0,0,1.0)"}}})),Bo=function(){var e=Object(Ba.j)(),t=e.path,n=e.url,c=Object(Ya.a)().t,a=Vo(),r=Object(Ba.i)().netid,s=Oi(r);return ar({link:n,title:c("breadcrumbs.accessKeys")}),s?Object($a.jsx)(Ba.d,{children:Object($a.jsx)(Ba.b,{exact:!0,path:t,children:Object($a.jsx)(ps.a,{justifyContent:"center",alignItems:"center",className:a.container,children:Object($a.jsxs)(za.a,{className:a.main,container:!0,children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{className:a.center,children:Object($a.jsx)(us.a,{className:a.button,variant:"outlined",onClick:function(){return console.log("setIsCreating(true)")},children:"Add New Access Key"})})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:s.accesskeys.map((function(e){return Object($a.jsx)(ir.a,{className:a.cardMain,children:Object($a.jsx)(hr.a,{children:Object($a.jsxs)(za.a,{container:!0,sx:{justifyContent:"center",alignItems:"center"},children:[Object($a.jsx)(za.a,{item:!0,xs:4,className:a.center,children:Object($a.jsxs)("h3",{children:["Name: ",e.name]})}),Object($a.jsx)(za.a,{item:!0,xs:4,className:a.center,children:Object($a.jsxs)("h3",{children:["Uses: ",e.uses]})}),Object($a.jsx)(za.a,{item:!0,xs:4,className:a.center,children:Object($a.jsxs)(us.a,{className:a.button2,onClick:function(){return console.log("deleteKey(accessKey.name)")},variant:"outlined",children:["Delete Key ",Object($a.jsx)(Hs.a,{})]})})]})})},e.name)}))})]})})})}):Object($a.jsx)("div",{children:c("Not found!")})},Ho={PaperProps:{style:{maxHeight:224,width:250}}};function zo(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function Yo(e){var t=Object(gr.a)(),n=p.useState([]),c=Object(Va.a)(n,2),a=c[0],r=c[1],s=Object(Ya.a)().t;return Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsxs)(oi.a,{fullWidth:!0,children:[Object($a.jsx)(Qi.a,{id:"choice-select-label",children:s("pro.choose")}),Object($a.jsx)(li.a,{labelId:"choice-select-label",id:"choice-select",multiple:!0,fullWidth:!0,value:a,onChange:function(t){var n=t.target.value;r("string"===typeof n?n.split(","):n),"string"===typeof n?e.onSelect(n):e.onSelect(n.join(","))},input:Object($a.jsx)(di.a,{id:"select-multiple-values",label:String(s("node.choose"))}),renderValue:function(e){return Object($a.jsx)(ps.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object($a.jsx)(As.a,{label:e},e)}))})},MenuProps:Ho,children:e.options.map((function(e){return Object($a.jsx)(ji.a,{value:e,style:zo(e,a,t),children:e},e)}))})]})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(ls.a,{title:s("common.selectall"),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){var t=e.options.join(",");r(e.options),e.onSelect(t)},color:"primary",children:Object($a.jsx)(po.a,{})})})})]})}var Zo=function(e){var t=e.netid,n=e.field,c=Oi(t),r=Object(Ya.a)().t,s=Object(gr.a)(),i=Object(T.b)(),o=Object(T.c)(x.userGroups),l=Object(T.c)(a.getUsers),d=["*"];l&&l.length&&(d=[].concat(Object(se.a)(l.map((function(e){return e.name}))),["*"]));var j=Object(Ba.j)().url,u=Object(Ba.g)();ar({link:j,title:"".concat(r("groups"===n?"pro.network.allowedgroups":"pro.network.allowedusers"))});var b={choices:""};c&&c.prosettings&&("groups"===n?c.prosettings.allowedgroups&&(b.choices=c.prosettings.allowedgroups.join(",")):c.prosettings.allowedusers&&(b.choices=c.prosettings.allowedusers.join(",")));var m=Object(p.useCallback)((function(e){if(c&&c.prosettings){for(var a=e.choices.split(","),r=0;r<a.length;r++)a[r]=a[r].trim();var s=Object(Re.a)({},c);s.prosettings="groups"===n?Object(Re.a)(Object(Re.a)({},c.prosettings),{},{allowedgroups:a}):Object(Re.a)(Object(Re.a)({},c.prosettings),{},{allowedusers:a});var o=St(s);i(ht.request({network:o})),u.push("/networks/".concat(t))}}),[i,u,c,n,t]);if(!c||!c.prosettings)return Object($a.jsx)(ao,{});var h=O.a.createRef();return Object($a.jsxs)(za.a,{container:!0,display:"flex",justifyContent:"space-evenly",alignItems:"center",style:{marginBottom:"2em"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(r("common.edit")," ").concat(c.netid," ").concat(r("groups"===n?"pro.network.allowedgroups":"pro.network.allowedusers"))})})}),Object($a.jsx)(za.a,{item:!0,xs:12,md:10,children:Object($a.jsx)(ps.a,{style:{backgroundColor:s.palette.background.paper},children:Object($a.jsx)(Ei,{initialState:b,onSubmit:m,submitProps:{fullWidth:!0,variant:"contained"},submitText:r("common.submit"),sx:{margin:"2em 0 2em 0"},ref:h,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",sx:{margin:"1em 0 1em 0"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,children:Object($a.jsx)(Di,{multiline:!0,minRows:2,fullWidth:!0,disabled:!0,name:"choices",label:String(r("".concat("groups"===n?"pro.network.allowedgroups":"pro.network.allowedusers"))),sx:{height:"100%",margin:"1em 0 1em 0"}})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,children:Object($a.jsx)(Yo,{options:"groups"===n?o:d,onSelect:function(e){var t,n;null===(t=h.current)||void 0===t||t.reset(Object(Re.a)(Object(Re.a)({},null===(n=h.current)||void 0===n?void 0:n.values),{},{choices:e}),{keepDefaultValues:!0})}})})]})})})})]})},Qo=function(){var e,t,n,c,a,r=Object(Ba.j)(),s=r.path,i=r.url,o=Object(Ba.g)(),l=Object(Ya.a)().t,d=Object(Ba.i)().netid,u=Oi(d),b=Object(T.c)(j.getServerConfig);ar({link:i,title:d});var m=Lo(),x=m.Component,h=m.setProps,O=Object(T.b)(),f=Object(p.useCallback)((function(){return h({message:l("dialog.deleteNetwork"),onSubmit:function(){return O(pt.request({netid:u.netid}))}})}),[O,u,h,l]);if(!u)return Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:Object($a.jsx)(ao,{})})});var g=!!(null===u||void 0===u?void 0:u.prosettings),y={width:"100%",margin:"4px",height:"100%",flex:"1",inlineSize:"1em",overflow:"hidden"},v={display:"flex",justifyContent:"center",alignItems:"center"};return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{path:"".concat(s,"/accesskeys"),children:Object($a.jsx)(Bo,{})}),Object($a.jsx)(Ba.b,{path:"".concat(s,"/edit/networkusers"),children:Object($a.jsx)(Zo,{netid:d,field:"users"})}),Object($a.jsx)(Ba.b,{path:"".concat(s,"/edit/groups"),children:Object($a.jsx)(Zo,{netid:d,field:"groups"})}),Object($a.jsx)(Ba.b,{path:"".concat(s,"/edit"),children:Object($a.jsx)(Go,{network:u,onCancel:function(){o.push(i.replace(":netid",u.netid).replace("/edit",""))}})}),Object($a.jsxs)(Ba.b,{exact:!0,path:s,children:[Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",style:{overflowWrap:"break-word"},children:"".concat(l("network.details")," : ").concat(d)})}),Object($a.jsxs)(za.a,{container:!0,justifyContent:"flex-start",alignItems:"center",style:{marginBottom:"2em",marginTop:"2em"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:12,md:12,children:Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0.5em 0 0.5em 0"},children:[Object($a.jsx)(ms,{to:"".concat(i,"/edit"),variant:"outlined",fullWidth:!0,style:y,children:l("common.edit")}),Object($a.jsx)(ms,{to:"/nodes/".concat(d),variant:"outlined",fullWidth:!0,style:y,children:"".concat(l("node.nodes"))}),Object($a.jsx)(ms,{to:"/access-keys/".concat(d),variant:"outlined",fullWidth:!0,style:y,children:l("header.accessKeys")}),Object($a.jsx)(ms,{to:"/graphs/".concat(d),variant:"outlined",fullWidth:!0,style:y,children:l("network.graph")}),Object($a.jsx)(ms,{to:"/acls/".concat(d),variant:"outlined",fullWidth:!0,style:y,children:l("header.acls")}),Object($a.jsx)(us.a,{variant:"outlined",onClick:function(){return f()},fullWidth:!0,color:"warning",style:y,children:l("common.delete")})]})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:2,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"0.5em 0 0.5em 0"}})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:2,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"0.5em 0 0.5em 0"}})})]}),Object($a.jsxs)(za.a,{container:!0,sx:{"& .MuiTextField-root":{margin:"4px"},marginBottom:"2em"},justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.addressrange,label:String(l("network.addressrange"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.addressrange6,label:String(l("network.addressrange6"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.localrange,label:String(l("network.localrange"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.defaultinterface,label:String(l("network.defaultinterface"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.defaultlistenport,label:String(l("network.defaultlistenport")),type:"number"})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.defaultpostup,label:String(l("network.defaultpostup"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.defaultpostdown,label:String(l("network.defaultpostdown"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.defaultkeepalive,label:String(l("network.defaultkeepalive"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.defaultextclientdns,label:String(l("network.defaultextclientdns"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(is.a,{disabled:!0,value:u.defaultmtu,label:String(l("network.defaultmtu")),type:"number"})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)("div",{style:v,children:Object($a.jsx)(yi.a,{label:String(l("network.isipv4")),control:Object($a.jsx)(vi.a,{checked:u.isipv4,disabled:!0}),disabled:!0})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)("div",{style:v,children:Object($a.jsx)(yi.a,{label:String(l("network.isipv6")),control:Object($a.jsx)(vi.a,{checked:u.isipv6,disabled:!0}),disabled:!0})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:2,children:Object($a.jsx)(yi.a,{label:String(l("network.allowmanualsignup")),control:Object($a.jsx)(vi.a,{checked:u.allowmanualsignup,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:2,children:Object($a.jsx)(yi.a,{label:String(l("network.defaultudpholepunch")),control:Object($a.jsx)(vi.a,{checked:u.defaultudpholepunch,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:2,children:Object($a.jsx)(yi.a,{label:String(l("network.ispointtosite")),control:Object($a.jsx)(vi.a,{checked:u.ispointtosite,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(yi.a,{label:String(l("network.defaultacl")),control:Object($a.jsx)(vi.a,{checked:u.defaultacl,disabled:!0}),disabled:!0})}),b.IsEE&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:{marginTop:"1rem"}}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(is.a,{disabled:!0,value:g?null===(e=u.prosettings)||void 0===e?void 0:e.defaultaccesslevel:2,label:String(l("pro.network.defaultaccesslevel")),type:"number"})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(is.a,{disabled:!0,value:g?null===(t=u.prosettings)||void 0===t?void 0:t.defaultusernodelimit:0,label:String(l("pro.network.defaultusernodelimit")),type:"number"})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(is.a,{disabled:!0,value:g?null===(n=u.prosettings)||void 0===n?void 0:n.defaultuserclientlimit:0,label:String(l("pro.network.defaultuserclientlimit")),type:"number"})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:{marginTop:"1rem"}}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,md:5,style:v,children:Object($a.jsx)(is.a,{fullWidth:!0,disabled:!0,value:g?null===(c=u.prosettings)||void 0===c?void 0:c.allowedgroups.join(","):"",label:String(l("pro.network.allowedgroups"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,md:5,style:v,children:Object($a.jsx)(is.a,{fullWidth:!0,disabled:!0,value:g?null===(a=u.prosettings)||void 0===a?void 0:a.allowedusers.join(","):"",label:String(l("pro.network.allowedusers"))})})]})]})]})]}),Object($a.jsx)(x,{})]})},Jo=n(490),Xo=[{id:"netid",label:"NetId",minWidth:170,sortable:!0,format:function(e){return Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/networks/".concat(e),children:e})}},{id:"addressrange",labelKey:"network.addressrange",minWidth:100,sortable:!0,format:function(e){return Object($a.jsx)(Zs,{value:e,type:"subtitle2"})}},{id:"addressrange6",labelKey:"network.addressrange6",minWidth:100,sortable:!0,format:function(e){return Object($a.jsx)(Zs,{value:e,type:"subtitle2"})}},{id:"networklastmodified",labelKey:"network.networklastmodified",minWidth:170,align:"right",format:function(e){return wi(e)}},{id:"nodeslastmodified",labelKey:"network.nodeslastmodified",minWidth:170,align:"right",format:function(e){return wi(e)}}],$o=function(e){var t=e.networks,n=Object(Ya.a)().t,c=Object(T.b)(),a=O.a.useState(!1),r=Object(Va.a)(a,2),s=r[0],i=r[1],o=O.a.useState(""),l=Object(Va.a)(o,2),d=l[0],j=l[1],u=O.a.useState(!1),b=Object(Va.a)(u,2),m=b[0],x=b[1],h=function(e,t){j(e),x(t),i(!0)},p=function(e){c(pt.request({netid:d}))},f=function(e){c(Ct.request({netid:e}))};return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)("hr",{}),Object($a.jsx)(Ss,{columns:Xo,rows:t,getRowId:function(e){return e.netid},actions:[function(e){return{tooltip:"".concat(n("network.refresh")," : ").concat(e.netid),disabled:!1,icon:Object($a.jsx)(Jo.a,{}),onClick:function(){h(e.netid,!0)}}},function(e){return{tooltip:n("common.delete"),disabled:!1,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){h(e.netid,!1)}}}]}),d&&Object($a.jsx)(qs,{open:s,handleClose:function(){i(!1)},handleAccept:function(){m?f(d):p(d)},message:n(m?"network.refreshconfirm":"network.deleteconfirm"),title:"".concat(n(m?"network.refresh":"common.delete")," ").concat(d)})]})},el=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(T.c)(o.getNetworks),c=O.a.useState(n),a=Object(Va.a)(c,2),r=a[0],s=a[1];ar({title:t("breadcrumbs.networks")}),O.a.useEffect((function(){s(n)}),[n]);return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:e,children:[Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"right",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:8,md:5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)("h2",{children:t("network.networks")})})}),Object($a.jsx)(za.a,{item:!0,xs:10,md:5,style:{textAlign:"center"},children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:6,md:5,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(t("common.search")," ").concat(t("network.networks")),onChange:function(e){var t=e.target.value.trim();s(t?n.filter((function(e){return"".concat(e.netid).concat(e.addressrange).includes(t)})):n)}})}),Object($a.jsx)(za.a,{item:!0,xs:5.5,md:5,children:Object($a.jsx)(ms,{variant:"contained",to:{pathname:"/networks/create"},children:t("network.create")})})]})})]}),Object($a.jsx)($o,{networks:r.length&&r.length<n.length?r:n})]}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/create"),children:Object($a.jsx)(qo,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:Object($a.jsx)(Qo,{})})]})})},tl=["children","condition","to"],nl=function(e){var t=e.children,n=e.condition,c=e.to,r=Object(js.a)(e,tl),s=Object(T.c)(a.getLoggedIn),i=Object(T.c)(a.getUser),o=n?n(i):s;return Object($a.jsx)(Ba.b,Object(Re.a)(Object(Re.a)({},r),{},{render:function(e){var n=e.location;return o?t:Object($a.jsx)(Ba.a,{to:c||{pathname:"/login",state:{from:n}}})}}))},cl=n(4),al=n(527),rl=n(557),sl=n(544),il=n(547),ol=n(491),ll=n(492),dl=n(162),jl=n.n(dl),ul=n(164),bl=n.n(ul),ml=n(163),xl=n.n(ml),hl=n(494),pl=n(495),Ol=n(519),fl=n(254),gl=n.n(fl),yl=n(255),vl=n.n(yl),wl=n(257),kl=n.n(wl),Cl=n(258),Sl=n.n(Cl),Al=n(169),Nl=n.n(Al),Il=n(170),El=n.n(Il),Tl=n(166),Rl=n.n(Tl),Ml=n(165),Dl=n.n(Ml),Pl=n(259),Wl=n.n(Pl),_l=n(167),Fl=n.n(_l),ql=n(168),Ul=n.n(ql),Kl=n(256),Ll=n.n(Kl),Gl=n(493),Vl=240,Bl=function(e){return{width:Vl,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},Hl=function(e){return Object(cl.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(9)," + 1px)")})},zl=Object(rr.a)("div")((function(e){var t=e.theme;return Object(Re.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)})),Yl=Object(rr.a)(al.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(Re.a)(Object(Re.a)({width:Vl,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(Re.a)(Object(Re.a)({},Bl(t)),{},{"& .MuiDrawer-paper":Bl(t)})),!n&&Object(Re.a)(Object(Re.a)({},Hl(t)),{},{"& .MuiDrawer-paper":Hl(t)}))})),Zl={topBarMain:{marginLeft:"1em",marginRight:"1em",width:"100%"},title:{textAlign:"center",flexGrow:1},subTitle:{paddingRight:"3em",cursor:"pointer"},logo:{objectFit:"cover",maxWidth:"50%",height:"auto",width:"auto",minWidth:"8em"},headerLogo:{width:"25%",height:100,margin:"auto auto",paddingRight:"1.5rem",display:"flex",justifyContent:"space-evenly",alignItems:"center"},central:{display:"flex",justifyContent:"center",alignItems:"center"},central2:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},toolbarButtons:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},Ql=Object(rr.a)(rl.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(Re.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:Vl,width:"calc(100% - ".concat(Vl,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})}));function Jl(){var e=!Object(Ba.j)("/login"),t=Object(T.c)(a.getUser),n=Object(T.c)(a.getUserSettings),c=Object(T.c)(j.getServerConfig),r=Object(T.c)(a.getLoggedIn),s=Object(T.c)(a.isInDarkMode),i=Object(T.b)(),o=Object(Ya.a)().t,l=Object(gr.a)(),d=p.useState(!1),u=Object(Va.a)(d,2),b=u[0],m=u[1],x=p.useState(!1),h=Object(Va.a)(x,2),O=h[0],f=h[1],g=Object(Ba.h)().pathname.split("/"),y=g.length>2&&g[2];return Object($a.jsxs)(ps.a,{sx:{display:"flex"},children:[Object($a.jsx)(ol.a,{}),Object($a.jsxs)(Ql,{position:"fixed",color:"primary",open:b||O,children:[Object($a.jsxs)(sl.a,{children:[Object($a.jsx)(ds.a,{color:"inherit","aria-label":"open drawer",onClick:function(){f(!0)},edge:"start",sx:Object(Re.a)({marginRight:"36px"},(b||O)&&{display:"none"}),children:Object($a.jsx)(jl.a,{})}),Object($a.jsx)("div",{style:Zl.toolbarButtons,children:Object($a.jsx)("div",{style:Zl.headerLogo,children:Object($a.jsx)("img",{style:Zl.logo,src:s?to:eo,alt:"Netmaker makes networks."})})})]}),Object($a.jsx)("div",{style:Zl.central,children:Object($a.jsx)(cr,{link:"/",title:o("breadcrumbs.home")})})]}),Object($a.jsxs)(Yl,{variant:"permanent",open:b||O,onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)},children:[Object($a.jsx)(sl.a,{}),Object($a.jsx)(zl,{children:Object($a.jsx)(ds.a,{onClick:function(){f(!1),m(!1)},children:"rtl"===l.direction?Object($a.jsx)(xl.a,{}):Object($a.jsx)(bl.a,{})})}),Object($a.jsx)(ll.a,{}),Object($a.jsx)(il.a,{children:[{text:"Dashboard",icon:Object($a.jsx)(Dl.a,{}),link:"/"},{text:"Networks",icon:Object($a.jsx)(gl.a,{}),link:"/networks"},{text:"Nodes",icon:Object($a.jsx)(vl.a,{}),link:"/nodes".concat(y?"/".concat(y):"")},{text:"Graphs",icon:Object($a.jsx)(pr.a,{}),link:"/graphs".concat(y?"/".concat(y):"")},{text:"Access Keys",icon:Object($a.jsx)(Ll.a,{}),link:"/access-keys".concat(y?"/".concat(y):"")},{text:"Ext. Clients",icon:Object($a.jsx)(kl.a,{}),link:"/ext-clients".concat(y?"/".concat(y):"")},{text:"DNS",icon:Object($a.jsx)(Sl.a,{}),link:"/dns".concat(y?"/".concat(y):"")}].map((function(e){return Object($a.jsxs)(Gl.a,{component:Xa.b,to:e.link,children:[Object($a.jsx)(hl.a,{children:e.icon}),Object($a.jsx)(pl.a,{primary:e.text})]},e.text)}))}),r&&t.isAdmin?Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(ll.a,{}),Object($a.jsxs)(il.a,{children:[Object($a.jsxs)(Gl.a,{component:Xa.b,to:"/acls".concat(y?"/".concat(y):""),children:[Object($a.jsx)(hl.a,{"aria-label":String(o("acls.nodes")),children:Object($a.jsx)(Xr.a,{})}),Object($a.jsx)(pl.a,{primary:o("header.acls")})]}),Object($a.jsxs)(Gl.a,{component:Xa.b,to:"/users",children:[Object($a.jsx)(hl.a,{"aria-label":String(o("users.header")),children:Object($a.jsx)(Wl.a,{})}),Object($a.jsx)(pl.a,{primary:o("users.header")})]}),Object($a.jsxs)(Gl.a,{component:Xa.b,to:"/logs",children:[Object($a.jsx)(hl.a,{"aria-label":String(o("pro.logs")),children:Object($a.jsx)(Gr.a,{})}),Object($a.jsx)(pl.a,{primary:o("pro.logs")})]}),c.IsEE&&Object($a.jsxs)(Gl.a,{component:Xa.b,to:"/metrics",children:[Object($a.jsx)(hl.a,{"aria-label":String(o("pro.metrics")),children:Object($a.jsx)(Br.a,{})}),Object($a.jsx)(pl.a,{primary:o("pro.metrics")})]})]}),Object($a.jsx)(ll.a,{})]}):null,Object($a.jsxs)(il.a,{children:[Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{"aria-label":String(o("users.header")),children:Object($a.jsx)(Rl.a,{})}),Object($a.jsx)(pl.a,{primary:"UI: ".concat(X),secondary:"Server: ".concat(c.Version)})]}),Object($a.jsxs)(Gl.a,{component:"a",href:"https://docs.netmaker.org",target:"_blank",rel:"noopener noreferrer",children:[Object($a.jsx)(hl.a,{"aria-label":String(o("header.docs")),children:Object($a.jsx)(Fl.a,{})}),Object($a.jsx)(pl.a,{primary:o("header.docs")})]}),e&&(r?Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Gl.a,{component:Xa.b,to:"/users/".concat(t.name),children:[Object($a.jsx)(hl.a,{"aria-label":String(o("users.details")),children:Object($a.jsx)(Ul.a,{})}),Object($a.jsx)(pl.a,{primary:null===t||void 0===t?void 0:t.name})]}),Object($a.jsxs)(Gl.a,{onClick:function(){return i(W())},children:[Object($a.jsx)(hl.a,{"aria-label":String(o("header.logout")),children:Object($a.jsx)(Nl.a,{})}),Object($a.jsx)(pl.a,{primary:o("header.logout")})]}),Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{"aria-label":String(o(s?"common.togglelite":"common.toggledark")),children:Object($a.jsx)(vi.a,{onChange:function(e){n&&i(D(Object(Re.a)(Object(Re.a)({},n),{},{mode:s?"light":"dark"})))},checked:s})}),Object($a.jsx)(pl.a,{primary:String(o(s?"common.togglelite":"common.toggledark"))})]})]}):Object($a.jsxs)(Gl.a,{component:Xa.b,to:"/login",children:[Object($a.jsx)(hl.a,{"aria-label":String(o("header.login")),children:Object($a.jsx)(El.a,{})}),Object($a.jsx)(pl.a,{primary:String(o("header.login"))})]}))]})]}),Object($a.jsx)(ps.a,{component:"main",sx:{flexGrow:1,p:3,margin:"1em 0 1em 0"},children:Object($a.jsx)(zl,{})})]})}var Xl=n(496),$l={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function ed(e){var t=Object(Ya.a)().t,n=function(e){return e?"v"===e.charAt(0)||"V"===e.charAt(0)?e:"v".concat(e):"latest"}(Object(T.c)(j.getServerConfig).Version),c=Object(T.c)(a.isInDarkMode),r=Object(T.c)(a.getUser),s=Q.includes("https://")?Q.split("https://")[1]:"",i={centerStyle:{textAlign:"center"},centeredText:{textAlign:"center",overflowWrap:"break-word"}},o=function(e){return"docker run -d --network host  --privileged -e TOKEN=".concat(e," -v /etc/netclient:/etc/netclient --name netclient gravitl/netclient:").concat(n)},l=function(e){return"netclient join -t ".concat(e)},d=function(){return e.netID&&r&&r.name&&s?"netclient join -n ".concat(e.netID," -u ").concat(r.name," -s ").concat(s):"netclient join -n <network-name> -u <user name> -s <netmaker api domain>"},u=function(){return e.netID&&s?"netclient join -n ".concat(e.netID," -s ").concat(s):"netclient join -n <network-name> -s <netmaker api domain>"};return Object($a.jsx)("div",{children:Object($a.jsx)(lo.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object($a.jsxs)(ps.a,{sx:$l,children:[Object($a.jsx)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,style:i.centerStyle,children:Object($a.jsx)(Qa.a,{id:"modal-modal-title",variant:"h5",style:{marginBottom:"0.5em"},children:e.title})})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:3,style:i.centerStyle}),Object($a.jsx)(za.a,{item:!0,xs:7,style:i.centerStyle,children:Object($a.jsx)(Qa.a,{style:{minWidth:"25vw",marginBottom:"0.5em",marginTop:"0.5em",marginRight:"35rem"},children:Object($a.jsx)(us.a,{variant:"outlined",sx:{color:"inherit"},rel:"noopener noreferrer",href:"https://docs.netmaker.org/netclient.html#installation",target:"_blank",children:Object($a.jsx)("h3",{children:t("accesskey.clickinstall")})})})}),Object($a.jsx)(za.a,{item:!0,xs:3,style:i.centerStyle,children:Object($a.jsx)("h3",{children:t("accesskey.accesskey")})}),Object($a.jsx)(za.a,{item:!0,xs:7,style:i.centerStyle,children:Object($a.jsx)(is.a,{fullWidth:!0,maxRows:1,value:e.keyValue,sx:{backgroundColor:c?"#272727":xr.a[100]}})}),Object($a.jsx)(za.a,{item:!0,xs:1,style:i.centerStyle,children:Object($a.jsx)(ls.a,{title:t("common.copy"),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return Ys()(e.keyValue)},children:Object($a.jsx)(Xl.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:3,style:i.centerStyle,children:Object($a.jsx)("h3",{children:t("accesskey.accessToken")})}),Object($a.jsx)(za.a,{item:!0,xs:7,style:i.centeredText,children:Object($a.jsx)(is.a,{maxRows:1,fullWidth:!0,value:e.accessString,sx:{backgroundColor:c?"#272727":xr.a[100]}})}),Object($a.jsx)(za.a,{item:!0,xs:1,style:i.centerStyle,children:Object($a.jsx)(ls.a,{title:"".concat(t("common.copy")," ").concat(t("accesskey.accessToken")),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return Ys()(e.accessString)},children:Object($a.jsx)(Xl.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:3,style:i.centerStyle,children:Object($a.jsx)("h3",{children:t("accesskey.joincommand")})}),Object($a.jsx)(za.a,{item:!0,xs:7,style:i.centeredText,children:Object($a.jsx)(is.a,{fullWidth:!0,maxRows:1,value:l(e.accessString),sx:{backgroundColor:c?"#272727":xr.a[100]}})}),Object($a.jsx)(za.a,{item:!0,xs:1,style:i.centerStyle,children:Object($a.jsx)(ls.a,{title:"".concat(t("common.copy")," ").concat(t("accesskey.joincommand")),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return Ys()(l(e.accessString))},children:Object($a.jsx)(Xl.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:3,style:i.centerStyle,children:Object($a.jsx)("h3",{children:t("accesskey.dockerrun")})}),Object($a.jsx)(za.a,{item:!0,xs:7,style:i.centeredText,children:Object($a.jsx)(is.a,{fullWidth:!0,maxRows:1,value:o(e.accessString),sx:{backgroundColor:c?"#272727":xr.a[100]}})}),Object($a.jsx)(za.a,{item:!0,xs:1,style:i.centerStyle,children:Object($a.jsx)(ls.a,{title:"".concat(t("common.copy")," ").concat(t("accesskey.dockerrun")),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return Ys()(o(e.accessString))},children:Object($a.jsx)(Xl.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:3,style:i.centerStyle,children:Object($a.jsx)("h3",{children:t("accesskey.joinloginbasic")})}),Object($a.jsx)(za.a,{item:!0,xs:7,style:i.centeredText,children:Object($a.jsx)(is.a,{fullWidth:!0,maxRows:1,value:d(),sx:{backgroundColor:c?"#272727":xr.a[100]}})}),Object($a.jsx)(za.a,{item:!0,xs:1,style:i.centerStyle,children:Object($a.jsx)(ls.a,{title:"".concat(t("common.copy")," ").concat(t("accesskey.joinloginbasic")),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return Ys()(d())},children:Object($a.jsx)(Xl.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:3,style:i.centerStyle,children:Object($a.jsx)("h3",{children:t("accesskey.joinloginoauth")})}),Object($a.jsx)(za.a,{item:!0,xs:7,style:i.centeredText,children:Object($a.jsx)(is.a,{fullWidth:!0,maxRows:1,value:u(),sx:{backgroundColor:c?"#272727":xr.a[100]}})}),Object($a.jsx)(za.a,{item:!0,xs:1,style:i.centerStyle,children:Object($a.jsx)(ls.a,{title:"".concat(t("common.copy")," ").concat(t("accesskey.joinloginoauth")),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return Ys()(u())},children:Object($a.jsx)(Xl.a,{})})})})]})})]})})})}var td=function(){var e=Object(T.c)(o.getNetworks),t=Object(T.c)(o.getTempKey),n=[];if(e)for(var c=0;c<e.length;c++)n.push(e[c].netid);var a=Object(Ba.g)(),r=Object(Ba.i)().netid,s=Object(Ba.j)().url,i=Object(Ya.a)().t,l=Object(T.b)(),d=O.a.useState(!1),j=Object(Va.a)(d,2),u=j[0],b=j[1];ar({title:i("common.create")}),ar({link:s.replace("/create",""),title:r});var m=function(){return b(!0)},x=Object(p.useCallback)((function(){l(bt()),b(!1),a.goBack()}),[l,a]);t.accessString&&t.value&&!u&&m();var h={textAlign:"center",marginBottom:"1em"},f=Object(p.useCallback)((function(e){l(ft.request({netid:r,newAccessKey:{name:e.name||"",uses:e.uses||0}}))}),[l,r]);return Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[t.accessString&&t.value&&Object($a.jsx)(ed,{title:i("accesskey.details"),keyValue:t.value,accessString:t.accessString,open:u,handleClose:x,handleOpen:m}),Object($a.jsxs)(za.a,{item:!0,xs:10,style:h,children:[Object($a.jsx)(Qa.a,{variant:"h4",children:i("accesskey.create")}),Object($a.jsx)("hr",{})]}),Object($a.jsx)(za.a,{item:!0,xs:10,style:h,children:Object($a.jsx)(Qa.a,{variant:"h6",children:"".concat(i("network.network"),": ").concat(r)})}),Object($a.jsx)(za.a,{item:!0,xs:10,style:h,children:Object($a.jsx)(Ei,{initialState:{name:"",uses:0},onSubmit:f,submitProps:{variant:"contained",fullWidth:!0},submitText:i("common.create"),children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,md:6,children:Object($a.jsx)(Di,{name:"name",label:"".concat(i("accesskey.name")," (").concat(i("common.optional"),")")})}),Object($a.jsx)(za.a,{item:!0,xs:12,md:6,children:Object($a.jsx)(Di,{name:"uses",label:String(i("accesskey.uses")),type:"number"})})]})})})]})},nd=function(){var e=Object(Ba.g)(),t=Object(Ya.a)().t,n=Object(Ba.i)(),c=n.netid,a=n.keyname,r=Object(T.c)(o.getNetworks),s=r.findIndex((function(e){return e.netid===c}));if(!~s)return Object($a.jsx)(ao,{});var i=r[s].accesskeys,l=i.findIndex((function(e){return e.name===a})),d=i[l];return Object($a.jsx)(ed,{title:"".concat(t("accesskey.details")," : ").concat(a," "),open:!0,handleOpen:function(){},handleClose:function(){return e.goBack()},accessString:d.accessstring,keyValue:d.value,netID:c})},cd=function(){var e=Object(Ya.a)().t,t=Object(T.b)(),n=Object(Ba.g)(),c=O.a.useState(!1),a=Object(Va.a)(c,2),r=a[0],s=a[1],i=O.a.useState(""),o=Object(Va.a)(i,2),l=o[0],d=o[1],j=Object(Ba.i)().netid,u=Oi(j),b=Object(Ba.j)().url;if(!u)return Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(j,", ").concat(e("network.none"))})})}),Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)(mi,{})})]});var m=[{id:"name",label:e("accesskey.accesskey"),minWidth:170,sortable:!0,format:function(e){return Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/access-keys/".concat(j,"/details/").concat(e),children:e})},align:"center"},{id:"uses",labelKey:"accesskey.uses",minWidth:100,sortable:!0,align:"center"}];return Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsxs)(za.a,{item:!0,xs:12,md:12,children:[Object($a.jsxs)(za.a,{container:!0,direction:"row",display:"flex",justifyContent:"space-between",alignItems:"center",marginLeft:"4rem",children:[Object($a.jsx)(za.a,{item:!0,xs:8,md:5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(e("accesskey.viewing")," ").concat(j)})})}),Object($a.jsx)(za.a,{item:!0,xs:10,md:3,children:Object($a.jsx)(mi,{})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:3,children:Object($a.jsx)(us.a,{fullWidth:!0,variant:"contained",onClick:function(){return n.push("".concat(b,"/create"))},children:"".concat(e("common.create")," ").concat(e("accesskey.accesskey"))})})]}),Object($a.jsx)("hr",{})]}),Object($a.jsx)(Ss,{columns:m,rows:u.accesskeys,getRowId:function(e){return e.name},actions:[function(t){return{tooltip:e("common.delete"),disabled:!1,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){var e;e=t.name,d(e),s(!0)}}}]}),l&&Object($a.jsx)(qs,{open:r,handleClose:function(){s(!1),n.goBack()},handleAccept:function(){t(kt.request({netid:j,name:l})),n.push("/access-keys/".concat(j))},message:e("accesskey.deleteconfirm"),title:"".concat(e("common.delete")," ").concat(l)})]})},ad=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t;ar({title:t("breadcrumbs.accessKeys")});return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:t("accesskey.accesskeys")})})}),Object($a.jsx)(za.a,{item:!0,xs:8,children:Object($a.jsx)(mi,{selectAll:!0})})]})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid/details/:keyname"),children:Object($a.jsx)(nd,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid/create"),children:Object($a.jsx)(td,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:Object($a.jsx)(cd,{})})]})})},rd={PaperProps:{style:{maxHeight:224,width:250}}};function sd(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function id(e){var t=Object(gr.a)(),n=p.useState([]),c=Object(Va.a)(n,2),a=c[0],r=c[1],s=Object(Ya.a)().t;return Object($a.jsx)("div",{children:Object($a.jsx)(oi.a,{sx:{m:1,width:"100%",mt:3},children:Object($a.jsxs)(li.a,{displayEmpty:!0,value:a,onChange:function(t){var n=t.target.value;r("string"===typeof n?n.split(","):n),e.onSelect(n)},input:Object($a.jsx)(di.a,{}),renderValue:function(t){return 0===t.length?Object($a.jsx)("em",{children:e.placeholder}):t.join(", ")},MenuProps:rd,inputProps:{"aria-label":s("common.select")},children:[Object($a.jsx)(ji.a,{disabled:!0,value:"",children:Object($a.jsx)("em",{children:e.placeholder})}),e.items.map((function(e){return Object($a.jsx)(ji.a,{value:e,style:sd(e,a,t),children:e},e)}))]})})})}var od=function(){var e=Object(T.c)(o.getNetworks),t=[];if(e)for(var n=0;n<e.length;n++)t.push(e[n].netid);var c=Object(Ba.j)().path,a=Object(Ya.a)().t,r=Object(Ba.g)();return Object($a.jsx)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:6,style:{textAlign:"center"},children:Object($a.jsx)(id,{placeholder:"".concat(a("common.select")," ").concat(a("network.network")),onSelect:function(e){r.push("".concat(c,"/").concat(e))},items:t})})})},ld=n(497),dd=function(e){var t=e.node,n=Object(T.b)();return Object($a.jsx)(ls.a,{title:ye.a.t("extclient.create"),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:function(){n(gn.createExternalClient.request({netid:t.network,nodeid:t.id}))},children:Object($a.jsx)(ld.a,{})})})},jd=n(498),ud=n(499),bd=function(e){var t=e.client,n=e.type,c=Object(T.b)(),r=Object(T.c)(a.getToken),s=Object(Ba.g)(),i=Object(Ba.j)().url;return Object($a.jsx)(ls.a,{title:"".concat("file"===n?ye.a.t("extclient.download"):ye.a.t("extclient.viewqr")," ").concat(t.clientid),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){c(gn.getExternalClientConf.request({clientid:t.clientid,netid:t.network,type:n,token:r||""})),"qr"===n&&s.push("".concat(i,"/").concat(t.clientid,"/qr"))},children:"file"===n?Object($a.jsx)(jd.a,{}):Object($a.jsx)(ud.a,{})})})},md=function(e){var t=e.client,n=Object(T.b)(),c=O.a.useState(!1),a=Object(Va.a)(c,2),r=a[0],s=a[1];return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(qs,{open:r,handleClose:function(){return s(!1)},handleAccept:function(){n(gn.deleteExternalClient.request({clientName:t.clientid,netid:t.network}))},message:ye.a.t("extclient.deleteconfirm"),title:"".concat(ye.a.t("common.delete")," ").concat(t.clientid)}),Object($a.jsx)(ls.a,{title:"".concat(ye.a.t("common.delete")," ").concat(t.clientid),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return s(!0)},children:Object($a.jsx)(Hs.a,{})})})]})},xd=function(e){var t=e.client,n=Object(Ba.j)().url;return Object($a.jsx)(ls.a,{title:"".concat(ye.a.t("common.edit")," : ").concat(t.clientid),placement:"top",children:Object($a.jsx)(ms,{to:"".concat(n,"/").concat(t.clientid,"/edit"),variant:"text",sx:{textTransform:"none"},children:t.clientid})})},hd=n(500),pd=n(501),Od=[{id:"name",labelKey:"ingress.name",minWidth:125,align:"center",sortable:!0},{id:"address",labelKey:"node.addresses",minWidth:90,align:"center",format:function(e,t){return Object($a.jsx)(Qs,{type:"subtitle2",values:[t.address,t.address6]})}},{id:"id",label:ye.a.t("ingress.add"),minWidth:45,align:"center",format:function(e,t){return Object($a.jsx)(dd,{node:t})}}],fd={textAlign:"center"},gd=function(){var e=Object(Ba.j)(),t=e.path,n=e.url,c=Object(Ya.a)().t,a=Object(T.c)(l.getExtClients),r=Object(Ba.i)().netid,s=ci(a,r),i=gi(r),o=O.a.useState([]),d=Object(Va.a)(o,2),u=d[0],b=d[1],m=O.a.useState({}),x=Object(Va.a)(m,2),h=x[0],p=x[1],f=Object(T.b)(),g=Object(T.c)(j.getServerConfig);if(ar({link:n,title:r}),!i)return Object($a.jsx)(ao,{});var y=i.filter((function(e){return e.isingressgateway}));if(!y.length)return Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"flex-start",children:[Object($a.jsx)(za.a,{item:!0,xs:8,sx:{margin:"0.5em 0em 1em 0em"},children:Object($a.jsx)(mi,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sx:{margin:"0.5em 0em 1em 0em"},children:Object($a.jsx)("div",{style:fd,children:Object($a.jsx)("h3",{children:c("ingress.none")})})})]});var v=[{id:"clientid",labelKey:"extclient.clientid",minWidth:124,align:"center",sortable:!0,format:function(e,t){return Object($a.jsx)(xd,{client:t})}},{id:"address",labelKey:"node.addresses",minWidth:80,align:"center",sortable:!0,format:function(e,t){return Object($a.jsx)(Qs,{type:"subtitle2",values:[t.address,t.address6]})}},{id:"network",labelKey:"extclient.qr",minWidth:40,align:"center",format:function(e,t){return Object($a.jsx)(bd,{type:"qr",client:t})}},{id:"description",labelKey:"extclient.download",minWidth:40,align:"center",format:function(e,t){return Object($a.jsx)(bd,{type:"file",client:t})}},{id:"enabled",labelKey:"extclient.enabled",minWidth:40,align:"center",format:function(e,t){return Object($a.jsx)(ls.a,{title:"".concat(t.enabled?c("common.disable"):c("common.enable")," ").concat(t.clientid),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return w(t)},children:t.enabled?Object($a.jsx)(Is.a,{htmlColor:"#2b00ff"}):Object($a.jsx)(Ns.a,{color:"error"})})})}},{id:"lastmodified",labelKey:"common.delete",minWidth:50,align:"center",format:function(e,t){return Object($a.jsx)(md,{client:t})}}],w=function(e){p(e)},k=function(e){return!~u.findIndex((function(t){return t.ingressgatewayid===e}))};return Object($a.jsx)(Ba.d,{children:Object($a.jsx)(Ba.b,{exact:!0,path:t,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"flex-start",children:[Object($a.jsx)(za.a,{item:!0,xs:8,sx:{margin:"0.5em 0em 1em 0em"},children:Object($a.jsx)(mi,{})}),g.IsEE&&Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object($a.jsx)(us.a,{variant:"outlined",component:Xa.b,to:"/ec/metrics/".concat(r),sx:{marginLeft:"1rem",width:"50%"},children:c("pro.metrics")})})}),Object($a.jsxs)(za.a,{item:!0,xs:12,children:[Object($a.jsx)("hr",{}),Object($a.jsx)(qs,{open:!!h&&!!h.clientid,handleClose:function(){p(null)},handleAccept:function(){h&&h.clientid&&f(gn.updateExternalClient.request({clientName:h.clientid,netid:h.network,newClientName:h.clientid,enabled:!h.enabled}))},message:c("extclient.changeconfirm"),title:"".concat((null===h||void 0===h?void 0:h.enabled)?c("common.disable"):c("common.enable")," ").concat(null===h||void 0===h?void 0:h.clientid)})]}),Object($a.jsxs)(za.a,{item:!0,xs:12,sm:12,md:5,sx:{margin:"0.5rem 0.1rem 0.5rem 0.1rem"},children:[Object($a.jsx)("div",{style:fd,children:Object($a.jsx)(Qa.a,{variant:"h4",sx:{marginBottom:"1em"},children:"".concat(r," ").concat(c("ingress.gateways"))})}),Object($a.jsx)(Ss,{columns:Od,rows:y,getRowId:function(e){return e.id},actions:[function(e){return{tooltip:c("ingress.view"),disabled:!s.filter((function(t){return t.ingressgatewayid===e.id})).length,icon:k(e.id)?Object($a.jsx)(hd.a,{}):Object($a.jsx)(pd.a,{}),onClick:function(){var t,n;t=e.id,n=k(e.id),b(n?[].concat(Object(se.a)(u),Object(se.a)(s.filter((function(e){return e.ingressgatewayid===t})))):Object(se.a)(u.filter((function(e){return e.ingressgatewayid!==t}))))}}}],tableId:"_gateways"})]}),Object($a.jsxs)(za.a,{item:!0,xs:12,sm:12,md:6.5,sx:{margin:"0.5rem 0.1rem 0.5rem 0.1rem"},children:[Object($a.jsx)("div",{style:fd,children:Object($a.jsx)(Qa.a,{variant:"h4",sx:{marginBottom:"1em"},children:c("ingress.clients")})}),Object($a.jsx)(Ss,{columns:v,rows:s.filter((function(e){return!~u.findIndex((function(t){return t.clientid===e.clientid}))})),getRowId:function(e){return e.clientid},tableId:"_extClients"})]})]})})})},yd=function(){var e=Object(Ba.g)(),t=Object(T.c)(l.getCurrentQrCode),n=Object(Ya.a)().t,c=Object(Ba.j)().path,a=Object(Ba.i)(),r=a.netid,s=a.clientid,i="".concat(c.split(":netid")[0]).concat(r),o=Object(T.b)();ar({link:i,title:s}),ar({title:"qr"});if(!t)return Object($a.jsx)(ao,{});var d={modal:{position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,backgroundColor:"white",border:"1px solid #000",minWidth:"33%",pt:2,px:4,pb:3},center:{textAlign:"center"},max:{width:"75%"}};return Object($a.jsx)(lo.a,{open:!0,onClose:function(){o(Object(gn.clearQr)()),e.push(i)},children:Object($a.jsx)(ps.a,{style:d.modal,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:d.center,children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(n("extclient.qr")," : ").concat(s)})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:d.center,children:Object($a.jsx)("img",{style:d.max,src:t,alt:"QR code for client, ".concat(s,".")})})]})})})},vd=function(){var e=Object(Ba.g)(),t=Object(Ya.a)().t,n=Object(Ba.j)().path,c=Object(Ba.i)(),r=c.netid,s=c.clientid,i="".concat(n.split(":netid")[0]).concat(r),o=Object(T.b)(),d=Object(T.c)(a.isInDarkMode),j=Object(T.c)(l.getExtClients).filter((function(e){return e.clientid===s}))[0];ar({link:i,title:s}),ar({title:t("common.edit")});var u=Object(p.useCallback)((function(t){j&&(o(gn.updateExternalClient.request({clientName:s,netid:r,newClientName:t.clientid,enabled:j.enabled})),e.goBack())}),[o,s,r,e,j]),b={modal:{position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,backgroundColor:d?"#272727":xr.a[100],border:"1px solid #000",minWidth:"33%",pt:2,px:4,pb:3},center:{textAlign:"center"},max:{width:"75%"}},m=Object(p.useMemo)((function(){return Pi({clientid:function(e,n){var c=t("error.name");if(!/^[a-zA-Z0-9-]+$/.test(e))return{message:c,type:"value"}}})}),[t]);return Object($a.jsx)(lo.a,{open:!0,onClose:function(){e.push(i)},children:Object($a.jsx)(ps.a,{style:b.modal,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",style:{margin:"0.5em"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:b.center,children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(t("extclient.edit")," : ").concat(s)})}),Object($a.jsx)(za.a,{item:!0,xs:10,style:b.center,children:Object($a.jsx)(Ei,{initialState:{clientid:""},onSubmit:u,submitProps:{variant:"contained",fullWidth:!0,type:"submit"},resolver:m,children:Object($a.jsx)(Di,{name:"clientid",defaultValue:s,label:String(t("extclient.clientid")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",autoFocus:!0})})})]})})})},wd=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t;ar({title:t("breadcrumbs.extClients")});return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:t("extclient.extclients")})})}),Object($a.jsx)(za.a,{item:!0,xs:8,children:Object($a.jsx)(od,{})})]})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid/:clientid/qr"),children:Object($a.jsx)(yd,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid/:clientid/edit"),children:Object($a.jsx)(vd,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:Object($a.jsx)(gd,{})})]})})},kd=function(){var e=Object(Ba.g)(),t=Object(T.b)(),n=Object(p.useCallback)((function(n,c){t(Xc[c]({location:n,history:e}))}),[t,e]);return Object(p.useEffect)((function(){return n(e.location,"POP"),e.listen(n)}),[e,n]),null},Cd=[{id:"name",labelKey:"users.table.name",minWidth:170,sortable:!0,format:function(e){return Object($a.jsx)(ms,{to:"/users/".concat(e),children:e})}},{id:"isAdmin",labelKey:"users.table.isAdmin",minWidth:100,sortable:!0,format:function(e){return e?"True":"False"}},{id:"networks",labelKey:"users.table.networks",minWidth:150,sortable:!1,format:function(e,t){return!t.isAdmin||e&&e.length?Object($a.jsx)("span",{children:null===e||void 0===e?void 0:e.map((function(e){return Object($a.jsx)(ms,{to:"/networks/".concat(e),children:e},e)}))}):Object($a.jsx)("span",{children:"*"})}},{id:"groups",labelKey:"pro.networkusers.groups",minWidth:150,sortable:!1,format:function(e,t){return!t.isAdmin||e&&e.length?Object($a.jsx)("span",{children:null===e||void 0===e?void 0:e.map((function(e){return Object($a.jsx)(Qa.a,{variant:"subtitle2",children:e},e)}))}):Object($a.jsx)("span",{children:"*"})}}],Sd=function(){var e=Object(T.c)(a.getUsers),t=Lo(),n=t.Component,c=t.setProps,r=Object(Ya.a)().t,s=Object(T.b)();return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Ss,{columns:Cd,rows:e,getRowId:function(e){return e.name},actions:[function(e){return{tooltip:r("common.delete"),disabled:!1,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){c({message:r("users.delete"),title:r("users.deleteTitle"),onSubmit:function(){return s(G.request({username:e.name}))}})}}}]}),Object($a.jsx)(n,{})]})},Ad=n(558),Nd=Object(jo.a)((function(){return Object(uo.a)({center:{textAlign:"center"},rowMargin:{marginTop:"1em",marginBottom:"1em"}})})),Id=function(){var e,t=Object(T.b)(),n=Nd(),c=Object(T.c)(o.getNetworks),r=Object(Ya.a)().t,s=Object(Ba.h)(),i=Object(Ba.g)(),l=Object(T.c)(a.isCreating),d=O.a.createRef(),j=Lo(),u=j.Component,b=j.setProps,m={username:"",password:"",confirmation:"",isadmin:!1,networks:c.map((function(e){return{netid:e.netid,checked:!1}}))};O.a.useEffect((function(){var e;null===(e=d.current)||void 0===e||e.reset({username:"",password:"",confirmation:"",isadmin:!1,networks:c.map((function(e){return{netid:e.netid,checked:!1}}))})}),[c,d]);var x=Object(p.useCallback)((function(e){var n=function(){return t(L.request({username:e.username,password:e.password,isadmin:e.isadmin,networks:e.networks.filter((function(e){return e.checked})).map((function(e){return e.netid}))}))};e.isadmin?b({message:r("users.create.createAdmin"),onSubmit:n,title:r("users.create.isAdminTitle")}):n()}),[t,b,r]);ar({title:r("common.create")});var h=Object(p.useMemo)((function(){return Pi({username:function(e){return Vi.test(e)?void 0:{message:r("users.validation.username"),type:"value"}},password:function(e){return Bi.test(e)?void 0:{message:r("users.validation.password"),type:"value"}},confirmation:function(e,t){return e!==t.password?{message:r("users.validation.confirmation"),type:"value"}:void 0}})}),[r]);return l?Object($a.jsx)(Ba.a,{to:(null===(e=s.state)||void 0===e?void 0:e.from)||"/"}):Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{className:n.center,children:l&&Object($a.jsx)(Eo.a,{})})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("h3",{children:r("users.create.button")})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Ei,{ref:d,initialState:m,resolver:h,onSubmit:x,onCancel:function(){return i.goBack()},submitText:r("users.create.button"),submitProps:{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},disabled:l,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"username",label:String(r("users.label.username")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",autoFocus:!0})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"password",label:String(r("users.label.password")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,placeholder:"",type:"password",id:"password",autoComplete:"false"})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"confirmation",label:String(r("users.label.confirmation")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,placeholder:"",type:"password",id:"confirmation",autoComplete:"false"})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Ti,{name:"isadmin",label:String(r("users.create.isAdmin"))})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Wi,{name:"networks",children:function(e,t){return Object($a.jsxs)(il.a,{dense:!0,sx:{width:"100%",bgcolor:"background.paper"},children:[Object($a.jsx)(Ad.a,{children:r("users.create.networks")}),e.map((function(e){return Object($a.jsx)(Ol.a,{children:Object($a.jsx)(Ti,{name:e.getFieldName("checked"),label:e.netid,disabled:t})},e.id)}))]})}})})]})})}),Object($a.jsx)(u,{})]})},Ed=function(){var e=Object(Ya.a)().t,t=Object(Ba.i)().username,n=Lo(),c=n.Component,r=n.setProps,s=Object(T.c)(a.getUser),i=O.a.useState({}),l=Object(Va.a)(i,2),d=l[0],j=l[1];ar({title:t});var u=Object(T.b)(),b=Object(T.c)(a.getUsers).find((function(e){return e.name===t})),m=Object(T.c)(o.getNetworks),x={username:(null===b||void 0===b?void 0:b.name)||"",isadmin:!!(null===b||void 0===b?void 0:b.isAdmin),networks:m.map((function(e){var t;return{checked:!!(null===b||void 0===b||null===(t=b.networks)||void 0===t?void 0:t.includes(e.netid)),netid:e.netid}})),groups:null===b||void 0===b?void 0:b.groups},h=O.a.createRef(),f=Object(p.useCallback)((function(t){var n=function(){u(B.request({username:t.username,isadmin:t.isadmin,networks:t.networks.filter((function(e){return e.checked})).map((function(e){return e.netid})),groups:(null===b||void 0===b?void 0:b.groups)||[]})),setTimeout((function(){return u(Mt.request())}),100)};t.isadmin?r({message:e("users.update.createAdmin"),onSubmit:n,title:e("users.update.isAdminTitle")}):n()}),[u,e,r,b]),g=Object(p.useMemo)((function(){return Pi({username:function(t){return Vi.test(t)?void 0:{message:e("users.validation.username"),type:"value"}}})}),[e]);return O.a.useEffect((function(){d!==s&&s&&j(s)}),[s,d]),(null===s||void 0===s?void 0:s.isAdmin)?t?Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("h3",{children:e("users.update.header")})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsxs)(Ei,{ref:h,initialState:x,resolver:g,onSubmit:f,submitText:e((null===b||void 0===b?void 0:b.isAdmin)?"users.update.adminSubmit":"users.update.submit"),submitProps:{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},disabled:null===b||void 0===b?void 0:b.isAdmin,children:[Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"username",label:String(e("users.label.username")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",autoFocus:!0,disabled:!0})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Ti,{name:"isadmin",label:String(e("users.update.isAdmin"))})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Wi,{name:"networks",children:function(t,n){return Object($a.jsxs)(il.a,{dense:!0,sx:{width:"100%",bgcolor:"background.paper",overflowY:"scroll",maxHeight:"22em"},children:[Object($a.jsx)(Ad.a,{children:e("users.update.networks")}),t.map((function(e){return Object($a.jsx)(Ol.a,{children:Object($a.jsx)(Ti,{name:e.getFieldName("checked"),label:e.netid,disabled:n})},e.id)}))]})}})})]}),Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-evenly",alignItems:"center",sx:{marginTop:"1rem"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,md:8,style:{textAlign:"center"},children:Object($a.jsx)(Di,{fullWidth:!0,name:"groups",label:String(e("pro.networkusers.groups")),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:3.75,style:{textAlign:"center"},children:Object($a.jsx)(ms,{variant:"outlined",fullWidth:!0,sx:{textTransform:"none"},to:"/users/".concat(t,"/groups"),disabled:null===b||void 0===b?void 0:b.isAdmin,children:"".concat(e("common.edit")," ").concat(e("pro.networkusers.groups"))})})]})]})}),Object($a.jsx)(c,{})]}):Object($a.jsx)("div",{children:"Not Found"}):null},Td=function(){var e=Object(Ya.a)().t,t=Object(Ba.i)().username,n=Lo(),c=n.Component,r=n.setProps,s=Object(T.b)(),i=Object(T.c)(a.getUser),o={username:(null===i||void 0===i?void 0:i.name)||"",password:"",confirmation:""},l=O.a.createRef(),d=Object(p.useCallback)((function(t){r({message:e("users.update.password"),onSubmit:function(){return s(V.request({username:t.username,password:t.password}))},title:e("users.update.passwordTitle")})}),[s,e,r]),j=Object(p.useMemo)((function(){return Pi({username:function(t){return Vi.test(t)?void 0:{message:e("users.validation.username"),type:"value"}},password:function(t){return Bi.test(t)?void 0:{message:e("users.validation.password"),type:"value"}},confirmation:function(t,n){return t!==n.password?{message:e("users.validation.confirmation"),type:"value"}:void 0}})}),[e]);return t!==(null===i||void 0===i?void 0:i.name)?null:t?Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("h3",{children:e("users.update.password")})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Ei,{ref:l,initialState:o,resolver:j,onSubmit:d,submitText:e("users.update.passwordSubmit"),submitProps:{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"password",label:String(e("users.label.password")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,placeholder:"",type:"password",id:"password",autoComplete:"false"})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"confirmation",label:String(e("users.label.confirmation")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,placeholder:"",type:"password",id:"confirmation",autoComplete:"false"})})]})})}),Object($a.jsx)(c,{})]}):Object($a.jsx)("div",{children:"Not Found"})},Rd={PaperProps:{style:{maxHeight:224,width:250}}};function Md(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function Dd(e){var t=Object(gr.a)(),n=p.useState([]),c=Object(Va.a)(n,2),a=c[0],r=c[1],s=Object(Ya.a)().t,i=p.useCallback((function(t){var n=t.target.value;r("string"===typeof n?n.split(","):n),"string"===typeof n?e.onSelect(n):e.onSelect(n.join(","))}),[e]),o=p.useCallback((function(){var t=e.options.join(",");r(e.options),e.onSelect(t)}),[e]);return Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsxs)(oi.a,{fullWidth:!0,children:[Object($a.jsx)(Qi.a,{id:"choice-select-label",children:s("pro.choose")}),Object($a.jsx)(li.a,{labelId:"choice-select-label",id:"choice-select",multiple:!0,fullWidth:!0,value:a,onChange:i,input:Object($a.jsx)(di.a,{id:"select-multiple-values",label:String(s("node.choose"))}),renderValue:function(e){return Object($a.jsx)(ps.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object($a.jsx)(As.a,{label:e},e)}))})},MenuProps:Rd,children:e.options.map((function(e,n){return Object($a.jsx)(ji.a,{value:e,style:Md(e,a,t),children:e},"".concat(e,"-").concat(n))}))})]})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(ls.a,{title:s("common.selectall"),placement:"top",children:Object($a.jsx)(ds.a,{onClick:o,color:"primary",children:Object($a.jsx)(po.a,{})})})})]})}var Pd=function(){var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(T.b)(),c=Object(T.c)(x.userGroups),r=Object(Ba.j)().url,s=Object(Ba.i)().username,i=Object(Ba.g)(),o=Object(T.c)(a.getUsers),l=void 0;o&&(l=o.filter((function(e){return e.name===s}))[0]),ar({link:r,title:e("pro.networkusers.groups")}),ar({link:"/users/".concat(s),title:s});var d={choices:""};l&&(d.choices=(l.groups||[]).join(","));var j=Object(p.useCallback)((function(e){if(l){for(var t=e.choices.split(","),c=0;c<t.length;c++)t[c]=t[c].trim();var a=Object(Re.a)({},l);a.groups=t,n(B.request({username:l.name,networks:l.networks,groups:a.groups,isadmin:l.isAdmin})),i.push("/users")}}),[n,i,l]);if(!l)return Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(e("error.notfound"))})});var u=O.a.createRef();return Object($a.jsxs)(za.a,{container:!0,display:"flex",justifyContent:"space-evenly",alignItems:"center",style:{marginBottom:"2em"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(e("common.edit")," ").concat(l.name," ").concat(e("pro.networkusers.groups"))})})}),Object($a.jsx)(za.a,{item:!0,xs:12,md:10,children:Object($a.jsx)(ps.a,{style:{backgroundColor:t.palette.background.paper},children:Object($a.jsx)(Ei,{initialState:d,onSubmit:j,submitProps:{fullWidth:!0,variant:"contained"},submitText:e("common.submit"),sx:{margin:"2em 0 2em 0"},ref:u,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",sx:{margin:"1em 0 1em 0"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,children:Object($a.jsx)(Di,{multiline:!0,minRows:2,fullWidth:!0,disabled:!0,name:"choices",label:String(e("pro.networkusers.groups")),sx:{height:"100%",margin:"1em 0 1em 0"}})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:5,children:Object($a.jsx)(Dd,{options:c,onSelect:function(e){var t,n;null===(t=u.current)||void 0===t||t.reset(Object(Re.a)(Object(Re.a)({},null===(n=u.current)||void 0===n?void 0:n.values),{},{choices:e}),{keepDefaultValues:!0})}})})]})})})})]})},Wd=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(Ba.g)();return ar({title:t("breadcrumbs.users")}),Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:e,children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",display:"flex",justifyContent:"flex-end",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)("h2",{children:t("users.header")})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(ls.a,{title:"".concat(t("pro.refresh")),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:function(){n.push("/users")},children:Object($a.jsx)(hi.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:1.5,children:Object($a.jsx)(ms,{variant:"contained",to:{pathname:"/users/create"},children:t("users.create.button")})}),Object($a.jsx)(za.a,{item:!0,xs:1.5,children:Object($a.jsx)(ms,{variant:"contained",color:"primary",to:{pathname:"/usergroups"},children:t("pro.label.usergroups")})}),Object($a.jsx)(za.a,{item:!0,xs:2,children:Object($a.jsx)(ms,{variant:"contained",color:"primary",to:{pathname:"/user-permissions"},children:t("pro.label.userpermissions")})})]})}),Object($a.jsx)(Sd,{})]}),Object($a.jsx)(Ba.b,{exact:!0,path:"".concat(e,"/:username/groups"),children:Object($a.jsx)(Pd,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/create"),children:Object($a.jsx)(Id,{})}),Object($a.jsxs)(Ba.b,{path:"".concat(e,"/:username"),children:[Object($a.jsx)(Ed,{}),Object($a.jsx)(Td,{})]})]})})},_d=[{id:"name",labelKey:"dns.entry",minWidth:150,align:"center",sortable:!0,format:function(e,t){return Object($a.jsx)(Zs,{value:"".concat(t.name,".").concat(t.network),type:"subtitle2"})}},{id:"address",labelKey:"node.address",minWidth:100,align:"center",sortable:!0,format:function(e){return Object($a.jsx)(Zs,{value:e,type:"subtitle2"})}}],Fd=[{id:"name",labelKey:"dns.entry",minWidth:150,align:"center",sortable:!0,format:function(e,t){return Object($a.jsx)(Zs,{value:"".concat(t.name,".").concat(t.network),type:"subtitle2"})}},{id:"address",labelKey:"node.address",minWidth:170,align:"center",sortable:!0,format:function(e){return Object($a.jsx)(Zs,{value:e,type:"subtitle2"})}}],qd={textAlign:"center"},Ud=function(){var e=Object(Ba.j)(),t=e.path,n=e.url,c=Object(Ya.a)().t,a=Object(Ba.i)().netid,r=gi(a),s=Object(T.c)(o.getDnsEntries),i=Object(T.c)(j.getServerConfig),l=O.a.useState(""),d=Object(Va.a)(l,2),u=d[0],b=d[1],m=Object(T.b)(),x=function(e,t,n){return t.filter((function(e){return e.network===n})).filter((function(t){return!e.find((function(e){return e.name===t.name}))}))}(r,s,a);if(ar({link:n,title:a}),!r)return Object($a.jsx)(ao,{});if(!r.length)return Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[Object($a.jsx)(za.a,{item:!0,xs:12,sx:{margin:"0.5em 0em 1em 0em"},children:i.DNSMode&&Object($a.jsx)(mi,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sx:{margin:"0.5em 0em 1em 0em"},children:Object($a.jsx)("div",{style:qd,children:Object($a.jsx)("h3",{children:c("dns.none")})})})]});return Object($a.jsx)(Ba.d,{children:Object($a.jsx)(Ba.b,{exact:!0,path:t,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"flex-start",children:[Object($a.jsx)(za.a,{item:!0,xs:6,sx:{margin:"0.5em 0em 1em 0em"},children:i.DNSMode&&Object($a.jsx)(mi,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("hr",{})}),Object($a.jsxs)(za.a,{item:!0,xs:12,sm:12,md:5,sx:{margin:"0.5em 0.5em 0.5em 0.5em"},children:[Object($a.jsx)("div",{style:qd,children:Object($a.jsx)(Qa.a,{variant:"h4",sx:{marginBottom:"1em"},children:"".concat(a," ").concat(c("dns.default"))})}),Object($a.jsx)(Ss,{columns:_d,rows:r,getRowId:function(e){return e.id}})]}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:12,md:6,sx:{margin:"0.5em 0.5em 0.5em 0.5em"},children:Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsx)(za.a,{item:!0,xs:8,children:Object($a.jsx)("div",{style:qd,children:Object($a.jsx)(Qa.a,{variant:"h4",sx:{marginBottom:"1em"},children:"".concat(c("dns.custom"))})})}),Object($a.jsx)(za.a,{item:!0,xs:4,children:Object($a.jsx)(us.a,{color:"primary",variant:"contained",component:Xa.b,to:"".concat(n,"/create"),children:c("dns.create")})}),Object($a.jsx)(Ss,{columns:Fd,rows:x,getRowId:function(e){return e.name},actions:[function(e){return{tooltip:"".concat(c("common.delete")," : ").concat(e.name,".").concat(e.network),disabled:!1,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){var t;t=e.name,b(t)}}}]}),Object($a.jsx)(qs,{open:""!==u,handleClose:function(){b("")},handleAccept:function(){m(wt.request({domain:u,netid:a}))},message:c("dns.deleteconfirm"),title:"".concat(c("common.delete")," ").concat(u)})]})})]})})})},Kd=function(e){var t=e.nodeAddrs,n=e.onSelect,c=Object(Ya.a)().t;return Object($a.jsx)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:6,sx:{textAlign:"center"},children:Object($a.jsx)(id,{placeholder:"".concat(c("common.select")," ").concat(c("dns.nodeaddress")),onSelect:function(e){n(e.split(" ")[0])},items:t})})})},Ld=function(){var e=Object(Ba.g)(),t=Object(Ya.a)().t,n=Object(Ba.j)().path,c=Object(Ba.i)().netid,r="".concat(n.split(":netid")[0]).concat(c),s=Object(T.b)(),i=Object(T.c)(a.isInDarkMode),o=(gi(c)||[]).map((function(e){return"".concat(e.address," ").concat(e.name)}));ar({title:t("common.create")});var l=Object(p.useCallback)((function(t){s(vt.request(Object(Re.a)(Object(Re.a)({},t),{},{network:c}))),e.goBack()}),[s,c,e]),d={modal:{position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",backgroundColor:i?"#272727":"#f0f0f0",border:"1px solid #000",minWidth:"33%",pt:2,px:4,pb:3},center:{textAlign:"center"},leftAlign:{display:"flex",justifyContent:"flex-start",alignItems:"center"},max:{width:"75%"}},j=O.a.createRef();return Object($a.jsx)(lo.a,{open:!0,onClose:function(){e.push(r)},children:Object($a.jsx)(ps.a,{style:d.modal,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",style:{margin:"0.5em"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:d.center,children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(t("dns.create"))})}),Object($a.jsx)(za.a,{item:!0,xs:10,style:d.center,children:Object($a.jsx)(Ei,{initialState:{name:"",address:""},onSubmit:l,submitProps:{variant:"contained",fullWidth:!0},submitText:t("common.create"),ref:j,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object($a.jsx)(Di,{name:"name",defaultValue:"",label:String(t("dns.name")),variant:"outlined",margin:"normal",required:!0,rightAlign:!0,autoComplete:"false",autoFocus:!0,style:{width:"70%"},color:"primary"}),Object($a.jsxs)(Qa.a,{variant:"h6",style:{paddingTop:"4px",marginLeft:"8px"},children:[" ",".",c]})]})}),Object($a.jsx)(za.a,{item:!0,xs:4,children:Object($a.jsx)(Di,{name:"address",label:String(t("dns.address")),variant:"outlined",margin:"normal",color:"primary",fullWidth:!0,required:!0,autoComplete:"false"})}),Object($a.jsx)(za.a,{item:!0,xs:4,children:Object($a.jsx)(Kd,{nodeAddrs:o,onSelect:function(e){var t,n;null===(t=j.current)||void 0===t||t.reset(Object(Re.a)(Object(Re.a)({},null===(n=j.current)||void 0===n?void 0:n.values),{},{address:e}),{keepDefaultValues:!1})}})})]})})})]})})})},Gd=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(T.c)(j.getServerConfig).DNSMode;ar({title:t("breadcrumbs.dns")});var c={textAlign:"center"},a=function(){return Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)("div",{style:c,children:Object($a.jsx)(Qa.a,{variant:"h5",children:t(n?"dns.title":"dns.disabled")})})})})};return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:e,children:[Object($a.jsx)(a,{}),n&&Object($a.jsx)(mi,{})]}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid/create"),children:n?Object($a.jsx)(Ld,{}):Object($a.jsx)(a,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:n?Object($a.jsx)(Ud,{}):Object($a.jsx)(a,{})})]})})},Vd=n(186),Bd=n.n(Vd),Hd=n(260),zd=n.n(Hd),Yd=n(77),Zd=n(190),Qd=n.n(Zd),Jd=(n(387),function(e,t){if(t)switch(Ki(t)){case 1:return"#ff9800";case 2:return"#f44336"}switch(e){default:return"#2b00ff";case"1&e":return"#d9ffa3";case"e&r":return"#19ffb2";case"i&r":return"#d5db8a";case"egress":return"#6bdbb6";case"ingress":return"#ebde34";case"extclient":return"#26ffff";case"relay":return"#a552ff";case"relayed":return"#639cbf";case"cidr":return"#6fa397";case"i&e&r":return"#f2c7ff"}}),Xd=function(e){var t=e.data,n=e.handleViewNode,c=e.handleViewAlt,r=Object(Yd.useSigma)(),s=Object(Yd.useRegisterEvents)(),i=Object(Yd.useLoadGraph)(),o=Object(Yd.useSetSettings)(),l=Object(T.c)(a.isInDarkMode),d=Object(T.c)(j.getServerConfig),u=Object(p.useState)(!1),b=Object(Va.a)(u,2),m=b[0],x=b[1];Object(p.useEffect)((function(){d&&d.IsEE?x(d.IsEE):x(!1)}),[d]);var h=Object(p.useCallback)((function(e){return m?function(e){switch(e){case"healthy":return"#00CC00";case"warning":return"#CCCC00";case"error":return"#CC0000";default:return"#FFFFFF"}}(e):"#FFFFFF"}),[m]),O=Object(p.useState)({hoverNode:void 0,hoverNeighbours:void 0}),f=Object(Va.a)(O,2),g=f[0],y=f[1];return r.setSetting("labelColor",{color:l?"#FE00FE":"#272727"}),Object(p.useEffect)((function(){for(var e=new Bd.a,n=t.nodeTypes,c=t.edges,a=0;a<n.length;a++)try{e.addNode(n[a].id,{nodeType:"image",label:n[a].name,size:"cidr"===n[a].type||"extclient"===n[a].type?15:20,color:Jd(n[a].type,n[a].lastCheckin),url:"./icons/up.png",labelColor:"#ffffff"})}catch(o){}for(var r=0;r<c.length;r++)try{e.addEdge(c[r].from,c[r].to,{weight:Math.floor(100*Math.random()),type:"arrow",size:5,label:"connection",color:h(c[r].status)})}catch(o){}zd.a.assign(e);var s=Qd.a.inferSettings(e);Qd.a.assign(e,{settings:s,iterations:600}),i(e)}),[i,t,h]),Object(p.useEffect)((function(){s({enterNode:function(e){var n=e.node;y({hoverNode:n,hoverNeighbours:t.edges.filter((function(e){return e.from===n||e.to===n})).map((function(e){var c,a,r=e.from===n?e.to:e.from;return null!==(c=null===(a=t.nodeTypes.find((function(e){return e.id===r})))||void 0===a?void 0:a.id)&&void 0!==c?c:""}))})},leaveNode:function(){y({hoverNode:void 0,hoverNeighbours:void 0})},clickNode:function(e){var a=e.node,r=t.nodeTypes.filter((function(e){return e.id===a}));if("cidr"===r[0].type||"extclient"===r[0].type)c(r[0]);else{var s=t.nodes.filter((function(e){return e.id===a}))[0];n(s)}}})}),[r,s,t,n,c]),Object(p.useEffect)((function(){o({nodeReducer:function(e,t){var n=Object(Re.a)({},t);return g.hoverNeighbours&&!g.hoverNeighbours.includes(e)&&g.hoverNode!==e&&(n.label="",n.color="#f6f6f6"),n},edgeReducer:function(e,t){var n=r.getGraph(),c=Object(Re.a)(Object(Re.a)({},t),{},{hidden:!1});return g.hoverNode&&!n.hasExtremity(e,g.hoverNode)&&(c.hidden=!0),c}})}),[r,o,g]),null},$d=n(559),ej=n(111),tj=n(112),nj=n(502),cj=n(503),aj=n(504),rj=n(505),sj={multiCopy:{marginLeft:"-.5rem",overflow:"hidden",textOverflow:"ellipsis",width:"100%"}},ij=function(e){var t,n=e.data,c=e.handleClose,r=e.altData,s=e.network,i=Object(T.b)(),o=Object(Ya.a)().t,l=p.useState(!1),d=Object(Va.a)(l,2),u=d[0],b=d[1],m=Object(T.c)(a.isInDarkMode),x=Object(T.c)(j.getServerConfig),h=[{label:"".concat(o("node.state.normal")," ").concat(o("node.node")),color:"#2b00ff"},{label:o("node.isegressgateway"),color:"#6bdbb6"},{label:o("node.isingressgateway"),color:"#ebde34"},{label:o("node.isingressegress"),color:"#d9ffa3"},{label:o("node.isrelay"),color:"#a552ff"},{label:o("node.isingressrelay"),color:"#d5db8a"},{label:o("node.isegressrelay"),color:"#19ffb2"},{label:o("node.isrelayed"),color:"#639cbf"},{label:o("node.isingressegressrelay"),color:"#f2c7ff"},{label:o("extclient.extclient"),color:"#26ffff"},{label:o("common.cidr"),color:"#6fa397"},{label:o("node.state.warning"),color:"#ff9800"},{label:o("node.state.error"),color:"#f44336"}];t=n&&n.id?Ki(n.lastcheckin):0;return n&&n.id?Object($a.jsxs)(ir.a,{sx:{width:"100%",height:"100%",backgroundColor:m?"#272727":"#f0f0f0"},children:[Object($a.jsx)(qs,{open:u,handleClose:function(){b(!1)},handleAccept:function(){n&&n.id&&(i(gn.deleteNode.request({netid:n.network,nodeid:n.id})),c())},message:o("node.deleteconfirm"),title:"".concat(o("common.delete")," ").concat(n.name)}),Object($a.jsx)($d.a,{avatar:Object($a.jsx)(sr.a,{sx:{bgcolor:function(){return 2===t?ej.a[500]:1===t?k.a[500]:tj.a[500]}},"aria-label":"node-status",children:n.name.substring(0,1)}),action:Object($a.jsx)(ds.a,{"aria-label":"close node details",onClick:c,children:Object($a.jsx)(Uo.a,{})}),title:"".concat(n.name," (").concat(0===t?"HEALTHY":1===t?"WARNING":"ERROR",")"),subheader:n.endpoint}),Object($a.jsxs)(or.a,{children:[Object($a.jsx)(ls.a,{title:"".concat(o("common.edit")," ").concat(o("node.node")),placement:"top",children:Object($a.jsx)(ds.a,{"aria-label":"edit node",component:Xa.b,to:"/nodes/".concat(n.network,"/").concat(n.id,"/edit"),children:Object($a.jsx)(nj.a,{})})}),Object($a.jsx)(Ls,{which:"egress",isOn:n.isegressgateway,node:n,createText:"".concat(o("node.createegress")," : ").concat(n.name),removeText:"".concat(o("node.removeegress")," : ").concat(n.name),SignalIcon:Object($a.jsx)(Gs.a,{}),withHistory:!0,extraLogic:c}),Object($a.jsx)(Ls,{which:"ingress",isOn:n.isingressgateway,node:n,createText:"".concat(o("node.createingress")," : ").concat(n.name),removeText:"".concat(o("node.removeingress")," : ").concat(n.name),SignalIcon:Object($a.jsx)(Vs.a,{}),extraLogic:c}),Object($a.jsx)(Ls,{which:"relay",isOn:n.isrelay,node:n,createText:"".concat(o("node.createrelay")," : ").concat(n.name),removeText:"".concat(o("node.removerelay")," : ").concat(n.name),SignalIcon:Object($a.jsx)(Bs.a,{}),withHistory:!0,extraLogic:c}),s.ispointtosite?Object($a.jsx)(ko,{node:n,createText:"".concat(o("node.createhub")," : ").concat(n.name),SignalIcon:Object($a.jsx)(so.a,{}),disabledText:"".concat(o("node.onehub")),extraLogic:c}):null,Object($a.jsx)(ls.a,{title:"".concat(o("acls.nodeview")," ").concat(o("node.node")),placement:"top",children:Object($a.jsx)(ds.a,{component:Xa.b,to:"/acls/".concat(n.network,"/").concat(n.id),disabled:n.isserver,"aria-label":"view-node-acl",children:Object($a.jsx)(Xr.a,{})})}),x.IsEE&&Object($a.jsx)(ls.a,{title:"".concat(o("pro.metrics")),placement:"top",children:Object($a.jsx)(ds.a,{component:Xa.b,to:"/metrics/".concat(n.network,"/").concat(n.id),"aria-label":"view-metrics",children:Object($a.jsx)(Br.a,{})})}),Object($a.jsx)(ls.a,{title:"".concat(o("common.delete")," ").concat(o("node.node")),placement:"top",children:Object($a.jsx)(ds.a,{disabled:n.isserver,"aria-label":"delete node",onClick:function(){b(!0)},children:Object($a.jsx)(cj.a,{})})})]}),Object($a.jsx)(hr.a,{children:Object($a.jsxs)(il.a,{dense:!0,children:[Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:Object($a.jsx)("div",{style:sj.multiCopy,children:Object($a.jsx)(Qs,{type:"caption",values:[n.address,n.address6]})}),secondary:o("node.addresses")})]}),Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:Object($a.jsx)("div",{style:sj.multiCopy,children:Object($a.jsx)(Qs,{type:"caption",values:[n.publickey]})}),secondary:o("node.publickey")})]}),Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:n.id,secondary:o("node.id")})]}),Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:n.os||"N/A",secondary:o("node.os")})]}),Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:n.version||"N/A",secondary:o("node.version")})]})]})})]}):r&&r.id?Object($a.jsxs)(ir.a,{sx:{width:"100%",height:"100%",backgroundColor:m?"#272727":"#f0f0f0"},children:[Object($a.jsx)($d.a,{avatar:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[500]},"aria-label":"".concat(r.type,"-status"),children:r.name.substring(0,3)}),action:Object($a.jsx)(ds.a,{"aria-label":"close node details",onClick:c,children:Object($a.jsx)(Uo.a,{})}),title:r.name,subheader:"cidr"===r.type?o("common.cidr"):o("extclient.extclient")}),Object($a.jsx)(hr.a,{children:Object($a.jsxs)(il.a,{dense:!0,children:[Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:r.id,secondary:o("node.id")})]}),!!r.address&&Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:Object($a.jsx)("div",{style:sj.multiCopy,children:Object($a.jsx)(Qs,{type:"caption",values:[r.address]})}),secondary:o("node.address")})]}),!!r.address6&&Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:Object($a.jsx)("div",{style:sj.multiCopy,children:Object($a.jsx)(Qs,{type:"caption",values:[r.address6]})}),secondary:o("node.address6")})]}),Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(aj.a,{})}),Object($a.jsx)(pl.a,{primary:"cidr"===r.type?o("common.cidr"):o("extclient.extclient"),secondary:o("common.type")})]})]})})]}):Object($a.jsx)(ir.a,{sx:{width:"100%",height:"100%",backgroundColor:m?"#272727":"#f0f0f0"},children:Object($a.jsx)(hr.a,{children:Object($a.jsx)(il.a,{dense:!0,children:h.map((function(e){return Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{children:Object($a.jsx)(rj.a,{htmlColor:e.color})}),Object($a.jsx)(pl.a,{primary:e.label})]},e.label)}))})})})},oj=function(){var e=Object(Ya.a)().t,t=O.a.useState(!1),n=Object(Va.a)(t,2),c=n[0],r=n[1],s=Object(Ba.j)().url,i=Object(Ba.i)().netid,o=Oi(i),d=gi(i),j=Object(p.useMemo)((function(){return d||[]}),[d]),u=Object(T.c)(m.getCurrentACL),b=Object(p.useMemo)((function(){return Object.keys(u)}),[u]),x=O.a.useState({}),h=Object(Va.a)(x,2),f=h[0],g=h[1],y=O.a.useState({}),v=Object(Va.a)(y,2),w=v[0],k=v[1],C=Object(T.c)(l.getExtClients),S=ci(C,i),A=Object(T.c)(a.isInDarkMode),N=Object(T.b)(),I=Object(T.c)(m.isProcessing),E=Object(p.useState)(!1),R=Object(Va.a)(E,2),M=R[0],D=R[1];ar({link:s,title:i}),O.a.useEffect((function(){I||M||(N(na.request({netid:i})),D(!0)),j.length&&b.filter((function(e){return e===j[0].id})).length||N(ra(""))}),[i,I]);var P=function(e,t){return(!b.length||!u[e.id]||1!==u[e.id][t.id])&&(!(e.isrelay&&Object(se.a)(e.relayaddrs).indexOf(t.address)>=0)&&(!e.isrelayed&&!t.isrelayed))},W=function(){g({}),k({})};if(!j||!j.length||!o)return Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(i,", ").concat(e("node.none"))})})}),Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)(mi,{})})]});var _={nodes:j,edges:[],nodeTypes:[]},F=function(e){for(var t=0;t<e.egressgatewayranges.length;t++)_.nodeTypes.push({type:"cidr",id:e.egressgatewayranges[t],name:e.egressgatewayranges[t],lastCheckin:void 0}),_.edges.push({from:e.id,to:e.egressgatewayranges[t],status:"unknown"})},q=function(e){for(var t=0;t<S.length;t++)S[t].ingressgatewayid===e.id&&S[t].enabled&&(_.nodeTypes.push({type:"extclient",id:S[t].clientid,name:S[t].clientid,lastCheckin:void 0,address:S[t].address,address6:S[t].address6}),_.edges.push({from:S[t].clientid,to:e.id,status:si(e,S[t])}))},U=function(e){for(var t=Object(se.a)(e.relayaddrs),n=0;n<j.length;n++){var c=j[n];t.indexOf(c.address)>=0&&(_.nodeTypes.push({type:"relayed",id:c.id,name:c.name,lastCheckin:c.lastcheckin}),b.length&&u[c.id]&&2===u[c.id][e.id]&&_.edges.push({from:c.id,to:e.id,status:si(c,e)}))}};if(o.ispointtosite){var K=j.filter((function(e){return e.ishub}))[0];if(K)for(var L=0;L<j.length;L++){var G=j[L];if(G.isingressgateway||G.isegressgateway)G.isingressgateway&&G.isegressgateway&&G.isrelay?(_.nodeTypes.push({type:"i&e&r",id:G.id,name:G.name,lastCheckin:G.lastcheckin}),F(G),q(G),U(G)):G.isegressgateway&&G.isrelay?(_.nodeTypes.push({type:"e&r",id:G.id,name:G.name,lastCheckin:G.lastcheckin}),F(G),U(G)):G.isingressgateway&&G.isrelay?(_.nodeTypes.push({type:"i&r",id:G.id,name:G.name,lastCheckin:G.lastcheckin}),q(G),U(G)):G.isegressgateway?(_.nodeTypes.push({type:"egress",id:G.id,name:G.name,lastCheckin:G.lastcheckin}),F(G)):(_.nodeTypes.push({type:"ingress",id:G.id,name:G.name,lastCheckin:G.lastcheckin}),q(G));else if(G.isrelay)_.nodeTypes.push({type:"relay",id:G.id,name:G.name,lastCheckin:G.lastcheckin}),U(G);else{if(G.isrelayed)continue;_.nodeTypes.push({type:"normal",id:G.id,name:G.name,lastCheckin:G.lastcheckin})}G.id!==K.id&&(P(G,K)&&(_.edges.push({from:G.id,to:K.id,status:si(G,K)}),_.edges.push({from:K.id,to:G.id,status:si(G,K)})))}}else for(var V=0;V<j.length;V++){var B=j[V];if(B.isingressgateway||B.isegressgateway)B.isingressgateway&&B.isegressgateway&&B.isrelay?(_.nodeTypes.push({type:"i&e&r",id:B.id,name:B.name,lastCheckin:B.lastcheckin}),F(B),q(B),U(B)):B.isingressgateway&&B.isegressgateway?(_.nodeTypes.push({type:"1&e",id:B.id,name:B.name,lastCheckin:B.lastcheckin}),F(B),q(B)):B.isegressgateway&&B.isrelay?(_.nodeTypes.push({type:"e&r",id:B.id,name:B.name,lastCheckin:B.lastcheckin}),F(B),U(B)):B.isingressgateway&&B.isrelay?(_.nodeTypes.push({type:"i&r",id:B.id,name:B.name,lastCheckin:B.lastcheckin}),q(B),U(B)):B.isegressgateway?(_.nodeTypes.push({type:"egress",id:B.id,name:B.name,lastCheckin:B.lastcheckin}),F(B)):(_.nodeTypes.push({type:"ingress",id:B.id,name:B.name,lastCheckin:B.lastcheckin}),q(B));else if(B.isrelay)_.nodeTypes.push({type:"relay",id:B.id,name:B.name,lastCheckin:B.lastcheckin}),U(B);else{if(B.isrelayed)continue;_.nodeTypes.push({type:"normal",id:B.id,name:B.name,lastCheckin:B.lastcheckin})}for(var H=0;H<j.length;H++){var z=j[H];z.id!==B.id&&(P(B,z)&&_.edges.push({from:B.id,to:z.id,status:si(B,z)}))}}return Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsxs)(za.a,{item:!0,xs:12,children:[!!f&&Object($a.jsx)(qs,{open:c,handleClose:function(){r(!1)},handleAccept:function(){r(!1)},message:e("hello there"),title:e("networks.graph")}),Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(e("network.graphview"),": ").concat(i)})})}),Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)(mi,{})})]})]}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:8,children:Object($a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:Object($a.jsxs)(Yd.SigmaContainer,{style:{height:"35em",width:"600px",backgroundColor:A?"#272727":"#f0f0f0"},children:[Object($a.jsx)(Xd,{data:_,handleViewNode:function(e){W(),g(e)},handleViewAlt:function(e){W(),k(e)}}),Object($a.jsxs)(Yd.ControlsContainer,{position:"top-right",children:[Object($a.jsx)(Yd.ZoomControl,{}),Object($a.jsx)(Yd.FullScreenControl,{})]}),Object($a.jsx)(Yd.ControlsContainer,{position:"top-left",children:Object($a.jsx)(Yd.SearchControl,{})})]})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,children:Object($a.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"},children:Object($a.jsx)(ij,{network:o,data:f,handleClose:W,altData:w})})})]})},lj=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t;ar({title:t("breadcrumbs.graphs")});return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:e,children:[Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:t("network.graphs")})})})}),Object($a.jsx)(mi,{selectAll:!0})]}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:Object($a.jsx)(oj,{})})]})})},dj=n(506),jj=n(507),uj=n(508),bj=n(509),mj=n(560);function xj(){var e=Object(Ya.a)().t;return Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(e("common.loading"))})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sx:{marginTop:"3em"},children:Object($a.jsx)(mj.a,{})})]})}var hj="#D7BE69",pj=function(){var e=Object(Ya.a)().t,t=Object(T.b)(),n=Object(Ba.j)().url,c=O.a.useState(!1),r=Object(Va.a)(c,2),s=r[0],i=r[1],o=Object(Ba.i)().netid,l=Object(Ba.i)().nodeid,d=gi(o),j=Object(p.useMemo)((function(){return d||[]}),[d]),u=Oi(o),b=Object(T.c)(m.isProcessing),x=Object(T.c)(m.getCurrentACL),h=Object(p.useMemo)((function(){return Object.keys(x)}),[x]),f=O.a.useState(x),g=Object(Va.a)(f,2),y=g[0],v=g[1],w=new Map,k=new Map,C=O.a.useState(j),S=Object(Va.a)(C,2),A=S[0],N=S[1],I=Object(T.c)(a.isInDarkMode),E=O.a.useState({nodeID1:"",nodeID2:""}),R=Object(Va.a)(E,2),M=R[0],D=R[1],P=Object(p.useState)(!1),W=Object(Va.a)(P,2),_=W[0],F=W[1];if(ar({link:n,title:decodeURIComponent(o)}),O.a.useEffect((function(){b||_||(t(na.request({netid:o})),F(!0)),j.length&&h.filter((function(e){return e===j[0].id})).length||t(ra(""))}),[t,o,b,_]),O.a.useEffect((function(){F(!1)}),[o]),O.a.useEffect((function(){Object.keys(y).length!==h.length&&v(x)}),[x,h,y]),!u)return Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(o,", ").concat(e("network.none"))})})}),Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)(mi,{})})]});if(u&&b)return Object($a.jsx)(xj,{});j.map((function(e){return w.set(e.id,e.name)})),A.length&&A.length!==j.length&&(k=new Map,A.map((function(e){return k.set(e.id,e.name)}))),l&&(k=new Map).set(l,String(w.get(l)));var q=function(e,t){return e===t?Object($a.jsx)(dj.a,{color:"inherit"}):Object($a.jsx)(ds.a,{onClick:function(){return function(e,t){var n={};n[e]||(n[e]={}),n[t]||(n[t]={}),n[e][t]||(n[e][t]=y[e][t]),n[t][e]||(n[t][e]=y[t][e]),2===n[e][t]?(n[e][t]=1,n[t][e]=1):(n[e][t]=2,n[t][e]=2);for(var c=0;c<h.length;c++){var a=Object.keys(y[h[c]]);n[h[c]]||(n[h[c]]={});for(var r=0;r<a.length;r++)n[h[c]][a[r]]||(n[h[c]][a[r]]=y[h[c]][a[r]]),h[c]!==a[r]&&a[r]!==e&&a[r]!==t&&(n[h[c]][a[r]]=y[h[c]][a[r]])}v(n)}(e,t)},children:y[e]&&y[e][t]&&2===y[e][t]?Object($a.jsx)(jj.a,{htmlColor:"#2800ee"}):Object($a.jsx)(uj.a,{color:"error"})})},U=function(e){for(var t={},n=0;n<h.length;n++){var c=Object.keys(y[h[n]]);t[h[n]]||(t[h[n]]={});for(var a=0;a<c.length;a++)t[h[n]][c[a]]||(t[h[n]][c[a]]=y[h[n]][c[a]]),h[n]!==c[a]&&(!l||l&&l===c[a])&&(t[h[n]][c[a]]=e)}if(l){var r=Object.keys(y[l]);t[l]||(t[l]={});for(var s=0;s<r.length;s++)t[l][r[s]]||(t[l][r[s]]=y[l][r[s]]),l!==r[s]&&(t[l][r[s]]=e)}v(t)},K={position:"sticky",left:0,background:"#E8E8E8",zIndex:1};return Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsxs)(za.a,{item:!0,xs:12,md:12,children:[Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:8,md:3,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(e("acls.networkview")," ").concat(o)})})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:3,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(e("common.search")," ").concat(e("node.nodes")),onChange:function(e){var t=e.target.value.trim();N(t?j.filter((function(e){return"".concat(e.name).concat(e.address).concat(e.id).includes(t)})):j)}})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:3,style:{paddingBottom:"1rem"},children:Object($a.jsx)(mi,{})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:2,children:Object($a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},children:[Object($a.jsx)(us.a,{fullWidth:!0,variant:"contained",onClick:function(){i(!0)},children:"".concat(e("common.submitchanges"))}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"space-between"},children:[Object($a.jsx)(ls.a,{title:"".concat(e("common.reset")),placement:"top",children:Object($a.jsx)(ds.a,{color:"secondary",sx:{marginTop:"1rem"},onClick:function(){v(x)},children:Object($a.jsx)(bj.a,{})})}),Object($a.jsx)(ls.a,{title:"".concat(e("acls.allowall")),placement:"top",children:Object($a.jsx)(ds.a,{color:"error",sx:{marginTop:"1rem"},onClick:function(){return U(2)},children:Object($a.jsx)(jj.a,{htmlColor:"#2800ee"})})}),Object($a.jsx)(ls.a,{title:"".concat(e("acls.blockall")),placement:"top",children:Object($a.jsx)(ds.a,{color:"error",sx:{marginTop:"1rem"},onClick:function(){return U(1)},children:Object($a.jsx)(Ns.a,{})})})]})]})})]}),Object($a.jsx)("hr",{})]}),Object($a.jsx)(za.a,{item:!0,xs:12,md:12,children:Object($a.jsx)(Os.a,{sx:{width:"100%",overflow:"hidden"},children:Object($a.jsx)(fs.a,{sx:{maxHeight:600,display:"flex"},children:Object($a.jsxs)(gs.a,{stickyHeader:!0,sx:{minWidth:"75vw",width:"100%"},size:"small","aria-label":"acl-table",children:[Object($a.jsx)(ys.a,{children:Object($a.jsxs)(vs.a,{children:[Object($a.jsx)(hs.a,{children:e("node.name")}),h.map((function(e){return Object($a.jsx)(hs.a,{align:"center",children:Object($a.jsx)(ms,{sx:{textTransform:"none",background:M.nodeID2===e?hj:""},to:"/acls/".concat(o,"/").concat(e),children:w.get(e)})},e)}))]})}),Object($a.jsx)(ws.a,{children:h.map((function(e,t){return 0===k.size||k.has(e)?Object($a.jsxs)(vs.a,{sx:{"&:last-child td, &:last-child th":{border:0},background:t%2===0?I?"#272727":"#f2f3f4":""},children:[Object($a.jsx)(hs.a,{sx:Object(Re.a)(Object(Re.a)({},K),{},{backgroundColor:l||M.nodeID1!==e?I?"#272727":"":hj}),component:"th",scope:"row",children:Object($a.jsx)(ms,{sx:{textTransform:"none"},disabled:!!l,to:"".concat(n,"/").concat(e),children:w.get(e)})}),h.map((function(t){return Object($a.jsx)(hs.a,{onMouseEnter:function(){return D({nodeID1:e,nodeID2:t})},onMouseLeave:function(){return D({nodeID1:"",nodeID2:""})},align:"center",children:q(e,t)},"".concat(t,"-2"))}))]},e):null}))})]})})})}),!!l&&Object($a.jsx)(za.a,{item:!0,xs:4,md:4,children:Object($a.jsx)(ms,{variant:"outlined",sx:{textTransform:"none",marginTop:"2rem"},to:"/acls/".concat(o),children:e("acls.viewall")})}),Object($a.jsx)(qs,{open:s,handleClose:function(){i(!1)},handleAccept:function(){t(ca.request({netid:o,aclContainer:y}))},message:e("common.confirmsubmit"),title:"".concat(e("acls.nodesconfirm")," ").concat(o)})]})},Oj=function(){var e=Object(Ba.j)(),t=e.path,n=e.url,c=Object(Ya.a)().t;ar({link:n,title:c("breadcrumbs.acls")});return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:t,children:[Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:c("acls.nodes")})})})}),Object($a.jsx)(mi,{selectAll:!0})]}),Object($a.jsx)(Ba.b,{path:"".concat(t,"/:netid/:nodeid"),children:Object($a.jsx)(pj,{})}),Object($a.jsx)(Ba.b,{path:"".concat(t,"/:netid"),children:Object($a.jsx)(pj,{})})]})})},fj=function(){var e=Object(Ba.j)(),t=e.path,n=e.url,c=Object(Ya.a)().t,r=Object(T.c)(j.isFetchingServerConfig),s=Object(T.c)(j.getServerLogs),i=O.a.useState([]),o=Object(Va.a)(i,2),l=o[0],d=o[1],u=Object(T.b)(),b=O.a.useState(s),m=Object(Va.a)(b,2),x=m[0],h=m[1],p=Object(T.c)(a.isInDarkMode),f=Object(T.c)(j.getAttempts);ar({link:n,title:c("pro.logs")});O.a.useEffect((function(){l.length||r||f<10&&u(mc.request()),l.length===s.length&&l===s||d(s)}),[u,l,s,r,f]);var g=x.length&&x.length<l.length?x:l;return Object($a.jsx)(Ha.a,{children:Object($a.jsx)(Ba.d,{children:Object($a.jsxs)(Ba.b,{exact:!0,path:t,children:[Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:4,children:Object($a.jsx)(Qa.a,{variant:"h3",children:c("pro.logs")})}),Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:4,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(c("common.search")," ").concat(c("pro.logs")),onChange:function(e){var t=e.target.value.trim();h(t?s.filter((function(e){return e.toLowerCase().includes(t.toLowerCase())})):s)}})}),Object($a.jsx)(za.a,{item:!0,xs:4,children:Object($a.jsx)(ls.a,{title:"".concat(c("pro.refresh")),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:function(){d([])},children:Object($a.jsx)(hi.a,{})})})})]})})]}),Object($a.jsx)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:11,style:{backgroundColor:p?"#272727":""},children:Object($a.jsxs)(Os.a,{style:{maxHeight:"50vh",overflow:"auto"},children:[f>=10&&Object($a.jsx)(Qa.a,{color:"red",children:c("error.overload")}),r&&Object($a.jsx)(mj.a,{}),g.map((function(e,t){return Object($a.jsx)(Qa.a,{variant:"body2",children:e},t)}))]})})})]})})})},gj=function(e){var t=e/6e10;return{hours:Math.floor(t/60),min:Math.ceil(t/60%1*60)}};function yj(e){var t=Object(T.b)(),n=Object(Ba.g)();return Object($a.jsx)(us.a,{color:"primary",variant:"text",sx:Object(Re.a)({},e.sx),onClick:function(){e.logic&&e.logic(),t(fc()),n.push(e.link)},children:e.text})}var vj="#D7BE69",wj={textAlign:"center"},kj=function(){var e=Object(Ya.a)().t,t=Object(T.b)(),n=Object(T.c)(j.isFetchingServerConfig),c=Object(Ba.i)().netid,r=Object(T.c)(l.getNodes),s=Object(T.c)(j.getNetworkMetrics(c)),i=Object(T.c)(l.getExtClients),o=Object(T.c)(a.isInDarkMode),d=Object(T.c)(j.getAttempts),u=O.a.useState({}),b=Object(Va.a)(u,2),m=b[0],x=b[1],h=O.a.useState({nodeID1:"",nodeID2:""}),f=Object(Va.a)(h,2),g=f[0],y=f[1],v=O.a.useState(r),w=Object(Va.a)(v,2),k=w[0],C=w[1],S=new Map,A=Object(p.useCallback)((function(){t(pc.request())}),[t]);O.a.useEffect((function(){s&&Object.keys(m).length!==Object.keys(s).length&&(x(s),C(r)),s||A()}),[t,A,m,s,c,r,n,d]),r&&r.map((function(e){return S.set(e.id,{name:e.name,network:e.network})})),i&&i.map((function(e){return S.set(e.clientid,{name:e.clientid,network:e.network})}));var N={position:"sticky",left:0,background:"#E8E8E8",zIndex:1},I=function(t,n,c){return n===c?Object($a.jsx)(dj.a,{color:"inherit"}):Object($a.jsx)(ds.a,{children:t&&t.connected?Object($a.jsx)(ls.a,{title:"UP = ".concat(gj(t.actualuptime).hours,"h").concat(gj(t.actualuptime).min,"m : ").concat(t.percentup.toFixed(2),"% \t Latency = ").concat(t.latency),children:Object($a.jsx)(jj.a,{htmlColor:"#2800ee"})}):Object($a.jsx)(ls.a,{title:String(e("common.disconnected")),children:Object($a.jsx)(uj.a,{color:"error"})})})};return n||!S?Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(e("common.loading")," ").concat(e("pro.metrics"),", ").concat(e("node.none"))})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sx:{marginTop:"3em"},children:Object($a.jsx)(mj.a,{})})]}):s&&Object.keys(m).length&&Object.keys(m.nodes).length?Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[!!c&&!!S&&Object($a.jsx)(za.a,{item:!0,xs:6,md:4,children:Object($a.jsx)("div",{style:wj,children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(e("pro.metrics")," : ").concat(c)})})}),Object($a.jsx)(za.a,{item:!0,xs:3,md:4.5,children:Object($a.jsx)("div",{style:wj,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(e("common.search")," ").concat(e("node.nodes")),onChange:function(e){var t=e.target.value.trim();C(t?r.filter((function(e){return"".concat(e.name).concat(e.address).concat(e.id).concat(e.network).includes(t)})):r)}})})}),Object($a.jsx)(za.a,{item:!0,xs:3,md:2.5,children:Object($a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object($a.jsx)(us.a,{variant:"outlined",component:Xa.b,to:"/ec/metrics/".concat(c),sx:{marginLeft:"1rem"},children:e("extclient.extclients")})})}),Object($a.jsx)(za.a,{item:!0,xs:1,md:1,children:Object($a.jsx)(ls.a,{title:e("pro.metrickeys.syncmetrics"),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:A,children:Object($a.jsx)(hi.a,{})})})}),Object($a.jsxs)(za.a,{item:!0,xs:12,style:wj,children:[d>=10&&Object($a.jsx)(Qa.a,{color:"red",children:e("error.overload")}),Object($a.jsx)(Os.a,{sx:{width:"100%",overflow:"hidden"},children:Object($a.jsx)(fs.a,{sx:{maxHeight:600},children:Object($a.jsxs)(gs.a,{stickyHeader:!0,sx:{minWidth:650},size:"small","aria-label":"metrics-table",children:[Object($a.jsx)(ys.a,{children:Object($a.jsxs)(vs.a,{children:[Object($a.jsx)(hs.a,{children:e("node.name")}),!!m&&!!m.nodes&&Object.keys(m.nodes).map((function(e){var t,n;return Object($a.jsx)(hs.a,{align:"center",children:Object($a.jsx)(yj,{sx:{textTransform:"none",background:g.nodeID2===e?vj:""},link:"/metrics/".concat(c||(null===(t=S.get(e))||void 0===t?void 0:t.network),"/").concat(e),text:null===(n=S.get(e))||void 0===n?void 0:n.name})},e)}))]})}),Object($a.jsx)(ws.a,{children:!!m&&!!m.nodes&&Object.keys(m.nodes).map((function(e,t){var n,a,r,s=m.nodes[e];return(0===S.size||S.has(e))&&(r=e,~k.findIndex((function(e){return e.id===r})))?Object($a.jsxs)(vs.a,{sx:{"&:last-child td, &:last-child th":{border:0},background:t%2===0?o?"#272727":"#f2f3f4":""},children:[Object($a.jsx)(hs.a,{sx:Object(Re.a)(Object(Re.a)({},N),{},{backgroundColor:g.nodeID1===e?vj:o?"#272727":""}),component:"th",scope:"row",children:Object($a.jsx)(yj,{link:"/metrics/".concat(c||(null===(n=S.get(e))||void 0===n?void 0:n.network),"/").concat(e),text:null===(a=S.get(e))||void 0===a?void 0:a.name,sx:{textTransform:"none"}})}),Object.keys(m.nodes).map((function(t){return Object($a.jsx)(hs.a,{onMouseEnter:function(){return y({nodeID1:e,nodeID2:t})},onMouseLeave:function(){return y({nodeID1:"",nodeID2:""})},align:"center",children:!!s&&!!s.connectivity&&I(s.connectivity[t],e,t)},"".concat(t,"-2"))}))]},e):null}))})]})})})]})]}):Object($a.jsx)(za.a,{container:!0,justifyContent:"center",alignItems:"center",textAlign:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,style:{marginTop:"5rem"},children:Object($a.jsx)(Qa.a,{variant:"h3",children:e("pro.nometrics")})})})},Cj=n(39),Sj=n(123);Cj.e.register.apply(Cj.e,Object(se.a)(Cj.p));var Aj={doughContainer:{width:"40%",height:"40%",top:"50%",left:"50%",position:"absolute",transform:"translate(-50%, -25%)"},relative:{position:"relative"}},Nj={plugins:{legend:{display:!1}},cutout:55,elements:{arc:{borderWidth:0}}},Ij=function(e){var t,n="";if(e.actualUptime){var c=gj(e.actualUptime),a=c.hours,r=c.min;n="".concat(a,"h").concat(r,"m")}else n="0h0m";return Object($a.jsx)("div",{className:"self-center w-1/2",children:Object($a.jsxs)("div",{style:Aj.relative,children:[Object($a.jsx)(Sj.b,{data:(t=e.chartData,{responsive:!0,labels:["Up","Down"],datasets:[{label:"Uptime",data:t,backgroundColor:["rgb(54, 255, 120)","rgb(255, 99, 132)"],hoverOffset:4}]}),options:Nj}),!!n&&Object($a.jsx)("div",{style:Aj.doughContainer,children:Object($a.jsx)(Qa.a,{variant:"subtitle1",children:n})})]})})};Cj.e.register(Cj.d,Cj.i,Cj.b,Cj.n,Cj.o,Cj.g);var Ej={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Total Transmitted Data on Node"}}},Tj=["Sent"],Rj=function(e,t){var n=gj(t),c=n.hours,a=n.min;return{labels:Tj,datasets:[{label:"Sent",data:[e],backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Sent per Hour",data:[t?e/(c+a/60):0],backgroundColor:"rgba(53, 162, 235, 0.5)"}]}};function Mj(e){var t=e.totalSent,n=e.duration;return Object($a.jsx)(Sj.a,{options:Ej,data:Rj(t,n)})}Cj.e.register(Cj.d,Cj.i,Cj.b,Cj.n,Cj.o,Cj.g);var Dj={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Total Transmitted Data on Node"}}},Pj=["Received"],Wj=(Math.floor(1e3*Math.random()),function(e,t){var n=gj(t),c=n.hours,a=n.min;return{labels:Pj,datasets:[{label:"Received",data:[e],backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Received per Hour",data:[t?e/(c+a/60):0],backgroundColor:"rgba(53, 162, 235, 0.5)"}]}});function _j(e){var t=e.totalReceived,n=e.duration;return Object($a.jsx)(Sj.a,{options:Dj,data:Wj(t,n)})}var Fj={center:{textAlign:"center"},start:{display:"flex",justifyContent:"flex-start",alignItems:"center"},halfSize:{minWidth:"10rem",width:"50%"},topMargin:{marginTop:"1.5rem"}},qj=function(){var e=Object(T.b)(),t=Object(Ya.a)().t,n=Object(Ba.i)(),c=n.netid,a=n.nodeid,r=Object(T.c)(j.getNodeMetric(a)),s=Object(T.c)(j.isFetchingServerConfig),i=Object(T.c)(j.hasFetchedNodeMetrics),o=O.a.useState(r),l=Object(Va.a)(o,2),d=l[0],u=l[1],b=Object(T.c)(j.getAttempts),m=O.a.useState([]),x=Object(Va.a)(m,2),h=x[0],f=x[1],g=O.a.useState(""),y=Object(Va.a)(g,2),v=y[0],w=y[1],k=O.a.useState(""),C=Object(Va.a)(k,2),S=C[0],A=C[1],N=Object(p.useCallback)((function(){e(xc.request())}),[e]);ar({link:"/nodes/".concat(c,"/").concat(a),title:a}),ar({link:"/metrics/".concat(c),title:c});var I=function(e){return e>1e12?"TiB":e>1e9?"GiB":e>1e6?"MiB":e>1e3?"KiB":"B"},E=function(e){return e>1e12?(e/1e12).toFixed(2):e>1e9?(e/1e9).toFixed(2):e>1e6?(e/1e6).toFixed(2):e>1e3?(e/1e3).toFixed(2):e},R=0,M=0,D=0;i&&r&&Object.keys(r.connectivity).map((function(e){return R+=r.connectivity[e].totalsent,D+=r.connectivity[e].totalreceived,!M&&r.connectivity[e].connected&&(M=r.connectivity[e].actualuptime),null}));var P=[{id:"node_name",label:t("node.name"),minWidth:170,sortable:!0,format:function(e,t){return Object($a.jsx)(yj,{link:"/metrics/".concat(c,"/").concat(t.id),text:t.node_name,sx:{textTransform:"none"}})},align:"center"},{id:"percentup",labelKey:"pro.metrickeys.uptime",minWidth:200,sortable:!0,align:"center",format:function(e,t){return Object($a.jsx)("div",{style:Fj.halfSize,children:Object($a.jsx)(Ij,{actualUptime:t.actualuptime,chartData:[t.percentup,100-t.percentup]})})}},{id:"latency",labelKey:"pro.metrickeys.latency",minWidth:100,align:"center",format:function(e){return 0===e?Object($a.jsx)(Qa.a,{variant:"h5",children:String(t("pro.metrickeys.lessthanone"))}):Object($a.jsx)(Qa.a,{variant:"h5",children:e})}},{id:"totalsent",labelKey:"pro.metrickeys.totalsent",minWidth:100,align:"center",format:function(e){return Object($a.jsxs)(Qa.a,{variant:"h5",children:[E(e)," (",I(e),")"]})}},{id:"totalreceived",labelKey:"pro.metrickeys.totalreceived",minWidth:100,align:"center",format:function(e){return Object($a.jsxs)(Qa.a,{variant:"h5",children:[E(e)," (",I(e),")"]})}}];return O.a.useEffect((function(){if(r&&r.connectivity&&Object.keys(r.connectivity).length){var e=[];Object.keys(r.connectivity).map((function(t){return e.push(Object(Re.a)(Object(Re.a)({},r.connectivity[t]),{},{id:t,name:r.connectivity[t].node_name})),null})),f(e),u(r)}S!==a&&(N(),A(a))}),[r,d,h,N,S,a]),s||!i||r&&0===Object.keys(r).length?Object($a.jsx)(xj,{}):Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:10,md:8,style:Fj.center,children:Object($a.jsx)(Qa.a,{variant:"h3",children:t("pro.metrics")})}),Object($a.jsxs)(za.a,{item:!0,xs:12,style:Fj.center,children:[Object($a.jsx)("hr",{}),b>=10&&Object($a.jsx)(Qa.a,{color:"red",children:t("error.overload")}),s&&Object($a.jsx)(mj.a,{})]}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4.5,md:4.5,style:Fj.start,children:Object($a.jsxs)(za.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,style:Fj.center,children:Object($a.jsx)(Qa.a,{variant:"h4",children:String(t("pro.metrickeys.datasent"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Mj,{totalSent:R,duration:M})})]})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4.5,md:4.5,style:Fj.start,children:Object($a.jsxs)(za.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,style:Fj.center,children:Object($a.jsx)(Qa.a,{variant:"h4",children:String(t("pro.metrickeys.datareceived"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(_j,{totalReceived:D,duration:M})})]})}),Object($a.jsx)(za.a,{item:!0,xs:11,sm:10,md:10,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",style:Fj.topMargin,children:[Object($a.jsx)(za.a,{item:!0,xs:6.5,md:5.5,style:Fj.center,children:Object($a.jsx)(Qa.a,{variant:"h4",children:String(t("pro.metrickeys.peerconnections"))})}),Object($a.jsx)(za.a,{item:!0,xs:5,md:5.5,children:Object($a.jsx)("div",{style:Fj.center,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(t("common.search")," ").concat(t("node.nodes")),onChange:function(e){var t=e.target.value,n=t.trim();w(n?t:"")}})})}),Object($a.jsx)(za.a,{item:!0,xs:1,md:1,children:Object($a.jsx)(ls.a,{title:t("pro.metrickeys.syncmetrics"),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:N,children:Object($a.jsx)(hi.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:Fj.topMargin,children:v?Object($a.jsx)(Ss,{columns:P,rows:h.filter((function(e){return"".concat(e.name).concat(e.id).includes(v)})),getRowId:function(e){return e.node_name}}):Object($a.jsx)(Ss,{columns:P,rows:h,getRowId:function(e){return e.node_name}})})]})})]})},Uj=n(261),Kj=n.n(Uj),Lj=function(e){var t=e.message,n=Object(Ya.a)().t,c=Object(T.c)(a.isInDarkMode),r={logo:{objectFit:"cover",maxWidth:"40%",height:"auto",width:"auto",minWidth:"8em"},center:{textAlign:"center"}};return Object($a.jsx)("div",{style:r.center,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,sx:{marginTop:"1em"},children:Object($a.jsx)(Kj.a,{style:{fontSize:"2em"}})}),Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1em"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(t||n("error.noresults"))})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sx:{marginTop:"3em"},children:Object($a.jsx)("img",{style:r.logo,src:c?to:eo,alt:"Netmaker makes networks."})})]})})},Gj={center:{textAlign:"center"},start:{display:"flex",justifyContent:"flex-start",alignItems:"center"},halfSize:{minWidth:"10rem",width:"50%"},topMargin:{marginTop:"1.5rem"}},Vj=function(){var e=Object(T.b)(),t=Object(Ya.a)().t,n=Object(Ba.i)().netid,c=Object(T.c)(j.getNetworkExtMetrics(n)),a=Object(T.c)(j.isFetchingClientMetrics),r=O.a.useState(""),s=Object(Va.a)(r,2),i=s[0],o=s[1],l=O.a.useState(!1),d=Object(Va.a)(l,2),u=d[0],b=d[1],m=function(){u||(e(Oc.request()),b(!0))};ar({link:"/ec/metrics/".concat(n),title:t("extclient.extclients")}),ar({link:"/metrics/".concat(n),title:n});var x=function(e){return e>1e12?"TiB":e>1e9?"GiB":e>1e6?"MiB":e>1e3?"KiB":"B"},h=function(e){return e>1e12?(e/1e12).toFixed(2):e>1e9?(e/1e9).toFixed(2):e>1e6?(e/1e6).toFixed(2):e>1e3?(e/1e3).toFixed(2):e},p=[{id:"node_name",label:t("extclient.extclient"),minWidth:170,sortable:!0,format:function(e,t){return Object($a.jsx)(Zs,{value:t.node_name,type:"subtitle1"})},align:"center"},{id:"percentup",labelKey:"pro.metrickeys.uptime",minWidth:200,sortable:!0,align:"center",format:function(e,t){return Object($a.jsx)("div",{style:Gj.halfSize,children:Object($a.jsx)(Ij,{actualUptime:t.actualuptime,chartData:[t.percentup,100-t.percentup]})})}},{id:"latency",labelKey:"pro.metrickeys.latency",minWidth:100,align:"center",format:function(e){return e<0?Object($a.jsx)(Qa.a,{variant:"h5",children:"N/A"}):0===e?Object($a.jsx)(Qa.a,{variant:"h5",children:String(t("pro.metrickeys.lessthanone"))}):Object($a.jsx)(Qa.a,{variant:"h5",children:e})}},{id:"totalsent",labelKey:"pro.metrickeys.totalsent",minWidth:100,align:"center",format:function(e){return Object($a.jsxs)(Qa.a,{variant:"h5",children:[h(e)," (",x(e),")"]})}},{id:"totalreceived",labelKey:"pro.metrickeys.totalreceived",minWidth:100,align:"center",format:function(e){return Object($a.jsxs)(Qa.a,{variant:"h5",children:[h(e)," (",x(e),")"]})}}];if(u&&(!c||!Object.keys(c).length))return Object($a.jsx)(Lj,{});if(a)return Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(xj,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h6",color:"warning",children:t("pro.helpers.noclients")})})})]});if(!u&&(!c||!Object.keys(c).length))return m(),Object($a.jsx)(Lj,{});var f=Object.keys(c).map((function(e){return c[e]}));return Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:10,md:8,style:Gj.center,children:Object($a.jsx)(Qa.a,{variant:"h3",children:t("pro.extmetrics")})}),Object($a.jsx)(za.a,{item:!0,xs:11,sm:10,md:10,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",style:Gj.topMargin,children:[Object($a.jsx)(za.a,{item:!0,xs:6.5,md:5.5,style:Gj.center,children:Object($a.jsx)(Qa.a,{variant:"h4",children:String(t("pro.metrickeys.peerconnections"))})}),Object($a.jsx)(za.a,{item:!0,xs:5,md:5.5,children:Object($a.jsx)("div",{style:Gj.center,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(t("common.search")," ").concat(t("extclient.extclients")),onChange:function(e){var t=e.target.value,n=t.trim();o(n?t:"")}})})}),Object($a.jsx)(za.a,{item:!0,xs:1,md:1,children:Object($a.jsx)(ls.a,{title:t("pro.metrickeys.syncmetrics"),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:m,children:Object($a.jsx)(hi.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:Gj.topMargin,children:i?Object($a.jsx)(Ss,{columns:p,rows:f.filter((function(e){return"".concat(e.node_name).includes(i)})),getRowId:function(e){return e.node_name}}):Object($a.jsx)(Ss,{columns:p,rows:f,getRowId:function(e){return e.node_name}})})]})})]})},Bj=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t;ar({title:t("pro.metrics")});return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:6.5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:t("pro.metrics")})})}),Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)(mi,{selectAll:!0})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("hr",{})})]})}),Object($a.jsx)(Ba.b,{exact:!0,path:"/ec/metrics/:netid",children:Object($a.jsx)(Vj,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid/:nodeid"),children:Object($a.jsx)(qj,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)(mi,{selectAll:!0})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("hr",{})}),Object($a.jsx)(za.a,{item:!0,xs:11.5,children:Object($a.jsx)(kj,{})})]})})]})})},Hj=function(){var e=Object(T.c)(x.userGroups),t=Lo(),n=t.Component,c=t.setProps,a=Object(Ya.a)().t,r=Object(T.b)(),s=[];if(e&&e.length)for(var i=0;i<e.length;i++)s.push({groupname:e[i]});O.a.useEffect((function(){e&&e.length||r(Et.request())}),[e,r]);var o=[{id:"groupname",labelKey:"pro.label.usergroup",minWidth:200,sortable:!0,align:"center"},{id:"action",labelKey:"common.delete",minWidth:100,align:"center",format:function(e,t){return Object($a.jsx)(ls.a,{title:String(a("common.delete")),placement:"top",children:Object($a.jsx)(ds.a,{color:"secondary",onClick:function(){c({message:"".concat(a("common.delete")," ").concat(a("pro.label.usergroup"),' "').concat(t.groupname,'"'),title:a("common.submit"),onSubmit:function(){r(Rt.request({groupName:t.groupname}))}})},children:Object($a.jsx)(Hs.a,{})})})}}];return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Ss,{columns:o,rows:s,getRowId:function(e,t){return"".concat(e.groupname,"-").concat(t)}}),Object($a.jsx)(n,{})]})},zj=Object(jo.a)((function(){return Object(uo.a)({center:{textAlign:"center"},rowMargin:{marginTop:"1em",marginBottom:"1em"}})})),Yj=function(){var e,t=Object(T.b)(),n=zj(),c=Object(Ya.a)().t,a=Object(Ba.h)(),r=Object(Ba.g)(),s=Object(T.c)(x.isCreatingGroup),i=O.a.createRef(),o=Lo(),l=o.Component,d=o.setProps;O.a.useEffect((function(){var e;null===(e=i.current)||void 0===e||e.reset({groupName:""})}),[i]);var j=Object(p.useCallback)((function(e){d({message:"".concat(c("common.create")," ").concat(c("pro.label.usergroup")," ").concat(e.groupName),onSubmit:function(){t(Tt.request({groupName:e.groupName})),r.push("/usergroups")},title:c("common.submit")})}),[t,d,c,r]);ar({title:c("common.create")});var u=Object(p.useMemo)((function(){return Pi({groupName:function(e){return e?void 0:{message:c("users.validation.groupname"),type:"value"}}})}),[c]);return s?Object($a.jsx)(Ba.a,{to:(null===(e=a.state)||void 0===e?void 0:e.from)||"/"}):Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{className:n.center,children:s&&Object($a.jsx)(Eo.a,{})})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{className:n.center,children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(c("common.create")," ").concat(c("pro.label.usergroup"))})})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Ei,{ref:i,initialState:{groupName:""},resolver:u,onSubmit:j,onCancel:function(){return r.goBack()},submitText:"".concat(c("common.create")," ").concat(c("pro.label.usergroup")),submitProps:{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},disabled:s,children:Object($a.jsx)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"groupName",label:String(c("pro.label.usergroup")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",autoFocus:!0})})})})}),Object($a.jsx)(l,{})]})},Zj=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t;return ar({title:t("pro.label.usergroups")}),Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",display:"flex",justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:7,children:Object($a.jsx)(Qa.a,{variant:"h4",children:t("pro.label.usergroups")})}),Object($a.jsx)(za.a,{item:!0,xs:2,children:Object($a.jsx)(ms,{fullWidth:!0,variant:"contained",to:{pathname:"/usergroups/create"},children:"".concat(t("common.create")," ").concat(t("pro.label.usergroup"))})}),Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsx)(Hj,{})})]})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/create"),children:Object($a.jsx)(Yj,{})})]})})},Qj=function(){var e=Object(Ya.a)().t,t=Object(Ba.g)(),n=Object(Ba.i)().netid,c=Object(Ba.j)().url,a=Object(T.c)(x.networkUsers),r=Object(T.b)();if(ar({link:c,title:n}),O.a.useEffect((function(){a&&Object.keys(a).length||r(Mt.request())}),[a,r]),!a[n]||!a[n].length)return Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(n,", ").concat(e("pro.networkusers.none"))})})}),Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)(mi,{})})]});var s=[{id:"id",label:e("node.id"),minWidth:170,sortable:!0,format:function(e){return Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/user-permissions/".concat(n,"/").concat(e),children:e})},align:"center"},{id:"id",label:e("node.nodes"),minWidth:170,sortable:!0,format:function(e,t){return Object($a.jsx)("span",{children:t.nodes.map((function(e){return Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/nodes/".concat(n,"/").concat(e),children:e})}))})},align:"center"},{id:"id",label:e("extclient.extclients"),minWidth:170,sortable:!0,format:function(e,t){return Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/ext-clients/".concat(n),children:t.clients.join(",")})},align:"center"}];return Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsxs)(za.a,{item:!0,xs:12,md:12,children:[Object($a.jsxs)(za.a,{container:!0,direction:"row",display:"flex",justifyContent:"space-evenly",alignItems:"center",marginLeft:"4rem",children:[Object($a.jsx)(za.a,{item:!0,xs:8,md:6,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(n," ").concat(e("pro.label.userpermissions"))})})}),Object($a.jsx)(za.a,{item:!0,xs:10,md:5,children:Object($a.jsx)(mi,{})})]}),Object($a.jsx)("hr",{})]}),Object($a.jsx)(Ss,{columns:s,rows:a[n],getRowId:function(e){return e.id},actions:[function(c){return{tooltip:"".concat(e("common.edit")," ").concat(c.id),disabled:!1,icon:Object($a.jsx)(nj.a,{}),onClick:function(){t.push("/user-permissions/".concat(n,"/").concat(c.id))}}}]})]})},Jj=function(){var e=Object(Ba.g)(),t=Object(Ya.a)().t,n=Object(Ba.j)().url,c=Object(Ba.i)(),r=c.netid,s=c.clientid,i=Object(T.b)(),o=Object(T.c)(x.networkUsers),l=void 0;o&&o[r]&&(l=o[r].filter((function(e){return e.id===s}))[0]);var d=Object(T.c)(a.isInDarkMode);ar({link:n,title:s}),ar({link:n.split("/"+s)[0],title:r}),ar({title:t("common.edit")});var j=Object(p.useCallback)((function(t){if(l){var n=Object(Re.a)(Object(Re.a)({},t),{},{accesslevel:Number(t.accesslevel),nodelimit:Number(t.nodelimit),clientlimit:Number(t.clientlimit)});i(Pt.request({networkName:r,networkUser:Object(Re.a)({},n)})),e.push("/user-permissions/".concat(r))}}),[i,r,e,l]);if(!l)return Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(t("error.notfound"))})});var u=Object(Re.a)({},l),b={modal:{position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,backgroundColor:d?"#272727":xr.a[100],border:"1px solid #000",minWidth:"50%",pt:2,px:4,pb:3},center:{textAlign:"center"},max:{width:"75%"}};return Object($a.jsx)(lo.a,{open:!0,onClose:function(){e.push("/user-permissions/".concat(r))},children:Object($a.jsx)(ps.a,{style:b.modal,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",style:{margin:"0.5em"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:b.center,children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(t("common.edit")," ").concat(t("pro.label.networkuser"),": ").concat(s)})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:b.center,children:Object($a.jsx)(Ei,{initialState:u,onSubmit:j,submitProps:{variant:"contained",fullWidth:!0,type:"submit"},children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:9,children:Object($a.jsx)(Di,{name:"id",defaultValue:s,label:String(t("node.id")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:4,md:3.1,children:Object($a.jsx)(ls.a,{title:t("pro.helpers.accesslevel"),placement:"top",children:Object($a.jsx)(Di,{defaultValue:l.accesslevel,InputProps:{inputProps:{min:0,max:3}},name:"accesslevel",label:String(t("pro.networkusers.accesslevel")),type:"number",autoFocus:!0})})}),Object($a.jsx)(za.a,{item:!0,sm:4,md:3.1,children:Object($a.jsx)(ls.a,{title:t("pro.helpers.usernodelimit"),placement:"top",children:Object($a.jsx)(Di,{defaultValue:l.nodelimit,InputProps:{inputProps:{min:0}},name:"nodelimit",label:String(t("pro.networkusers.nodelimit")),type:"number"})})}),Object($a.jsx)(za.a,{item:!0,sm:4,md:3.1,children:Object($a.jsx)(ls.a,{title:t("pro.helpers.userclientlimit"),placement:"top",children:Object($a.jsx)(Di,{defaultValue:l.clientlimit,InputProps:{inputProps:{min:0}},name:"clientlimit",label:String(t("pro.networkusers.clientlimit")),type:"number"})})})]})})})]})})})},Xj=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t;ar({title:t("pro.label.userpermissions")});return Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:t("pro.label.userpermissions")})})}),Object($a.jsx)(za.a,{item:!0,xs:8,children:Object($a.jsx)(mi,{selectAll:!0})})]})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid/:clientid"),children:Object($a.jsx)(Jj,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:Object($a.jsx)(Qj,{})})]})})},$j=240,eu=function(e){return{width:$j,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},tu=function(e){return Object(cl.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(9)," + 1px)")})},nu=Object(rr.a)("div")((function(e){var t=e.theme;return Object(Re.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)})),cu=Object(rr.a)(al.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(Re.a)(Object(Re.a)({width:$j,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(Re.a)(Object(Re.a)({},eu(t)),{},{"& .MuiDrawer-paper":eu(t)})),!n&&Object(Re.a)(Object(Re.a)({},tu(t)),{},{"& .MuiDrawer-paper":tu(t)}))})),au={topBarMain:{marginLeft:"1em",marginRight:"1em",width:"100%"},title:{textAlign:"center",flexGrow:1},subTitle:{paddingRight:"3em",cursor:"pointer"},logo:{objectFit:"cover",maxWidth:"50%",height:"auto",width:"auto",minWidth:"8em"},headerLogo:{width:"25%",height:100,margin:"auto auto",paddingRight:"1.5rem",display:"flex",justifyContent:"space-evenly",alignItems:"center"},central:{display:"flex",justifyContent:"center",alignItems:"center"},central2:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},toolbarButtons:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},ru=Object(rr.a)(rl.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(Re.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:$j,width:"calc(100% - ".concat($j,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})}));function su(){var e=!Object(Ba.j)("/login"),t=Object(T.c)(a.getUser),n=Object(T.c)(a.getUserSettings),c=Object(T.c)(j.getServerConfig),r=Object(T.c)(a.getLoggedIn),s=Object(T.c)(a.isInDarkMode),i=Object(T.b)(),o=Object(Ya.a)().t,l=Object(gr.a)(),d=p.useState(!1),u=Object(Va.a)(d,2),b=u[0],m=u[1],x=p.useState(!1),h=Object(Va.a)(x,2),O=h[0],f=h[1];return Object($a.jsxs)(ps.a,{sx:{display:"flex"},children:[Object($a.jsx)(ol.a,{}),Object($a.jsxs)(ru,{position:"fixed",color:"primary",open:b||O,children:[Object($a.jsxs)(sl.a,{children:[Object($a.jsx)(ds.a,{color:"inherit","aria-label":"open drawer",onClick:function(){f(!0)},edge:"start",sx:Object(Re.a)({marginRight:"36px"},(b||O)&&{display:"none"}),children:Object($a.jsx)(jl.a,{})}),Object($a.jsx)("div",{style:au.toolbarButtons,children:Object($a.jsx)("div",{style:au.headerLogo,children:Object($a.jsx)("img",{style:au.logo,src:s?to:eo,alt:"Netmaker makes networks."})})})]}),Object($a.jsx)("div",{style:au.central,children:Object($a.jsx)(cr,{link:"/",title:o("breadcrumbs.home")})})]}),Object($a.jsxs)(cu,{variant:"permanent",open:b||O,onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)},children:[Object($a.jsx)(sl.a,{}),Object($a.jsx)(nu,{children:Object($a.jsx)(ds.a,{onClick:function(){f(!1),m(!1)},children:"rtl"===l.direction?Object($a.jsx)(xl.a,{}):Object($a.jsx)(bl.a,{})})}),Object($a.jsx)(ll.a,{}),Object($a.jsx)(il.a,{children:[{text:"Dashboard",icon:Object($a.jsx)(Dl.a,{}),link:"/"}].map((function(e){return Object($a.jsxs)(Gl.a,{component:Xa.b,to:e.link,children:[Object($a.jsx)(hl.a,{children:e.icon}),Object($a.jsx)(pl.a,{primary:e.text})]},e.text)}))}),Object($a.jsxs)(il.a,{children:[Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{"aria-label":String(o("users.header")),children:Object($a.jsx)(Rl.a,{})}),Object($a.jsx)(pl.a,{primary:"UI: ".concat(X),secondary:"Server: ".concat(c.Version)})]}),Object($a.jsxs)(Gl.a,{component:"a",href:"https://docs.netmaker.org",target:"_blank",rel:"noopener noreferrer",children:[Object($a.jsx)(hl.a,{"aria-label":String(o("header.docs")),children:Object($a.jsx)(Fl.a,{})}),Object($a.jsx)(pl.a,{primary:o("header.docs")})]}),e&&(r?Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Gl.a,{component:Xa.b,to:"/users/".concat(t.name),children:[Object($a.jsx)(hl.a,{"aria-label":String(o("users.details")),children:Object($a.jsx)(Ul.a,{})}),Object($a.jsx)(pl.a,{primary:null===t||void 0===t?void 0:t.name})]}),Object($a.jsxs)(Gl.a,{onClick:function(){return i(W())},children:[Object($a.jsx)(hl.a,{"aria-label":String(o("header.logout")),children:Object($a.jsx)(Nl.a,{})}),Object($a.jsx)(pl.a,{primary:o("header.logout")})]}),Object($a.jsxs)(Ol.a,{children:[Object($a.jsx)(hl.a,{"aria-label":String(o(s?"common.togglelite":"common.toggledark")),children:Object($a.jsx)(vi.a,{onChange:function(e){n&&i(D(Object(Re.a)(Object(Re.a)({},n),{},{mode:s?"light":"dark"})))},checked:s})}),Object($a.jsx)(pl.a,{primary:String(o(s?"common.togglelite":"common.toggledark"))})]})]}):Object($a.jsxs)(Gl.a,{component:Xa.b,to:"/login",children:[Object($a.jsx)(hl.a,{"aria-label":String(o("header.login")),children:Object($a.jsx)(El.a,{})}),Object($a.jsx)(pl.a,{primary:String(o("header.login"))})]}))]})]})]})}function iu(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function ou(e){var t=Object(gr.a)(),n=p.useState([]),c=Object(Va.a)(n,2),a=c[0],r=c[1],s=Object(Ya.a)().t;return Object($a.jsx)("div",{children:Object($a.jsxs)(oi.a,{variant:"outlined",sx:{m:1,minWidth:"15rem",width:"30%",mt:3,"& .MuiNativeSelect-select":{height:"90%",minHeight:"40vh"}},children:[Object($a.jsx)(Qi.a,{shrink:!0,htmlFor:"select-multiple-native",style:{fontSize:"1.5rem",fontWeight:"bold",color:"#139da4"},children:s("pro.label.selectnetwork")}),Object($a.jsx)(li.a,{autoFocus:!0,style:{fontSize:"1.75rem",height:"100%",minHeight:"40vh"},label:s("pro.label.selectnetwork"),multiple:!0,native:!0,value:a,onChange:function(t){var n=t.target.value;r("string"===typeof n?n.split(","):n),e.onSelect(n)},renderValue:function(t){return 0===t.length?Object($a.jsx)("em",{children:e.placeholder}):t.join(", ")},children:e.items.map((function(e){return Object($a.jsx)("option",{className:"selected",value:e,style:iu(e,a,t),children:e},e)}))})]})})}var lu=function(e){var t=e.selectAll,n=(e.prepend,Object(T.c)(x.getNetworkUserNetworks)),c=Object(Ya.a)().t,r=Object(Ba.g)(),s=Object(Ba.i)().netid,i=Object(T.b)(),o=Object(T.c)(a.getUser);t&&s&&n.push(c("common.selectall"));return 0===n.length?Object($a.jsx)(Lj,{}):Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(c("pro.label.welcome")," ").concat(null===o||void 0===o?void 0:o.name)})})}),Object($a.jsx)(za.a,{item:!0,xs:7,justifyContent:"center",children:Object($a.jsx)(oi.a,{fullWidth:!0,children:Object($a.jsx)(ou,{placeholder:"".concat(c("common.select")," ").concat(c("network.network")),onSelect:function(e){i(fc());var n=r.location.pathname.indexOf(s);void 0===s?r.push("".concat(r.location.pathname,"/").concat(e)):t&&e===c("common.selectall")?r.push(r.location.pathname.substr(0,n-1)):void 0!==s&&r.push(r.location.pathname.replace(s,e))},items:n})})})]})};function du(){var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(Ba.i)().netid;return Object($a.jsx)(us.a,{component:Xa.b,to:"".concat(n,"/accesskeys"),color:"inherit",fullWidth:!0,style:{textTransform:"none"},children:Object($a.jsx)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",width:"100%",height:"100%",minHeight:"14em"},children:Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("breadcrumbs.accessKeys")),children:Object($a.jsx)(Ir.a,{sx:{color:t.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("breadcrumbs.accessKeys")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("breadcrumbs.accessKeys"))})]})]})})})}function ju(){var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(Ba.i)().netid;return Object($a.jsx)(us.a,{component:Xa.b,to:"/prouser/".concat(n,"/proedit"),color:"inherit",fullWidth:!0,style:{textTransform:"none"},children:Object($a.jsx)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",minHeight:"14em",width:"100%",padding:".5em"},children:Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("network.networks")),children:Object($a.jsx)(Or.a,{sx:{color:t.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("pro.network.networkedit")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("pro.network.managenetwork"))})]})]})})})}function uu(){var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(Ba.i)().netid;return Object($a.jsx)(us.a,{component:Xa.b,to:"/prouser/".concat(n,"/nodeview"),color:"inherit",fullWidth:!0,style:{textTransform:"none"},children:Object($a.jsx)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%",minHeight:"14em"},children:Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("node.nodes")),children:Object($a.jsx)(wr.a,{sx:{color:t.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:e("node.nodes")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("common.manage")," ").concat(e("node.nodes"))})]})]})})})}function bu(e){var t=Object(Ya.a)().t,n=Object(gr.a)(),c=Object(Ba.i)().netid;return Object($a.jsx)(us.a,{component:Xa.b,to:"".concat(c,"/vpnview"),color:"inherit",fullWidth:!0,style:{textTransform:"none"},children:Object($a.jsx)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"100%",minHeight:"14em"},children:Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(t("pro.label.vpnaccess")),children:Object($a.jsx)(Sr.a,{sx:{color:n.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:t("pro.label.vpnaccess")}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(t("pro.label.clientconfig"))})]})]})})})}var mu=function(){var e=Object(T.c)(x.getCurrentAccessKey),t=Object(Ba.g)(),n=Object(Ba.i)().netid,c=Object(Ba.j)().url,a=Object(Ya.a)().t,r=Object(T.b)(),s=O.a.useState(!1),i=Object(Va.a)(s,2),o=i[0],l=i[1];ar({title:a("common.create")}),ar({link:c.replace("/create",""),title:n});var d=function(){return l(!0)},j=Object(p.useCallback)((function(){r(Ft()),l(!1),t.goBack()}),[r,t]);e.accessString&&e.value&&!o&&d();var u={textAlign:"center",marginBottom:"1em"},b=Object(p.useCallback)((function(e){r(_t.request({netid:n,newAccessKey:{name:e.name||"",uses:e.uses||0}}))}),[r,n]);return Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[e.accessString&&e.value&&Object($a.jsx)(ed,{title:a("accesskey.details"),keyValue:e.value,accessString:e.accessString,open:o,handleClose:j,handleOpen:d}),Object($a.jsxs)(za.a,{item:!0,xs:10,style:u,children:[Object($a.jsx)(Qa.a,{variant:"h4",children:a("accesskey.create")}),Object($a.jsx)("hr",{})]}),Object($a.jsx)(za.a,{item:!0,xs:10,style:u,children:Object($a.jsx)(Qa.a,{variant:"h6",children:"".concat(a("network.network"),": ").concat(n)})}),Object($a.jsx)(za.a,{item:!0,xs:10,style:u,children:Object($a.jsx)(Ei,{initialState:{name:"",uses:0},onSubmit:b,submitProps:{variant:"contained",fullWidth:!0},submitText:a("common.create"),children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,md:6,children:Object($a.jsx)(Di,{name:"name",label:"".concat(a("accesskey.name")," (").concat(a("common.optional"),")")})}),Object($a.jsx)(za.a,{item:!0,xs:12,md:6,children:Object($a.jsx)(Di,{name:"uses",label:String(a("accesskey.uses")),type:"number"})})]})})})]})},xu=function(){var e=Object(Ya.a)().t,t=Object(T.b)(),n=Object(Ba.g)(),c=O.a.useState(!1),a=Object(Va.a)(c,2),r=a[0],s=a[1],i=O.a.useState(""),o=Object(Va.a)(i,2),l=o[0],d=o[1],j=Object(Ba.i)().netid,u=Object(T.c)(x.networkUserData)[j].networks.filter((function(e){return e.netid===j}))[0],b=Object(Ba.j)().url;if(!u)return Object($a.jsx)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:6,children:Object($a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(j,", ").concat(e("network.none"))})})})});var m=[{id:"name",label:e("accesskey.accesskey"),minWidth:170,sortable:!0,format:function(e){return Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/prouser/".concat(j,"/accesskeys/view/").concat(e),children:e})},align:"center"},{id:"uses",labelKey:"accesskey.uses",minWidth:100,sortable:!0,align:"center"}];return Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsxs)(za.a,{item:!0,xs:12,md:12,children:[Object($a.jsxs)(za.a,{container:!0,direction:"row",display:"flex",justifyContent:"space-between",alignItems:"center",marginLeft:"4rem",children:[Object($a.jsx)(za.a,{item:!0,xs:8,md:5,children:Object($a.jsx)("div",{style:{textAlign:"center"},children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(e("accesskey.viewing")," ").concat(j)})})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:3,children:Object($a.jsx)(us.a,{fullWidth:!0,variant:"contained",onClick:function(){return n.push("".concat(b,"/create"))},children:"".concat(e("common.create")," ").concat(e("accesskey.accesskey"))})})]}),Object($a.jsx)("hr",{})]}),Object($a.jsx)(Ss,{columns:m,rows:u.accesskeys||[],getRowId:function(e){return e.name},actions:[function(t){return{tooltip:e("common.delete"),disabled:!1,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){var e;e=t.name,d(e),s(!0)}}}]}),l&&Object($a.jsx)(qs,{open:r,handleClose:function(){s(!1)},handleAccept:function(){t(kt.request({netid:j,name:l})),n.push("/prouser/".concat(j,"/accesskeys"))},message:e("accesskey.deleteconfirm"),title:"".concat(e("common.delete")," ").concat(l)})]})},hu=function(){var e=Object(Ba.g)(),t=Object(Ya.a)().t,n=Object(Ba.i)(),c=n.netid,a=n.keyname,r=Object(T.c)(x.networkUserData)[c];if(!r)return Object($a.jsx)(ao,{});var s=r.networks,i=s.findIndex((function(e){return e.netid===c})),o=s[i].accesskeys,l=o.findIndex((function(e){return e.name===a})),d=o[l];return Object($a.jsx)(ed,{title:"".concat(t("accesskey.details")," : ").concat(a," "),open:!0,handleOpen:function(){},handleClose:function(){return e.goBack()},accessString:d.accessstring,keyValue:d.value})},pu=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t;return ar({title:t("breadcrumbs.accessKeys")}),Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:8,children:Object($a.jsx)(xu,{})})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/create"),children:Object($a.jsx)(mu,{})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/view/:keyname"),children:Object($a.jsx)(hu,{})})]})})},Ou=function(e){var t=e.network,n=e.onCancel,c=Object(Ya.a)().t,a=Object(Ba.j)().url,r=Object(T.b)(),s=Object(T.c)(j.getServerConfig),i=O.a.createRef(),o=Object(p.useMemo)((function(){return Pi({addressrange:function(e,t){if(t.isipv4)return zi.test(e)?void 0:{message:c("network.validation.ipv4"),type:"value"}},addressrange6:function(e,t){if(t.isipv6)return Hi.test(e)?void 0:{message:c("network.validation.ipv6"),type:"value"}}})}),[c]);ar({link:a,title:c("common.edit")});var l=Object(p.useCallback)((function(e){r(ht.request({network:St(e)}))}),[r]);if(!t)return Object($a.jsx)(ao,{});var d={display:"flex",justifyContent:"center",alignItems:"center"};return Object($a.jsx)(Ei,{resolver:o,initialState:t,onSubmit:l,onCancel:n,submitProps:{variant:"contained",fullWidth:!0,style:{width:"50%"}},sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},ref:i,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(c("network.details")," : ").concat(t.netid)})})}),Object($a.jsx)(ls.a,{title:c("helper.whatisipv4"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"addressrange",label:String(c("network.addressrange")),disabled:!t.isipv4})})}),Object($a.jsx)(ls.a,{title:c("helper.whatisipv6"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"addressrange6",label:String(c("network.addressrange6")),disabled:!t.isipv6})})}),Object($a.jsx)(ls.a,{title:c("helper.localrange"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"localrange",label:String(c("network.localrange"))})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultinterface"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultinterface",label:String(c("network.defaultinterface"))})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultlistenport"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultlistenport",label:String(c("network.defaultlistenport")),type:"number"})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultpostup"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultpostup",label:String(c("network.defaultpostup")),disabled:!s.RCE})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultpostdown"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultpostdown",label:String(c("network.defaultpostdown")),disabled:!s.RCE})})}),Object($a.jsx)(ls.a,{title:c("helper.keepalive"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultkeepalive",label:String(c("network.defaultkeepalive")),type:"number"})})}),Object($a.jsx)(ls.a,{title:c("helper.extclient"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultextclientdns",label:String(c("network.defaultextclientdns"))})})}),Object($a.jsx)(ls.a,{title:c("helper.mtu"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Di,{name:"defaultmtu",label:String(c("network.defaultmtu")),type:"number"})})}),Object($a.jsx)(ls.a,{title:c("helper.ipv4"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)("div",{style:d,children:Object($a.jsx)(Ri,{name:"isipv4",label:String(c("network.isipv4")),disabled:!0})})})}),Object($a.jsx)(ls.a,{title:c("helper.ipv6"),placement:"top",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)("div",{style:d,children:Object($a.jsx)(Ri,{name:"isipv6",label:String(c("network.isipv6")),disabled:!0})})})}),Object($a.jsx)(ls.a,{title:c("helper.nokeysignup"),children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3,children:Object($a.jsx)(Ri,{name:"allowmanualsignup",label:"Allow Node Signup Without Keys"})})}),Object($a.jsx)(ls.a,{title:c("helper.udpholepunching"),children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:2,children:Object($a.jsx)(Ri,{name:"defaultudpholepunch",label:String(c("network.defaultudpholepunch"))})})}),Object($a.jsx)(ls.a,{title:c("helper.pointtosite"),children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:2,children:Object($a.jsx)(Ri,{name:"ispointtosite",label:String(c("network.ispointtosite"))})})}),Object($a.jsx)(ls.a,{title:c("helper.defaultaccesscontrol"),children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:3,children:Object($a.jsx)(Ri,{name:"defaultacl",label:String(c("network.defaultacl"))})})}),s.IsEE&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:{marginTop:"1rem"}}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(ls.a,{title:c("pro.helpers.accesslevel"),placement:"top",children:Object($a.jsx)(Di,{name:"prosettings.defaultaccesslevel",label:String(c("pro.network.defaultaccesslevel")),type:"number",InputProps:{inputProps:{min:0,max:3}}})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(ls.a,{title:c("pro.helpers.usernodelimit"),placement:"top",children:Object($a.jsx)(Di,{name:"prosettings.defaultusernodelimit",label:String(c("pro.network.defaultusernodelimit")),type:"number",InputProps:{inputProps:{min:0}}})})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:4,md:3.1,children:Object($a.jsx)(ls.a,{title:c("pro.helpers.userclientlimit"),placement:"top",children:Object($a.jsx)(Di,{name:"prosettings.defaultuserclientlimit",label:String(c("pro.network.defaultuserclientlimit")),type:"number",InputProps:{inputProps:{min:0}}})})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:{marginTop:"1rem"}}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:5.75,md:5.5,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-evenly",children:[Object($a.jsx)(za.a,{item:!0,xs:12,md:8,style:d,children:Object($a.jsx)(Di,{fullWidth:!0,name:"prosettings.allowedgroups",label:String(c("pro.network.allowedgroups")),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:4,style:d,children:Object($a.jsx)(ms,{sx:{textTransform:"none"},to:"/networks/".concat(t.netid,"/edit/groups"),fullWidth:!0,variant:"outlined",children:"".concat(c("common.edit")," ").concat(c("pro.network.allowedgroups"))})})]})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:5.75,md:5.5,children:Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsx)(za.a,{item:!0,xs:12,md:8,style:d,children:Object($a.jsx)(Di,{fullWidth:!0,name:"prosettings.allowedusers",label:String(c("pro.network.allowedusers")),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:4,style:d,children:Object($a.jsx)(ms,{variant:"outlined",fullWidth:!0,sx:{textTransform:"none"},to:"/networks/".concat(t.netid,"/edit/networkusers"),children:"".concat(c("common.edit")," ").concat(c("pro.network.allowedusers"))})})]})})]})]})})},fu=function(e){var t=e.node,n=Object(T.b)(),c=Object(T.c)(x.networkUserData),a=Object(Ba.i)().netid,r=Object(Ya.a)().t,s=c[a],i=s.clients.length,o=s.user.clientlimit-i,l=o<=0;return Object($a.jsx)(ls.a,{title:String(r(l?"extclient.disabled":"extclient.create")),placement:"top",children:Object($a.jsx)(ds.a,{color:"primary",onClick:function(){n(gn.createExternalClient.request({netid:t.network,nodeid:t.id}))},disabled:0===o,children:Object($a.jsx)(ld.a,{})})})},gu=function(e){var t=e.client,n=e.type,c=Object(T.b)(),r=Object(T.c)(a.getToken),s=Object(Ba.g)(),i=Object(Ba.j)().url;return Object($a.jsx)(ls.a,{title:"".concat("file"===n?ye.a.t("extclient.download"):ye.a.t("extclient.viewqr")," ").concat(t.clientid),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){c(gn.getExternalClientConf.request({clientid:t.clientid,netid:t.network,type:n,token:r||""})),"qr"===n&&s.push("".concat(i,"/").concat(t.clientid,"/qr"))},children:"file"===n?Object($a.jsx)(jd.a,{}):Object($a.jsx)(ud.a,{})})})},yu=function(e){var t=e.client,n=Object(T.b)(),c=O.a.useState(!1),a=Object(Va.a)(c,2),r=a[0],s=a[1];return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(qs,{open:r,handleClose:function(){return s(!1)},handleAccept:function(){n(gn.deleteExternalClient.request({clientName:t.clientid,netid:t.network}))},message:ye.a.t("extclient.deleteconfirm"),title:"".concat(ye.a.t("common.delete")," ").concat(t.clientid)}),Object($a.jsx)(ls.a,{title:"".concat(ye.a.t("common.delete")," ").concat(t.clientid),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return s(!0)},children:Object($a.jsx)(Hs.a,{})})})]})},vu=function(e){var t=e.client,n=Object(Ba.j)().url;return Object($a.jsx)(ls.a,{title:"".concat(ye.a.t("common.edit")," : ").concat(t.clientid),placement:"top",children:Object($a.jsx)(ms,{to:"".concat(n,"/").concat(t.clientid,"/edit"),variant:"text",sx:{textTransform:"none"},children:t.clientid})})},wu=[{id:"name",labelKey:"ingress.name",minWidth:125,align:"center",sortable:!0},{id:"address",labelKey:"node.addresses",minWidth:90,align:"center",format:function(e,t){return Object($a.jsx)(Qs,{type:"subtitle2",values:[t.address,t.address6]})}},{id:"id",label:ye.a.t("ingress.add"),minWidth:45,align:"center",format:function(e,t){return Object($a.jsx)(fu,{node:t})}}],ku={textAlign:"center"},Cu=function(e){var t=e.vpns,n=e.clients,c=Object(Ba.j)(),a=c.path,r=c.url,s=Object(Ya.a)().t,i=Object(Ba.i)().netid,o=Object(Ba.g)(),l=O.a.useState([]),d=Object(Va.a)(l,2),j=d[0],u=d[1],b=O.a.useState({}),m=Object(Va.a)(b,2),h=m[0],p=m[1],f=Object(T.b)(),g=Object(T.c)(x.networkUserData)[i];if(ar({link:r,title:i}),!t||!t.length)return Object($a.jsx)(Lj,{message:s("ingress.none")});var y=[{id:"clientid",labelKey:"extclient.clientid",minWidth:124,align:"center",sortable:!0,format:function(e,t){return Object($a.jsx)(vu,{client:t})}},{id:"address",labelKey:"node.addresses",minWidth:80,align:"center",sortable:!0,format:function(e,t){return Object($a.jsx)(Qs,{type:"subtitle2",values:[t.address,t.address6]})}},{id:"network",labelKey:"extclient.qr",minWidth:40,align:"center",format:function(e,t){return Object($a.jsx)(gu,{type:"qr",client:t})}},{id:"description",labelKey:"extclient.download",minWidth:40,align:"center",format:function(e,t){return Object($a.jsx)(gu,{type:"file",client:t})}},{id:"enabled",labelKey:"extclient.enabled",minWidth:40,align:"center",format:function(e,t){return Object($a.jsx)(ls.a,{title:"".concat(t.enabled?s("common.disable"):s("common.enable")," ").concat(t.clientid),placement:"top",children:Object($a.jsx)(ds.a,{onClick:function(){return v(t)},children:t.enabled?Object($a.jsx)(Is.a,{htmlColor:"#2b00ff"}):Object($a.jsx)(Ns.a,{color:"error"})})})}},{id:"lastmodified",labelKey:"common.delete",minWidth:50,align:"center",format:function(e,t){return Object($a.jsx)(yu,{client:t})}}],v=function(e){p(e)},w=function(e){return!~j.findIndex((function(t){return t.ingressgatewayid===e}))},k=g.clients.length,C=g.user.clientlimit-k;return Object($a.jsx)(Ba.d,{children:Object($a.jsxs)(Ba.b,{exact:!0,path:a,children:[Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:g.user.accesslevel>0&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(za.a,{item:!0,xs:4,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[700],width:100,height:100},"aria-label":String(s("common.clientsused")),children:Object($a.jsxs)(Qa.a,{variant:"body1",style:{fontSize:".9em",textAlign:"center"},children:[String(s("common.clientsused")),k]})})}),Object($a.jsx)(za.a,{item:!0,xs:1,children:Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[700],width:100,height:100},"aria-label":String(s("common.clientsavailable")),children:Object($a.jsxs)(Qa.a,{variant:"body1",style:{fontSize:".9em",textAlign:"center"},children:[String(s("common.clientsavailable")),C]})})})]})}),Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"flex-start",children:[Object($a.jsxs)(za.a,{item:!0,xs:12,children:[Object($a.jsx)("hr",{}),Object($a.jsx)(qs,{open:!!h&&!!h.clientid,handleClose:function(){p(null)},handleAccept:function(){h&&h.clientid&&(f(gn.updateExternalClient.request({clientName:h.clientid,netid:h.network,newClientName:h.clientid,enabled:!h.enabled})),o.push("/prouser/".concat(i,"/vpnview")))},message:s("extclient.changeconfirm"),title:"".concat((null===h||void 0===h?void 0:h.enabled)?s("common.disable"):s("common.enable")," ").concat(null===h||void 0===h?void 0:h.clientid)})]}),Object($a.jsxs)(za.a,{item:!0,xs:12,sm:12,md:5,sx:{margin:"0.5rem 0.1rem 0.5rem 0.1rem"},children:[Object($a.jsx)("div",{style:ku,children:Object($a.jsx)(Qa.a,{variant:"h4",sx:{marginBottom:"1em"},children:"".concat(i," ").concat(s("ingress.gateways"))})}),Object($a.jsx)(Ss,{columns:wu,rows:t,getRowId:function(e){return e.id},actions:[function(e){return{tooltip:s("ingress.view"),disabled:!n.filter((function(t){return t.ingressgatewayid===e.id})).length,icon:w(e.id)?Object($a.jsx)(hd.a,{}):Object($a.jsx)(pd.a,{}),onClick:function(){var t,c;t=e.id,c=w(e.id),u(c?[].concat(Object(se.a)(j),Object(se.a)(n.filter((function(e){return e.ingressgatewayid===t})))):Object(se.a)(j.filter((function(e){return e.ingressgatewayid!==t}))))}}}],tableId:"_gateways"})]}),Object($a.jsxs)(za.a,{item:!0,xs:12,sm:12,md:6.5,sx:{margin:"0.5rem 0.1rem 0.5rem 0.1rem"},children:[Object($a.jsx)("div",{style:ku,children:Object($a.jsx)(Qa.a,{variant:"h4",sx:{marginBottom:"1em"},children:s("ingress.clients")})}),Object($a.jsx)(Ss,{columns:y,rows:n.filter((function(e){return!~j.findIndex((function(t){return t.clientid===e.clientid}))})),getRowId:function(e){return e.clientid},tableId:"_extClients"})]})]})]})})},Su=function(){var e=Object(Ba.g)(),t=Object(Ya.a)().t,n=Object(Ba.j)().path,c=Object(Ba.i)(),r=c.netid,s=c.clientid,i="".concat(n.split(":netid")[0]).concat(r),o=Object(T.b)(),l=Object(T.c)(a.isInDarkMode),d=Object(T.c)(x.networkUserData)[r],j=d.clients.filter((function(e){return e.clientid===s}))[0];ar({link:i,title:s}),ar({title:t("common.edit")});var u=Object(p.useCallback)((function(t){j&&(o(gn.updateExternalClient.request({clientName:s,netid:r,newClientName:t.clientid,enabled:j.enabled})),o(Wt.request({networkUserID:d.user.id})),e.goBack())}),[o,s,r,e,j,d]),b={modal:{position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,backgroundColor:l?"#272727":xr.a[100],border:"1px solid #000",minWidth:"33%",pt:2,px:4,pb:3},center:{textAlign:"center"},max:{width:"75%"}};return Object($a.jsx)(lo.a,{open:!0,onClose:function(){e.push(i)},children:Object($a.jsx)(ps.a,{style:b.modal,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",style:{margin:"0.5em"},children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:b.center,children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(t("extclient.edit")," : ").concat(s)})}),Object($a.jsx)(za.a,{item:!0,xs:10,style:b.center,children:Object($a.jsx)(Ei,{initialState:{clientid:""},onSubmit:u,submitProps:{variant:"contained",fullWidth:!0,type:"submit"},children:Object($a.jsx)(Di,{name:"clientid",defaultValue:s,label:String(t("extclient.clientid")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",autoFocus:!0})})})]})})})},Au=function(){var e=Object(Ba.g)(),t=Object(T.c)(l.getCurrentQrCode),n=Object(Ya.a)().t,c=Object(Ba.i)(),a=c.netid,r=c.clientid,s=Object(T.b)();ar({link:"/prouser/".concat(a,"/vpnview"),title:r}),ar({title:"qr"});if(!t)return Object($a.jsx)(ao,{});var i={modal:{position:"absolute",display:"flex",flexDirection:"column",flex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,backgroundColor:"white",border:"1px solid #000",minWidth:"33%",pt:2,px:4,pb:3},center:{textAlign:"center"},max:{width:"75%"}};return Object($a.jsx)(lo.a,{open:!0,onClose:function(){s(Object(gn.clearQr)()),e.goBack()},children:Object($a.jsx)(ps.a,{style:i.modal,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,style:i.center,children:Object($a.jsx)(Qa.a,{variant:"h5",color:"black",children:"".concat(n("extclient.qr")," : ").concat(r)})}),Object($a.jsx)(za.a,{item:!0,xs:12,style:i.center,children:Object($a.jsx)("img",{style:i.max,src:t,alt:"QR code for client, ".concat(r,".")})})]})})})},Nu=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(Ba.i)().netid,c=Object(T.c)(x.networkUserData)[n],a=[],r=[];return c&&(a=c.clients,r=c.vpns),ar({title:t("breadcrumbs.netadmindashboard")}),Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Cu,{vpns:r,clients:a})})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:clientid/edit"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Su,{})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:clientid/qr"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Au,{})})})]})})},Iu=function(e){var t=e.nodes,n=e.isNetAdmin,c=Object(Ba.j)(),a=c.path,r=c.url,s=Object(Ya.a)().t,i=Object(Ba.i)().netid,o=Object(T.c)(l.getNodeSort),d=O.a.useState(t),j=Object(Va.a)(d,2),u=j[0],b=j[1],m=O.a.useState({}),x=Object(Va.a)(m,2),h=x[0],f=x[1],g=Object(T.b)(),y=Object(p.useState)(" "),v=Object(Va.a)(y,2),w=v[0],k=v[1];Object(p.useEffect)((function(){w?t&&b(t.filter((function(e){return"".concat(e.name).concat(e.address).concat(e.network).includes(w)}))):b(t)}),[t,w]);if(ar({link:r,title:s("breadcrumbs.nodes")}),!t)return Object($a.jsx)(Lj,{});var C=[{id:"name",labelKey:"node.name",minWidth:100,sortable:!0,format:function(e,t){return Object($a.jsxs)(ms,{to:n?"/prouser/".concat(t.network,"/nodeview/edit/").concat(encodeURIComponent(t.id)):"/prouser/".concat(t.network,"/nodeview/view/").concat(encodeURIComponent(t.id)),sx:{textTransform:"none"},children:[e,"".concat("yes"===t.ispending?" (".concat(ye.a.t("common.pending"),")"):"")]})}},{id:"address",labelKey:"node.addresses",minWidth:130,align:"center",format:function(e,t){return Object($a.jsx)(Qs,{type:"subtitle2",values:[t.address,t.address6]})}},{id:"version",labelKey:"node.version",minWidth:50,align:"center",format:function(e){return Object($a.jsx)($a.Fragment,{children:e||"N/A"})}},{id:"network",labelKey:"node.network",minWidth:100,align:"right"}];n&&(C.push({id:"isegressgateway",labelKey:"node.statusegress",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"egress",isOn:e,node:t,createText:"".concat(ye.a.t("node.createegress")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removeegress")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Gs.a,{}),withHistory:!0})}}),C.push({id:"isingressgateway",labelKey:"node.statusingress",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"ingress",isOn:e,node:t,createText:"".concat(ye.a.t("node.createingress")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removeingress")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Vs.a,{})})}}),C.push({id:"isrelay",labelKey:"node.statusrelay",minWidth:30,align:"center",format:function(e,t){return Object($a.jsx)(Ls,{which:"relay",isOn:e,node:t,createText:"".concat(ye.a.t("node.createrelay")," : ").concat(t.name),removeText:"".concat(ye.a.t("node.removerelay")," : ").concat(t.name),SignalIcon:Object($a.jsx)(Bs.a,{}),withHistory:!0})}})),C.push({id:"lastcheckin",labelKey:"node.status",minWidth:170,align:"center",format:function(e){var t=Date.now()/1e3;return t-e>=1800?Object($a.jsx)(ls.a,{title:s("node.error"),placement:"top",children:Object($a.jsx)(As.a,{color:"error",label:"ERROR"})}):t-e>=300?Object($a.jsx)(ls.a,{title:s("node.warning"),placement:"top",children:Object($a.jsx)(As.a,{color:"warning",label:"WARNING"})}):Object($a.jsx)(ls.a,{title:s("node.healthy"),placement:"top",children:Object($a.jsx)(As.a,{color:"success",label:"HEALTHY"})})}});var S=function(){f({})};return Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:a,children:[Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,md:12,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:8,md:4,children:Object($a.jsx)(Qa.a,{variant:"h4",children:"".concat(i," ").concat(s("node.nodes"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,md:8,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:2,md:1,children:Object($a.jsx)(ls.a,{title:"".concat(s("network.graph")),placement:"top","aria-label":"view node graph",children:Object($a.jsx)(ds.a,{component:Xa.b,to:"/graphs/".concat(i),children:Object($a.jsx)(pr.a,{})})})}),Object($a.jsx)(za.a,{item:!0,xs:5,md:3,children:Object($a.jsx)(Ao,{values:["address","name","network"],ascending:o.ascending,onSelect:function(e){"address"!==e&&"name"!==e&&"network"!==e||g(Object(gn.setNodeSort)(Object(Re.a)(Object(Re.a)({},o),{},{value:e})))},onAscendClick:function(){g(Object(gn.setNodeSort)(Object(Re.a)(Object(Re.a)({},o),{},{ascending:!o.ascending})))},currentValue:o.value})}),Object($a.jsx)(za.a,{item:!0,xs:8,md:3,children:Object($a.jsx)(is.a,{InputProps:{startAdornment:Object($a.jsx)(os.a,{position:"start",children:Object($a.jsx)(xi.a,{})})},label:"".concat(s("common.search")," ").concat(s("node.nodes")),onChange:function(e){var t=e.target.value.trim();k(t)}})}),Object($a.jsx)(za.a,{item:!0,xs:7.5,md:4,paddingBottom:"1rem",children:Object($a.jsx)(mi,{selectAll:!0})})]})})]})})}),Object($a.jsx)("hr",{}),Object($a.jsx)(Ss,{columns:C,rows:u.length&&u.length<t.length?u:t,actions:[function(e){return{tooltip:e.isserver?s("common.disabled"):s("common.delete"),disabled:e.isserver,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){f(e)}}}],getRowId:function(e){return e.id}}),Object($a.jsx)(qs,{open:!!h.name,handleClose:S,handleAccept:function(){h.name&&(g(gn.deleteNode.request({netid:h.network,nodeid:h.id})),S())},message:s("node.deleteconfirm"),title:"".concat(s("common.delete")," ").concat(h.name)})]}),Object($a.jsx)(Ba.b,{path:"".concat(a,"/:nodeId/create-egress"),children:Object($a.jsx)(ho,{})}),Object($a.jsx)(Ba.b,{path:"".concat(a,"/:nodeId/create-relay"),children:Object($a.jsx)(vo,{})}),Object($a.jsx)(Ba.b,{path:"".concat(a,"/:nodeId"),children:Object($a.jsx)(ro,{})})]})},Eu=function(){var e,t=Object(Ba.j)().url,n=Object(Ba.g)(),c=Object(Ya.a)().t,a=Object(T.b)(),r=Object(Ba.i)(),s=r.netid,i=r.nodeid,o=Object(T.c)(x.networkUserData)[s];e=o?o.nodes.filter((function(e){return e.id===i}))[0]:{};var l=O.a.useState(!1),d=Object(Va.a)(l,2),j=d[0],u=d[1];ar({link:t,title:decodeURIComponent(i)});if(!e||!e.id)return Object($a.jsx)("div",{children:"Not Found"});var b={margin:"1em 0 1em 0"},m=!e.isstatic;return Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsx)(qs,{open:j,handleClose:function(){u(!1)},handleAccept:function(){a(gn.deleteNode.request({netid:e.network,nodeid:e.id})),n.push("/prouser/".concat(s,"/nodeview"))},message:c("node.deleteconfirm"),title:"".concat(c("common.delete")," ").concat(e.name)}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"1em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(c("node.details")," : ").concat(e.name).concat("yes"===e.ispending?" (".concat(c("common.pending"),")"):"")})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:6,md:6,sx:b,children:Object($a.jsx)("div",{style:{display:"flex",alignItems:"space-between",justifyContent:"center"},children:Object($a.jsx)(us.a,{disabled:e.isserver,variant:"outlined",color:"warning",style:{width:"50%",margin:"4px"},onClick:function(){u(!0)},children:c("common.delete")})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:3,sx:b}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:3,sx:b}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.endpoint,label:String(c("node.endpoint"))})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:3,sx:b,children:Object($a.jsx)(yi.a,{label:String(c("node.isstatic")),control:Object($a.jsx)(vi.a,{checked:m,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.listenport,label:String(c("node.listenport"))})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:3,sx:b,children:Object($a.jsx)(yi.a,{label:String(c("node.udpholepunch")),control:Object($a.jsx)(vi.a,{checked:e.udpholepunch,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.address,label:String(c("node.address"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.address6,label:String(c("node.address6"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.localaddress,label:String(c("node.localaddress"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.name,label:String(c("node.name"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.publickey,label:String(c("node.publickey"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.postup,label:String(c("node.postup"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.postdown,label:String(c("node.postdown"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.allowedips?e.allowedips.join(","):"",label:String(c("node.allowedips"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.persistentkeepalive,label:String(c("node.persistentkeepalive"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:wi(e.lastmodified),label:String(c("node.lastmodified"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:wi(e.expdatetime),label:String(c("node.expdatetime"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:wi(e.lastcheckin),label:String(c("node.lastcheckin"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.macaddress,label:String(c("node.macaddress"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.egressgatewayranges?e.egressgatewayranges.join(","):"",label:String(c("node.egressgatewayranges"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.localrange,label:String(c("node.localrange"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.os,label:String(c("node.os"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.mtu,label:String(c("node.mtu"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:e.network,label:String(c("node.network"))})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:b,children:Object($a.jsx)(is.a,{disabled:!0,value:void 0===e.defaultacl?dc:e.defaultacl?jc:uc,label:String(c("node.defaultacl"))})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:b,children:Object($a.jsx)(yi.a,{label:String(c("node.dnson")),control:Object($a.jsx)(vi.a,{checked:e.dnson,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:b,children:Object($a.jsx)(yi.a,{label:String(c("node.islocal")),control:Object($a.jsx)(vi.a,{checked:e.islocal,disabled:!0}),disabled:!0})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:b,children:Object($a.jsx)(yi.a,{label:String(c("node.ishub")),control:Object($a.jsx)(vi.a,{checked:e.ishub,disabled:!0}),disabled:!0})})]})})]})},Tu=function(){var e,t,n,c,a,r,s=Object(Ba.j)().url,i=Object(Ya.a)().t,o=Object(T.b)(),l=Object(Ba.g)(),d=Object(T.c)(j.getServerConfig),u=Object(Ba.i)(),b=u.netid,m=u.nodeid,h=Object(T.c)(x.networkUserData)[b];h?(a=h.nodes.filter((function(e){return e.id===m}))[0],r=h.networks.filter((function(e){return e.netid===b}))[0]):(a={},r={});var f=Object(p.useMemo)((function(){return Pi({address:function(e,t){if(t.address)return Yi.test(e)?void 0:{message:i("network.validation.ipv4"),type:"value"}},address6:function(e,t){if(t.address6)return Hi.test(e)?void 0:{message:i("network.validation.ipv6"),type:"value"}},egressgatewayranges:function(e,t){if(t.isegressgateway){"string"===typeof e&&(e=Li(e));for(var n=0;n<e.length;n++){var c=zi.test(e[n]),a=Hi.test(e[n]);if(!c&&!a)return{message:i("node.validation.egressgatewayrange"),type:"value"}}}},relayaddrs:function(e,t){if(t.isrelay){"string"===typeof e&&(e=Li(e));for(var n=0;n<e.length;n++){var c=Yi.test(e[n]),a=Zi.test(e[n]);if(!c&&!a)return{message:i("node.validation.relayaddress"),type:"value"}}}}})}),[i]);ar({link:s,title:decodeURIComponent(i("common.edit"))});var g=O.a.useState(0),y=Object(Va.a)(g,2),v=y[0],w=y[1],k={margin:"1em 0 1em 0"},C=Object(p.useCallback)((function(e){if("string"===typeof e.relayaddrs){var t=Ui(String(e.relayaddrs));t.length&&(e.relayaddrs=t)}if("string"===typeof e.egressgatewayranges){var n=Ui(String(e.egressgatewayranges));n.length&&(e.egressgatewayranges=n)}if("string"===typeof e.allowedips){var c=Ui(String(e.allowedips));c.length&&(e.allowedips=c)}v&&v!==e.expdatetime&&(e.expdatetime=v),o(gn.updateNode.request({token:"",netid:b,node:Object(Re.a)(Object(Re.a)({},e),{},{isstatic:!e.isstatic})}))}),[o,b,v]);if(!a||!a.id||!r||!r.netid)return Object($a.jsx)(ao,{});var S=!a.isstatic;return Object($a.jsx)(Ei,{resolver:f,initialState:Object(Re.a)(Object(Re.a)({},a),{},{isstatic:!a.isstatic}),onSubmit:C,onCancel:function(){return l.goBack()},submitProps:{variant:"contained",fullWidth:!0},sx:k,children:Object($a.jsxs)(za.a,{container:!0,children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("div",{style:{textAlign:"center",margin:"0.5em 0 1em 0"},children:Object($a.jsx)(Qa.a,{variant:"h5",children:"".concat(i("node.details")," : ").concat(a.name).concat("yes"===a.ispending?" (".concat(i("common.pending"),")"):"")})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:a.isstatic?String(i("node.endpointdisable")):String(i("node.endpointenable")),children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:a.endpoint,name:"endpoint",label:String(i("node.endpoint")),disabled:S})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.dynamicendpoint")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(i("node.isstatic")),name:"isstatic",defaultValue:S})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.defaultlistenport")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:String(a.listenport),name:"listenport",label:String(i("node.listenport")),type:"number",disabled:a.isserver||a.udpholepunch})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:(null===(e=r)||void 0===e?void 0:e.defaultudpholepunch)?String(i("helper.dynamicport")):String(i("node.udpdisabled")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(i("node.udpholepunch")),name:"udpholepunch",defaultValue:a.udpholepunch,disabled:!(null===(t=r)||void 0===t?void 0:t.defaultudpholepunch)})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.whatisipv4")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{name:"address",label:String(i("node.address")),defaultValue:a.address,disabled:a.isserver})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.whatisipv6")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:a.address6,name:"address6",label:String(i("node.address6")),disabled:!(null===(n=r)||void 0===n?void 0:n.isipv6)})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.localaddress")),placement:"top",children:Object($a.jsx)(Di,{defaultValue:a.localaddress,name:"localaddress",label:String(i("node.localaddress"))})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.nodename")),placement:"top",children:Object($a.jsx)(Di,{defaultValue:a.name,name:"name",label:String(i("node.name"))})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.publickey")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!0,defaultValue:i("node.publickey"),name:"publickey",label:String(i("node.publickey"))})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.nodepostup")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:a.postup,name:"postup",label:String(i("node.postup")),disabled:!d.RCE})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.nodepostdown")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:a.postdown,label:String(i("node.postdown")),name:"postdown",disabled:!d.RCE})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.allowedips")),placement:"top",children:Object($a.jsx)(Di,{defaultValue:a.allowedips?a.allowedips.join(","):"",label:String(i("node.allowedips")),name:"allowedips"})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.persistentkeepalive")),placement:"top",children:Object($a.jsx)(Di,{defaultValue:a.persistentkeepalive,label:String(i("node.persistentkeepalive")),name:"persistentkeepalive"})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.relayaddress")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!a.isrelay,defaultValue:a.relayaddrs?a.relayaddrs.join(","):"",label:String(i("node.relayaddrs")),name:"relayaddrs"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.nodeexpires")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ga.b,{dateAdapter:La.a,children:Object($a.jsx)(Gi.a,{renderInput:function(e){return Object($a.jsx)(is.a,Object(Re.a)({fullWidth:!1,sx:{maxWidth:"15rem"}},e))},label:String(i("node.expdatetime")),value:wi(v||a.expdatetime),onChange:function(e){e&&w(new Date(e).getTime()/1e3)}})})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.lastcheckin")),placement:"top",children:Object($a.jsx)(is.a,{disabled:!0,value:wi(a.lastcheckin),label:String(i("node.lastcheckin")),name:"lastcheckin"})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.macaddress")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!0,defaultValue:a.macaddress,label:String(i("node.macaddress")),name:"macaddress"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.network")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!0,defaultValue:a.network,label:String(i("node.network")),name:"network"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.egressrange")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!a.isegressgateway,defaultValue:a.egressgatewayranges?a.egressgatewayranges.join(","):"",label:String(i("node.egressgatewayranges")),name:"egressgatewayranges"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.nodelocalrange")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{defaultValue:a.localrange,label:String(i("node.localrange")),name:"localrange",disabled:!a.islocal})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.nodeos")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Di,{disabled:!0,defaultValue:a.os,label:String(i("node.os")),name:"os"})})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.mtu")),placement:"top",children:Object($a.jsx)(Di,{type:"number",defaultValue:String(a.mtu),label:String(i("node.mtu")),name:"mtu"})})}),Object($a.jsx)(za.a,{item:!0,xs:6,sm:4,md:3,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.defaultacl")),placement:"top",children:Object($a.jsx)(Xi,{defaultValue:void 0===a.defaultacl?dc:a.defaultacl?jc:uc,label:String(i("node.defaultacl")),name:"defaultacl",selections:[{key:dc,option:void 0},{key:jc,option:!0},{key:uc,option:!1}]})})}),Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.isdnson")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(i("node.dnson")),name:"dnson",defaultValue:a.dnson})})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.nodeislocal")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(i("node.islocal")),name:"islocal",defaultValue:a.islocal})})})}),Object($a.jsx)(za.a,{item:!0,xs:10,sm:4,md:2,sx:k,children:Object($a.jsx)(ls.a,{title:String(i("helper.networkhub")),placement:"top",children:Object($a.jsx)("span",{children:Object($a.jsx)(Ri,{label:String(i("node.ishub")),name:"ishub",defaultValue:a.ishub,disabled:!(null===(c=r)||void 0===c?void 0:c.ispointtosite)})})})})]})]})})},Ru=function(){var e=Object(Ba.j)().path,t=Object(Ba.i)().netid,n=Object(T.c)(x.networkUserData)[t],c=[];return n?(c=n.nodes,Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Iu,{nodes:c,isNetAdmin:n.user&&0===n.user.accesslevel})})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/view/:nodeid"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Eu,{})})}),0===n.user.accesslevel&&Object($a.jsx)(Ba.b,{path:"".concat(e,"/edit/:nodeid"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Tu,{})})})]})})):Object($a.jsx)(ao,{})},Mu=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(Ba.i)().netid,c=Object(T.c)(x.networkUserData)[n],a=Object(Ba.g)(),r=[],s={};return c&&(r=c.clients,s=c.networks.filter((function(e){return e.netid===n}))[0]),ar({title:t("breadcrumbs.netadmindashboard")}),Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:5,children:Object($a.jsx)(ju,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:5,children:Object($a.jsx)(uu,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:5,children:Object($a.jsx)(du,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:5,children:Object($a.jsx)(bu,{clients:r})})]})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/proedit"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Ou,{onCancel:function(){return a.push("/prouser/".concat(n))},network:s})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/nodeview"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Ru,{})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/accesskeys"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(pu,{})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/vpnview"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Nu,{})})})]})})},Du=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(Ba.i)().netid,c=Object(T.c)(x.networkUserData)[n],a=[];return c&&(a=c.clients),ar({title:t("breadcrumbs.nodeuserdashboard")}),Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:5,children:Object($a.jsx)(uu,{})}),Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:5,children:Object($a.jsx)(bu,{clients:a})})]})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/vpnview"),children:Object($a.jsx)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Nu,{})})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/nodeview"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Ru,{})})})]})})},Pu=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(Ba.i)().netid,c=Object(T.c)(x.networkUserData)[n],a=[];return c&&(a=c.clients),ar({title:t("breadcrumbs.netadmindashboard")}),Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:e,children:Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",children:Object($a.jsx)(za.a,{item:!0,xs:12,sm:6,md:5,children:Object($a.jsx)(bu,{clients:a})})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/vpnview"),children:Object($a.jsx)(za.a,{children:Object($a.jsx)(Nu,{})})})]})})};function Wu(){var e=Object(Ba.i)().netid,t=Object(T.c)(x.networkUserData);if(!t||!t[e])return Object($a.jsx)(ao,{});switch(t[e].user.accesslevel){case 0:return Object($a.jsx)(Mu,{});case 1:return Object($a.jsx)(Du,{});case 2:return Object($a.jsx)(Pu,{});default:return Object($a.jsx)("div",{children:"NO ACCESS"})}}var _u=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t,n=Object(T.c)(x.isProcessing);return ar({title:t("breadcrumbs.userdashboard")}),n?Object($a.jsx)(xj,{}):Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsx)(Ba.b,{exact:!0,path:"".concat(e),children:Object($a.jsx)(za.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",textAlign:"center",children:Object($a.jsx)(za.a,{item:!0,xs:8,children:Object($a.jsx)(lu,{})})})}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/:netid"),children:Object($a.jsx)(Wu,{})})]})})},Fu=n(262),qu=n.n(Fu);function Uu(){var e=Object(Ya.a)().t,t=Object(gr.a)(),n=Object(T.c)(a.getUser);return Object($a.jsx)(us.a,{component:Xa.b,to:"/prouser",color:"inherit",fullWidth:!0,style:{textTransform:"none",maxWidth:"100%",justifyContent:"center"},children:Object($a.jsx)(ir.a,{sx:{minWidth:275,backgroundColor:xr.a[200]},variant:"outlined",style:{marginBottom:"1em",marginTop:"1em",height:"100%",width:"50%",MaxWidth:"50%",minHeight:"15em"},children:Object($a.jsxs)(hr.a,{children:[Object($a.jsx)(sr.a,{sx:{bgcolor:xr.a[900]},"aria-label":String(e("pro.label.welcomcard")),children:Object($a.jsx)(qu.a,{sx:{color:t.palette.common.white}})}),Object($a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object($a.jsx)(Qa.a,{variant:"h5",component:"div",color:"black",children:"".concat(e("pro.label.welcome")," ").concat(null===n||void 0===n?void 0:n.name)}),Object($a.jsx)(Qa.a,{variant:"body2",color:"primary",children:"".concat(e("pro.label.welcomecard"))})]})]})})})}var Ku=[{id:"name",labelKey:"users.table.name",minWidth:170,sortable:!0,format:function(e){return Object($a.jsx)(ms,{to:"/users/".concat(e),children:e})}},{id:"isAdmin",labelKey:"users.table.isAdmin",minWidth:100,sortable:!0,format:function(e){return e?"True":"False"}},{id:"networks",labelKey:"users.table.networks",minWidth:150,sortable:!1,format:function(e,t){return!t.isAdmin||e&&e.length?Object($a.jsx)("span",{children:null===e||void 0===e?void 0:e.map((function(e){return Object($a.jsx)(ms,{to:"/networks/".concat(e),children:e},e)}))}):Object($a.jsx)("span",{children:"*"})}}],Lu=function(){var e=Object(T.c)(a.getUsers),t=Lo(),n=t.Component,c=t.setProps,r=Object(Ya.a)().t,s=Object(T.b)();return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Ss,{columns:Ku,rows:e,getRowId:function(e){return e.name},actions:[function(e){return{tooltip:r("common.delete"),disabled:!1,icon:Object($a.jsx)(Hs.a,{}),onClick:function(){c({message:r("users.delete"),title:r("users.deleteTitle"),onSubmit:function(){return s(G.request({username:e.name}))}})}}}]}),Object($a.jsx)(n,{})]})},Gu=function(){var e=Object(Ya.a)().t,t=Object(Ba.i)().username,n=Lo(),c=n.Component,r=n.setProps,s=Object(T.c)(a.getUser);ar({title:t});var i=Object(T.b)(),l=Object(T.c)(a.getUsers).find((function(e){return e.name===t})),d=Object(T.c)(o.getNetworks),j={username:(null===l||void 0===l?void 0:l.name)||"",isadmin:!!(null===l||void 0===l?void 0:l.isAdmin),networks:d.map((function(e){var t;return{checked:!!(null===l||void 0===l||null===(t=l.networks)||void 0===t?void 0:t.includes(e.netid)),netid:e.netid}}))},u=O.a.createRef(),b=Object(p.useCallback)((function(t){var n=function(){return i(B.request({username:t.username,isadmin:t.isadmin,networks:t.networks.filter((function(e){return e.checked})).map((function(e){return e.netid})),groups:["*"]}))};t.isadmin?r({message:e("users.update.createAdmin"),onSubmit:n,title:e("users.update.isAdminTitle")}):n()}),[i,e,r]),m=Object(p.useMemo)((function(){return Pi({username:function(t){return Vi.test(t)?void 0:{message:e("users.validation.username"),type:"value"}}})}),[e]);return(null===s||void 0===s?void 0:s.isAdmin)?t?Object($a.jsxs)(za.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)("h3",{children:e("users.update.header")})}),Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Ei,{ref:u,initialState:j,resolver:m,onSubmit:b,submitText:e((null===l||void 0===l?void 0:l.isAdmin)?"users.update.adminSubmit":"users.update.submit"),submitProps:{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},disabled:null===l||void 0===l?void 0:l.isAdmin,children:Object($a.jsxs)(za.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Di,{name:"username",label:String(e("users.label.username")),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"false",autoFocus:!0,disabled:!0})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Ti,{name:"isadmin",label:String(e("users.update.isAdmin"))})}),Object($a.jsx)(za.a,{item:!0,sm:12,md:5,children:Object($a.jsx)(Wi,{name:"networks",children:function(t,n){return Object($a.jsxs)(il.a,{dense:!0,sx:{width:"100%",bgcolor:"background.paper",overflowY:"scroll",maxHeight:"22em"},children:[Object($a.jsx)(Ad.a,{children:e("users.update.networks")}),t.map((function(e){return Object($a.jsx)(Ol.a,{children:Object($a.jsx)(Ti,{name:e.getFieldName("checked"),label:e.netid,disabled:n})},e.id)}))]})}})})]})})}),Object($a.jsx)(c,{})]}):Object($a.jsx)("div",{children:"Not Found"}):null},Vu=function(){var e=Object(Ba.j)().path,t=Object(Ya.a)().t;return ar({title:t("breadcrumbs.users")}),Object($a.jsx)(Ha.a,{children:Object($a.jsxs)(Ba.d,{children:[Object($a.jsxs)(Ba.b,{exact:!0,path:e,children:[Object($a.jsx)(za.a,{item:!0,xs:10,children:Object($a.jsxs)(za.a,{container:!0,direction:"row",display:"flex",justifyContent:"flex-end",alignItems:"center",children:[Object($a.jsx)(za.a,{item:!0,xs:9,children:Object($a.jsx)("h2",{children:t("users.header")})}),Object($a.jsx)(za.a,{item:!0,xs:2,children:Object($a.jsx)(ms,{fullWidth:!0,variant:"contained",to:{pathname:"/users/create"},children:t("users.create.button")})})]})}),Object($a.jsx)(Lu,{})]}),Object($a.jsx)(Ba.b,{path:"".concat(e,"/create"),children:Object($a.jsx)(Id,{})}),Object($a.jsxs)(Ba.b,{path:"".concat(e,"/:username"),children:[Object($a.jsx)(Gu,{}),Object($a.jsx)(Td,{})]})]})})};var Bu=function(){var e,t=Object(Ba.h)(),n=null===(e=t.state)||void 0===e?void 0:e.from,c=Object(T.c)(a.getUser),r=Object(T.c)(j.getServerConfig),s=O.a.useState(!1),i=Object(Va.a)(s,2),o=i[0],l=i[1];return O.a.useEffect((function(){r&&r.IsEE?l(r.IsEE):l(!1)}),[r,o]),Object($a.jsxs)(za.a,{container:!0,justifyContent:"right",children:[Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(Jl,{})}),!(null===c||void 0===c?void 0:c.isAdmin)&&Object($a.jsx)($a.Fragment,{children:Object($a.jsx)(za.a,{item:!0,xs:12,children:Object($a.jsx)(su,{})})}),Object($a.jsxs)(za.a,{item:!0,xs:12,children:[o?Object($a.jsxs)(Ba.d,{location:n||t,children:[Object($a.jsx)(nl,{exact:!0,path:"/",children:(null===c||void 0===c?void 0:c.isAdmin)?Object($a.jsx)(ss,{}):Object($a.jsx)(Uu,{})}),Object($a.jsx)(nl,{path:"/networks",children:Object($a.jsx)(el,{})}),Object($a.jsx)(nl,{path:"/prouser",children:(null===c||void 0===c?void 0:c.isAdmin)?Object($a.jsx)(ss,{}):Object($a.jsx)(_u,{})}),Object($a.jsx)(nl,{path:"/nodes",children:Object($a.jsx)(Io,{})}),Object($a.jsx)(nl,{path:"/access-keys",children:Object($a.jsx)(ad,{})}),Object($a.jsx)(nl,{path:"/ext-clients",children:Object($a.jsx)(wd,{})}),Object($a.jsx)(nl,{path:"/dns",children:Object($a.jsx)(Gd,{})}),Object($a.jsx)(nl,{path:"/graphs",children:Object($a.jsx)(lj,{})}),Object($a.jsx)(nl,{path:"/acls",children:Object($a.jsx)(Oj,{})}),Object($a.jsx)(nl,{path:"/logs",children:Object($a.jsx)(fj,{})}),Object($a.jsx)(nl,{path:"/metrics",children:Object($a.jsx)(Bj,{})}),Object($a.jsx)(nl,{path:"/ec",children:Object($a.jsx)(Bj,{})}),Object($a.jsx)(nl,{path:"/usergroups",children:Object($a.jsx)(Zj,{})}),Object($a.jsx)(nl,{path:"/user-permissions",children:Object($a.jsx)(Xj,{})}),Object($a.jsx)(nl,{path:"/users",to:{pathname:"/"},condition:function(e){return!(!e||"/users/".concat(null===e||void 0===e?void 0:e.name)!==t.pathname)||!!(null===e||void 0===e?void 0:e.isAdmin)},children:Object($a.jsx)(Wd,{})}),Object($a.jsx)(Ba.b,{path:"/login",children:Object($a.jsx)(Wo,{})}),Object($a.jsx)(Ba.b,{path:"*",children:Object($a.jsx)(ao,{})})]}):Object($a.jsxs)(Ba.d,{location:n||t,children:[Object($a.jsx)(nl,{exact:!0,path:"/",children:Object($a.jsx)(ss,{})}),Object($a.jsx)(nl,{path:"/networks",children:Object($a.jsx)(el,{})}),Object($a.jsx)(nl,{path:"/nodes",children:Object($a.jsx)(Io,{})}),Object($a.jsx)(nl,{path:"/access-keys",children:Object($a.jsx)(ad,{})}),Object($a.jsx)(nl,{path:"/ext-clients",children:Object($a.jsx)(wd,{})}),Object($a.jsx)(nl,{path:"/dns",children:Object($a.jsx)(Gd,{})}),Object($a.jsx)(nl,{path:"/graphs",children:Object($a.jsx)(lj,{})}),Object($a.jsx)(nl,{path:"/acls",children:Object($a.jsx)(Oj,{})}),Object($a.jsx)(nl,{path:"/logs",children:Object($a.jsx)(fj,{})}),Object($a.jsx)(nl,{path:"/users",to:{pathname:"/"},condition:function(e){return!(!e||"/users/".concat(null===e||void 0===e?void 0:e.name)!==t.pathname)||!!(null===e||void 0===e?void 0:e.isAdmin)},children:Object($a.jsx)(Vu,{})}),Object($a.jsx)(Ba.b,{path:"/login",children:Object($a.jsx)(Wo,{})}),Object($a.jsx)(Ba.b,{path:"*",children:Object($a.jsx)(ao,{})})]}),Object($a.jsx)(kd,{}),n&&Object($a.jsx)(Ba.b,{path:"/login",children:Object($a.jsx)(Wo,{})})]})]})};var Hu=function(){var e=Object(T.b)(),t=Object(T.c)(a.getUser),n=Object(T.c)(a.getToken),c=Object(T.c)(a.getLoggedIn),r=Object(T.c)(l.getShouldSignOut),s=Object(T.c)(m.getCurrentACL),i=Object(T.c)(a.getUserSettings);O.a.useEffect((function(){var a=setInterval((function(){!c||t&&Date.now()/1e3>t.exp&&!window.location.href.includes("/login")||r?e(W()):c&&n&&t&&t.isAdmin&&e(gn.getNodes.request({token:n}))}),7500);return function(){return clearInterval(a)}}),[e,t,c,n,r,s]);var o="light"===(i.mode||"dark")?E:I;return Object($a.jsx)(O.a.StrictMode,{children:Object($a.jsx)(nr,{children:Object($a.jsx)(v.a,{theme:o,children:Object($a.jsxs)(Ga.b,{dateAdapter:La.a,children:[Object($a.jsx)(Bu,{}),Object($a.jsx)(y.a,{containerId:"App.tsx"})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var zu=n(98),Yu=n(263),Zu=n(265),Qu=Object(Yu.createLogger)({level:"info"}),Ju=(T.c,function(){var e,t=Object(Zu.a)();e=J?Object(zu.a)(Qu,t):Object(zu.a)(t);var n=Object(zu.d)(Object(zu.b)({auth:ne,api:ut,network:It,node:yn.a,server:gc,router:$c,acls:sa,pro:ha}),e);return t.run(function(){var e=ae.a.mark(t);function t(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([lt(),Ie(),mn(),nc(),zc(),Ke(),ta(),ua(),Ma()]);case 2:case"end":return e.stop()}}),e)}return t}()),n}());g.a.render(Object($a.jsx)(O.a.StrictMode,{children:Object($a.jsx)(Xa.a,{children:Object($a.jsx)(T.a,{store:Ju,children:Object($a.jsx)(Hu,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},59:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var c=n(10),a=function(e){return Object(c.a)(Object(c.a)({},e),{},{mtu:Number(e.mtu),persistentkeepalive:Number(e.persistentkeepalive),listenport:Number(e.listenport),isegressgateway:e.isegressgateway?"yes":"no",isingressgateway:e.isingressgateway?"yes":"no",isstatic:e.isstatic?"yes":"no",udpholepunch:e.udpholepunch?"yes":"no",dnson:e.dnson?"yes":"no",isdualstack:e.isdualstack?"yes":"no",isserver:e.isserver?"yes":"no",islocal:e.islocal?"yes":"no",ipforwarding:e.ipforwarding?"yes":"no",isrelay:e.isrelay?"yes":"no",isrelayed:e.isrelayed?"yes":"no",isdocker:e.isdocker?"yes":"no",isk8s:e.isk8s?"yes":"no",ishub:e.ishub?"yes":"no",defaultacl:void 0===e.defaultacl?"unset":e.defaultacl?"yes":"no",connected:e.connected?"yes":"no",failover:e.failover?"yes":"no"})},r=function(e){return Object(c.a)(Object(c.a)({},e),{},{mtu:Number(e.mtu),persistentkeepalive:Number(e.persistentkeepalive),listenport:Number(e.listenport),isegressgateway:"yes"===e.isegressgateway,isingressgateway:"yes"===e.isingressgateway,isstatic:"yes"===e.isstatic,udpholepunch:"yes"===e.udpholepunch,dnson:"yes"===e.dnson,isdualstack:"yes"===e.isdualstack,isserver:"yes"===e.isserver,islocal:"yes"===e.islocal,ipforwarding:"yes"===e.ipforwarding,isrelay:"yes"===e.isrelay,isrelayed:"yes"===e.isrelayed,isdocker:"yes"===e.isdocker,isk8s:"yes"===e.isk8s,ishub:"yes"===e.ishub,defaultacl:"unset"===e.defaultacl?void 0:"yes"===e.defaultacl,connected:"yes"===e.connected,failover:"yes"===e.failover})};function s(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}},[[388,1,2]]]);
//# sourceMappingURL=main.252001b3.chunk.js.map